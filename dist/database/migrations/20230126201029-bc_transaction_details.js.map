{"version":3,"file":"20230126201029-bc_transaction_details.js","names":["module","exports","up","queryInterface","Sequelize","transaction","sequelize","addColumn","type","STRING","allowNull","commit","err","rollback","down","removeColumn"],"sources":["../../../src/database/migrations/20230126201029-bc_transaction_details.js"],"sourcesContent":["'use strict';\r\n\r\n/** @type {import('sequelize-cli').Migration} */\r\nmodule.exports = {\r\n  async up (queryInterface, Sequelize) {\r\n    const transaction = await queryInterface.sequelize.transaction();\r\n    try {\r\n      await queryInterface.addColumn(\r\n        'Swaps', // table name\r\n        'tx', // new field name\r\n        {\r\n          type: Sequelize.STRING,\r\n          allowNull: true,\r\n        },\r\n        { transaction }\r\n      );\r\n      await queryInterface.addColumn(\r\n        'Swaps', // table name\r\n        'notes', // new field name\r\n        {\r\n          type: Sequelize.STRING,\r\n          allowNull: true,\r\n        },\r\n        { transaction }\r\n      );\r\n      await transaction.commit();\r\n    } catch (err) {\r\n      await transaction.rollback();\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async down (queryInterface, Sequelize) {\r\n    const transaction = await queryInterface.sequelize.transaction();\r\n    try {\r\n      await queryInterface.removeColumn('Swaps', 'tx', { transaction });\r\n      await queryInterface.removeColumn('Swaps', 'notes', { transaction });\r\n      await transaction.commit();\r\n    } catch (err) {\r\n      await transaction.rollback();\r\n      throw err;\r\n    }\r\n  }\r\n};\r\n"],"mappings":"AAAA,YAAY;;AAEZ;AACAA,MAAM,CAACC,OAAO,GAAG;EACf,MAAMC,EAAE,CAAEC,cAAc,EAAEC,SAAS,EAAE;IACnC,MAAMC,WAAW,GAAG,MAAMF,cAAc,CAACG,SAAS,CAACD,WAAW,EAAE;IAChE,IAAI;MACF,MAAMF,cAAc,CAACI,SAAS,CAC5B,OAAO;MAAE;MACT,IAAI;MAAE;MACN;QACEC,IAAI,EAAEJ,SAAS,CAACK,MAAM;QACtBC,SAAS,EAAE;MACb,CAAC,EACD;QAAEL;MAAY,CAAC,CAChB;MACD,MAAMF,cAAc,CAACI,SAAS,CAC5B,OAAO;MAAE;MACT,OAAO;MAAE;MACT;QACEC,IAAI,EAAEJ,SAAS,CAACK,MAAM;QACtBC,SAAS,EAAE;MACb,CAAC,EACD;QAAEL;MAAY,CAAC,CAChB;MACD,MAAMA,WAAW,CAACM,MAAM,EAAE;IAC5B,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZ,MAAMP,WAAW,CAACQ,QAAQ,EAAE;MAC5B,MAAMD,GAAG;IACX;EACF,CAAC;EAED,MAAME,IAAI,CAAEX,cAAc,EAAEC,SAAS,EAAE;IACrC,MAAMC,WAAW,GAAG,MAAMF,cAAc,CAACG,SAAS,CAACD,WAAW,EAAE;IAChE,IAAI;MACF,MAAMF,cAAc,CAACY,YAAY,CAAC,OAAO,EAAE,IAAI,EAAE;QAAEV;MAAY,CAAC,CAAC;MACjE,MAAMF,cAAc,CAACY,YAAY,CAAC,OAAO,EAAE,OAAO,EAAE;QAAEV;MAAY,CAAC,CAAC;MACpE,MAAMA,WAAW,CAACM,MAAM,EAAE;IAC5B,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZ,MAAMP,WAAW,CAACQ,QAAQ,EAAE;MAC5B,MAAMD,GAAG;IACX;EACF;AACF,CAAC"}