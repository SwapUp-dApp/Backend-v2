{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:development":{"value":{"code":"\"use strict\";\n\nrequire(\"dotenv/config\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _index = _interopRequireDefault(require(\"./api/routes/index.js\"));\nvar _expressRateLimit = _interopRequireDefault(require(\"express-rate-limit\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//preload all the environment values\n\nconst app = (0, _express.default)();\nconst port = process.env.PORT || 3000;\n\n//parse application/json and look for raw text\napp.use(_bodyParser.default.json());\napp.use(_bodyParser.default.urlencoded({\n  extended: true\n}));\napp.use(_bodyParser.default.text());\napp.use(_bodyParser.default.json({\n  type: 'application/json'\n}));\n\n/**\r\n * Adding headers to our requests.\r\n */\napp.use((req, res, next) => {\n  res.header(\"Access-Control-Allow-Origin\", \"*\");\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept, Authorization\");\n  if (req.method === \"OPTIONS\") {\n    res.header(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, PATCH\");\n    return res.status(200).json({});\n  }\n  next();\n});\n\n/* apply rate limit */\n\nconst apiLimiter = (0, _expressRateLimit.default)({\n  windowMs: (process.env.API_RATE_WINDOW || 15) * 60 * 1000,\n  // 15 minutes\n  max: process.env.API_RATE_LIMIT || 100,\n  // Limit each IP to 100 requests per `window` (here, per 15 minutes)\n  standardHeaders: true,\n  // Return rate limit info in the `RateLimit-*` headers\n  legacyHeaders: false // Disable the `X-RateLimit-*` headers\n});\n\napp.use(\"/api\", apiLimiter, _index.default);\napp.listen(port);\napp.use((req, res, next) => {\n  const error = Error(\"Not found\");\n  res.statusCode = 404;\n  res.send({\n    error: error.message\n  });\n});\nconsole.log('SwapUp RESTful API server started on: ' + port);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJleHByZXNzIiwicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJ0ZXh0IiwidHlwZSIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXIiLCJtZXRob2QiLCJzdGF0dXMiLCJhcGlMaW1pdGVyIiwicmF0ZUxpbWl0Iiwid2luZG93TXMiLCJBUElfUkFURV9XSU5ET1ciLCJtYXgiLCJBUElfUkFURV9MSU1JVCIsInN0YW5kYXJkSGVhZGVycyIsImxlZ2FjeUhlYWRlcnMiLCJhcGlSb3V0ZXIiLCJsaXN0ZW4iLCJlcnJvciIsIkVycm9yIiwic3RhdHVzQ29kZSIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXCIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcImRvdGVudi9jb25maWdcIjsgLy9wcmVsb2FkIGFsbCB0aGUgZW52aXJvbm1lbnQgdmFsdWVzXHJcblxyXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xyXG5pbXBvcnQgYXBpUm91dGVyIGZyb20gJy4vYXBpL3JvdXRlcy9pbmRleC5qcyc7XHJcblxyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDA7XHJcblxyXG4vL3BhcnNlIGFwcGxpY2F0aW9uL2pzb24gYW5kIGxvb2sgZm9yIHJhdyB0ZXh0XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcclxuYXBwLnVzZShib2R5UGFyc2VyLnRleHQoKSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pKTtcclxuXHJcbi8qKlxyXG4gKiBBZGRpbmcgaGVhZGVycyB0byBvdXIgcmVxdWVzdHMuXHJcbiAqL1xyXG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgXCIqXCIpO1xyXG4gIHJlcy5oZWFkZXIoXHJcbiAgICBcIkFjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnNcIixcclxuICAgIFwiT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCwgQXV0aG9yaXphdGlvblwiXHJcbiAgKTtcclxuICBpZiAocmVxLm1ldGhvZCA9PT0gXCJPUFRJT05TXCIpIHtcclxuICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIFwiR0VULCBQT1NULCBQVVQsIERFTEVURSwgUEFUQ0hcIik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe30pO1xyXG4gIH1cclxuICBuZXh0KCk7XHJcbn0pO1xyXG5cclxuLyogYXBwbHkgcmF0ZSBsaW1pdCAqL1xyXG5pbXBvcnQgcmF0ZUxpbWl0IGZyb20gJ2V4cHJlc3MtcmF0ZS1saW1pdCc7XHJcblxyXG5jb25zdCBhcGlMaW1pdGVyID0gcmF0ZUxpbWl0KHtcclxuICB3aW5kb3dNczogKHByb2Nlc3MuZW52LkFQSV9SQVRFX1dJTkRPVyB8fCAxNSkgKiA2MCAqIDEwMDAsIC8vIDE1IG1pbnV0ZXNcclxuICBtYXg6IHByb2Nlc3MuZW52LkFQSV9SQVRFX0xJTUlUIHx8IDEwMCwgLy8gTGltaXQgZWFjaCBJUCB0byAxMDAgcmVxdWVzdHMgcGVyIGB3aW5kb3dgIChoZXJlLCBwZXIgMTUgbWludXRlcylcclxuICBzdGFuZGFyZEhlYWRlcnM6IHRydWUsIC8vIFJldHVybiByYXRlIGxpbWl0IGluZm8gaW4gdGhlIGBSYXRlTGltaXQtKmAgaGVhZGVyc1xyXG4gIGxlZ2FjeUhlYWRlcnM6IGZhbHNlLCAvLyBEaXNhYmxlIHRoZSBgWC1SYXRlTGltaXQtKmAgaGVhZGVyc1xyXG59KTtcclxuXHJcbmFwcC51c2UoXCIvYXBpXCIsIGFwaUxpbWl0ZXIsIGFwaVJvdXRlcik7XHJcbmFwcC5saXN0ZW4ocG9ydCk7XHJcblxyXG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGNvbnN0IGVycm9yID0gRXJyb3IoXCJOb3QgZm91bmRcIik7XHJcbiAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XHJcbiAgcmVzLnNlbmQoeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxufSk7XHJcblxyXG5jb25zb2xlLmxvZygnU3dhcFVwIFJFU1RmdWwgQVBJIHNlcnZlciBzdGFydGVkIG9uOiAnICsgcG9ydCk7Il0sIm1hcHBpbmdzIjoiOztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBNEJBO0FBQTJDO0FBaENuQjs7QUFNeEIsTUFBTUEsR0FBRyxHQUFHLElBQUFDLGdCQUFPLEdBQUU7QUFDckIsTUFBTUMsSUFBSSxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsSUFBSSxJQUFJLElBQUk7O0FBRXJDO0FBQ0FMLEdBQUcsQ0FBQ00sR0FBRyxDQUFDQyxtQkFBVSxDQUFDQyxJQUFJLEVBQUUsQ0FBQztBQUMxQlIsR0FBRyxDQUFDTSxHQUFHLENBQUNDLG1CQUFVLENBQUNFLFVBQVUsQ0FBQztFQUFFQyxRQUFRLEVBQUU7QUFBSyxDQUFDLENBQUMsQ0FBQztBQUNsRFYsR0FBRyxDQUFDTSxHQUFHLENBQUNDLG1CQUFVLENBQUNJLElBQUksRUFBRSxDQUFDO0FBQzFCWCxHQUFHLENBQUNNLEdBQUcsQ0FBQ0MsbUJBQVUsQ0FBQ0MsSUFBSSxDQUFDO0VBQUVJLElBQUksRUFBRTtBQUFtQixDQUFDLENBQUMsQ0FBQzs7QUFFdEQ7QUFDQTtBQUNBO0FBQ0FaLEdBQUcsQ0FBQ00sR0FBRyxDQUFDLENBQUNPLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDMUJELEdBQUcsQ0FBQ0UsTUFBTSxDQUFDLDZCQUE2QixFQUFFLEdBQUcsQ0FBQztFQUM5Q0YsR0FBRyxDQUFDRSxNQUFNLENBQ1IsOEJBQThCLEVBQzlCLCtEQUErRCxDQUNoRTtFQUNELElBQUlILEdBQUcsQ0FBQ0ksTUFBTSxLQUFLLFNBQVMsRUFBRTtJQUM1QkgsR0FBRyxDQUFDRSxNQUFNLENBQUMsOEJBQThCLEVBQUUsK0JBQStCLENBQUM7SUFDM0UsT0FBT0YsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNWLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUNqQztFQUNBTyxJQUFJLEVBQUU7QUFDUixDQUFDLENBQUM7O0FBRUY7O0FBR0EsTUFBTUksVUFBVSxHQUFHLElBQUFDLHlCQUFTLEVBQUM7RUFDM0JDLFFBQVEsRUFBRSxDQUFDbEIsT0FBTyxDQUFDQyxHQUFHLENBQUNrQixlQUFlLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxJQUFJO0VBQUU7RUFDM0RDLEdBQUcsRUFBRXBCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDb0IsY0FBYyxJQUFJLEdBQUc7RUFBRTtFQUN4Q0MsZUFBZSxFQUFFLElBQUk7RUFBRTtFQUN2QkMsYUFBYSxFQUFFLEtBQUssQ0FBRTtBQUN4QixDQUFDLENBQUM7O0FBRUYxQixHQUFHLENBQUNNLEdBQUcsQ0FBQyxNQUFNLEVBQUVhLFVBQVUsRUFBRVEsY0FBUyxDQUFDO0FBQ3RDM0IsR0FBRyxDQUFDNEIsTUFBTSxDQUFDMUIsSUFBSSxDQUFDO0FBRWhCRixHQUFHLENBQUNNLEdBQUcsQ0FBQyxDQUFDTyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQzFCLE1BQU1jLEtBQUssR0FBR0MsS0FBSyxDQUFDLFdBQVcsQ0FBQztFQUNoQ2hCLEdBQUcsQ0FBQ2lCLFVBQVUsR0FBRyxHQUFHO0VBQ3BCakIsR0FBRyxDQUFDa0IsSUFBSSxDQUFDO0lBQUVILEtBQUssRUFBRUEsS0FBSyxDQUFDSTtFQUFRLENBQUMsQ0FBQztBQUNwQyxDQUFDLENBQUM7QUFFRkMsT0FBTyxDQUFDQyxHQUFHLENBQUMsd0NBQXdDLEdBQUdqQyxJQUFJLENBQUMifQ==","map":{"version":3,"names":["app","express","port","process","env","PORT","use","bodyParser","json","urlencoded","extended","text","type","req","res","next","header","method","status","apiLimiter","rateLimit","windowMs","API_RATE_WINDOW","max","API_RATE_LIMIT","standardHeaders","legacyHeaders","apiRouter","listen","error","Error","statusCode","send","message","console","log"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\","sources":["server.js"],"sourcesContent":["import \"dotenv/config\"; //preload all the environment values\r\n\r\nimport express from 'express';\r\nimport bodyParser from 'body-parser';\r\nimport apiRouter from './api/routes/index.js';\r\n\r\nconst app = express();\r\nconst port = process.env.PORT || 3000;\r\n\r\n//parse application/json and look for raw text\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({ extended: true }));\r\napp.use(bodyParser.text());\r\napp.use(bodyParser.json({ type: 'application/json' }));\r\n\r\n/**\r\n * Adding headers to our requests.\r\n */\r\napp.use((req, res, next) => {\r\n  res.header(\"Access-Control-Allow-Origin\", \"*\");\r\n  res.header(\r\n    \"Access-Control-Allow-Headers\",\r\n    \"Origin, X-Requested-With, Content-Type, Accept, Authorization\"\r\n  );\r\n  if (req.method === \"OPTIONS\") {\r\n    res.header(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, PATCH\");\r\n    return res.status(200).json({});\r\n  }\r\n  next();\r\n});\r\n\r\n/* apply rate limit */\r\nimport rateLimit from 'express-rate-limit';\r\n\r\nconst apiLimiter = rateLimit({\r\n  windowMs: (process.env.API_RATE_WINDOW || 15) * 60 * 1000, // 15 minutes\r\n  max: process.env.API_RATE_LIMIT || 100, // Limit each IP to 100 requests per `window` (here, per 15 minutes)\r\n  standardHeaders: true, // Return rate limit info in the `RateLimit-*` headers\r\n  legacyHeaders: false, // Disable the `X-RateLimit-*` headers\r\n});\r\n\r\napp.use(\"/api\", apiLimiter, apiRouter);\r\napp.listen(port);\r\n\r\napp.use((req, res, next) => {\r\n  const error = Error(\"Not found\");\r\n  res.statusCode = 404;\r\n  res.send({ error: error.message });\r\n});\r\n\r\nconsole.log('SwapUp RESTful API server started on: ' + port);"],"mappings":";;AAAA;AAEA;AACA;AACA;AA4BA;AAA2C;AAhCnB;;AAMxB,MAAMA,GAAG,GAAG,IAAAC,gBAAO,GAAE;AACrB,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI;;AAErC;AACAL,GAAG,CAACM,GAAG,CAACC,mBAAU,CAACC,IAAI,EAAE,CAAC;AAC1BR,GAAG,CAACM,GAAG,CAACC,mBAAU,CAACE,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAClDV,GAAG,CAACM,GAAG,CAACC,mBAAU,CAACI,IAAI,EAAE,CAAC;AAC1BX,GAAG,CAACM,GAAG,CAACC,mBAAU,CAACC,IAAI,CAAC;EAAEI,IAAI,EAAE;AAAmB,CAAC,CAAC,CAAC;;AAEtD;AACA;AACA;AACAZ,GAAG,CAACM,GAAG,CAAC,CAACO,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC1BD,GAAG,CAACE,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC;EAC9CF,GAAG,CAACE,MAAM,CACR,8BAA8B,EAC9B,+DAA+D,CAChE;EACD,IAAIH,GAAG,CAACI,MAAM,KAAK,SAAS,EAAE;IAC5BH,GAAG,CAACE,MAAM,CAAC,8BAA8B,EAAE,+BAA+B,CAAC;IAC3E,OAAOF,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACV,IAAI,CAAC,CAAC,CAAC,CAAC;EACjC;EACAO,IAAI,EAAE;AACR,CAAC,CAAC;;AAEF;;AAGA,MAAMI,UAAU,GAAG,IAAAC,yBAAS,EAAC;EAC3BC,QAAQ,EAAE,CAAClB,OAAO,CAACC,GAAG,CAACkB,eAAe,IAAI,EAAE,IAAI,EAAE,GAAG,IAAI;EAAE;EAC3DC,GAAG,EAAEpB,OAAO,CAACC,GAAG,CAACoB,cAAc,IAAI,GAAG;EAAE;EACxCC,eAAe,EAAE,IAAI;EAAE;EACvBC,aAAa,EAAE,KAAK,CAAE;AACxB,CAAC,CAAC;;AAEF1B,GAAG,CAACM,GAAG,CAAC,MAAM,EAAEa,UAAU,EAAEQ,cAAS,CAAC;AACtC3B,GAAG,CAAC4B,MAAM,CAAC1B,IAAI,CAAC;AAEhBF,GAAG,CAACM,GAAG,CAAC,CAACO,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC1B,MAAMc,KAAK,GAAGC,KAAK,CAAC,WAAW,CAAC;EAChChB,GAAG,CAACiB,UAAU,GAAG,GAAG;EACpBjB,GAAG,CAACkB,IAAI,CAAC;IAAEH,KAAK,EAAEA,KAAK,CAACI;EAAQ,CAAC,CAAC;AACpC,CAAC,CAAC;AAEFC,OAAO,CAACC,GAAG,CAAC,wCAAwC,GAAGjC,IAAI,CAAC"}},"mtime":1718370377908},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _walletRoutes = require(\"./walletRoutes.js\");\nvar _nftRoutes = require(\"./nftRoutes.js\");\nvar _swapsRoutes = require(\"./swapsRoutes.js\");\nvar _openSwapRouter = require(\"./openSwapRouter.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst apiRouter = _express.default.Router();\napiRouter.use(\"/nfts\", _nftRoutes.nftRouter);\napiRouter.use(\"/wallets\", _walletRoutes.walletRouter);\napiRouter.use(\"/swaps\", _swapsRoutes.swapRouter);\napiRouter.use('/openswap', _openSwapRouter.openSwapRouter);\nvar _default = apiRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcGlSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwidXNlIiwibmZ0Um91dGVyIiwid2FsbGV0Um91dGVyIiwic3dhcFJvdXRlciIsIm9wZW5Td2FwUm91dGVyIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEtvbWFsIFN5ZWRcXExhdGVzdFNhamphZENvZGVcXEJhY2tlbmQtdjJcXHNyY1xcYXBpXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG4gXHJcbmltcG9ydCB7IHdhbGxldFJvdXRlciB9IGZyb20gXCIuL3dhbGxldFJvdXRlcy5qc1wiXHJcbmltcG9ydCB7IG5mdFJvdXRlciB9IGZyb20gXCIuL25mdFJvdXRlcy5qc1wiXHJcbmltcG9ydCB7IHN3YXBSb3V0ZXIgfSBmcm9tIFwiLi9zd2Fwc1JvdXRlcy5qc1wiXHJcbmltcG9ydCB7IG9wZW5Td2FwUm91dGVyIH0gZnJvbSAnLi9vcGVuU3dhcFJvdXRlci5qcyc7XHJcblxyXG5cclxuY29uc3QgYXBpUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKVxyXG5cclxuYXBpUm91dGVyLnVzZShcIi9uZnRzXCIsIG5mdFJvdXRlcilcclxuYXBpUm91dGVyLnVzZShcIi93YWxsZXRzXCIsIHdhbGxldFJvdXRlcilcclxuYXBpUm91dGVyLnVzZShcIi9zd2Fwc1wiLCBzd2FwUm91dGVyKVxyXG5hcGlSb3V0ZXIudXNlKCcvb3BlbnN3YXAnLCBvcGVuU3dhcFJvdXRlcilcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFwaVJvdXRlclxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBcUQ7QUFHckQsTUFBTUEsU0FBUyxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFFbENGLFNBQVMsQ0FBQ0csR0FBRyxDQUFDLE9BQU8sRUFBRUMsb0JBQVMsQ0FBQztBQUNqQ0osU0FBUyxDQUFDRyxHQUFHLENBQUMsVUFBVSxFQUFFRSwwQkFBWSxDQUFDO0FBQ3ZDTCxTQUFTLENBQUNHLEdBQUcsQ0FBQyxRQUFRLEVBQUVHLHVCQUFVLENBQUM7QUFDbkNOLFNBQVMsQ0FBQ0csR0FBRyxDQUFDLFdBQVcsRUFBRUksOEJBQWMsQ0FBQztBQUFBLGVBRTNCUCxTQUFTO0FBQUEifQ==","map":{"version":3,"names":["apiRouter","express","Router","use","nftRouter","walletRouter","swapRouter","openSwapRouter"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\routes\\","sources":["index.js"],"sourcesContent":["import express from \"express\"\r\n \r\nimport { walletRouter } from \"./walletRoutes.js\"\r\nimport { nftRouter } from \"./nftRoutes.js\"\r\nimport { swapRouter } from \"./swapsRoutes.js\"\r\nimport { openSwapRouter } from './openSwapRouter.js';\r\n\r\n\r\nconst apiRouter = express.Router()\r\n\r\napiRouter.use(\"/nfts\", nftRouter)\r\napiRouter.use(\"/wallets\", walletRouter)\r\napiRouter.use(\"/swaps\", swapRouter)\r\napiRouter.use('/openswap', openSwapRouter)\r\n\r\nexport default apiRouter\r\n"],"mappings":";;;;;;AAAA;AAEA;AACA;AACA;AACA;AAAqD;AAGrD,MAAMA,SAAS,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAElCF,SAAS,CAACG,GAAG,CAAC,OAAO,EAAEC,oBAAS,CAAC;AACjCJ,SAAS,CAACG,GAAG,CAAC,UAAU,EAAEE,0BAAY,CAAC;AACvCL,SAAS,CAACG,GAAG,CAAC,QAAQ,EAAEG,uBAAU,CAAC;AACnCN,SAAS,CAACG,GAAG,CAAC,WAAW,EAAEI,8BAAc,CAAC;AAAA,eAE3BP,SAAS;AAAA"}},"mtime":1718370377896},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\walletRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.walletRouter = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _walletController = require(\"../controllers/walletController.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst walletRouter = _express.default.Router();\nexports.walletRouter = walletRouter;\nwalletRouter.get('/', _walletController.walletController.list_all_wallets).post('/', _walletController.walletController.create_wallet);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ3YWxsZXRSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0Iiwid2FsbGV0Q29udHJvbGxlciIsImxpc3RfYWxsX3dhbGxldHMiLCJwb3N0IiwiY3JlYXRlX3dhbGxldCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXGFwaVxccm91dGVzXFwiLCJzb3VyY2VzIjpbIndhbGxldFJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgd2FsbGV0Q29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL3dhbGxldENvbnRyb2xsZXIuanMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHdhbGxldFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG53YWxsZXRSb3V0ZXJcclxuICAgIC5nZXQoJy8nLCB3YWxsZXRDb250cm9sbGVyLmxpc3RfYWxsX3dhbGxldHMpXHJcbiAgICAucG9zdCgnLycsIHdhbGxldENvbnRyb2xsZXIuY3JlYXRlX3dhbGxldCk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUFzRTtBQUUvRCxNQUFNQSxZQUFZLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sRUFBRTtBQUFDO0FBRTdDRixZQUFZLENBQ1BHLEdBQUcsQ0FBQyxHQUFHLEVBQUVDLGtDQUFnQixDQUFDQyxnQkFBZ0IsQ0FBQyxDQUMzQ0MsSUFBSSxDQUFDLEdBQUcsRUFBRUYsa0NBQWdCLENBQUNHLGFBQWEsQ0FBQyJ9","map":{"version":3,"names":["walletRouter","express","Router","get","walletController","list_all_wallets","post","create_wallet"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\routes\\","sources":["walletRoutes.js"],"sourcesContent":["import express from 'express';\r\nimport { walletController } from '../controllers/walletController.js';\r\n\r\nexport const walletRouter = express.Router();\r\n\r\nwalletRouter\r\n    .get('/', walletController.list_all_wallets)\r\n    .post('/', walletController.create_wallet);\r\n"],"mappings":";;;;;;AAAA;AACA;AAAsE;AAE/D,MAAMA,YAAY,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAAC;AAE7CF,YAAY,CACPG,GAAG,CAAC,GAAG,EAAEC,kCAAgB,CAACC,gBAAgB,CAAC,CAC3CC,IAAI,CAAC,GAAG,EAAEF,kCAAgB,CAACG,aAAa,CAAC"}},"mtime":1718370377900},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\walletController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.walletController = void 0;\nvar _models = _interopRequireDefault(require(\"../../database/models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function list_all_wallets(req, res) {\n  try {\n    let getdata = await _models.default.users.findAll(req.body);\n    if (getdata) {\n      res.json({\n        success: true,\n        message: \"list_all_wallets\",\n        data: getdata\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***list_all_wallets -> ${err}`\n    });\n  }\n}\nasync function create_wallet(req, res) {\n  let walletAddress = req.body.walletAddress;\n  try {\n    let checkdata = await _models.default.users.findOne({\n      where: {\n        wallet: walletAddress\n      }\n    });\n    if (checkdata) {\n      res.json({\n        message: `create_wallet: ${walletAddress} already exists`,\n        data: checkdata\n      });\n    } else {\n      let createdata = await _models.default.users.create({\n        wallet: walletAddress\n      });\n      if (createdata) {\n        res.json({\n          success: true,\n          message: `create_wallet: ${walletAddress}`,\n          data: createdata\n        });\n      }\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `create_wallet: ${walletAddress} -> ${err}`\n    });\n  }\n}\nconst walletController = {\n  list_all_wallets,\n  create_wallet\n};\nexports.walletController = walletController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsaXN0X2FsbF93YWxsZXRzIiwicmVxIiwicmVzIiwiZ2V0ZGF0YSIsImRiIiwidXNlcnMiLCJmaW5kQWxsIiwiYm9keSIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsImRhdGEiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwic3RhdHVzIiwiY3JlYXRlX3dhbGxldCIsIndhbGxldEFkZHJlc3MiLCJjaGVja2RhdGEiLCJmaW5kT25lIiwid2hlcmUiLCJ3YWxsZXQiLCJjcmVhdGVkYXRhIiwiY3JlYXRlIiwid2FsbGV0Q29udHJvbGxlciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXGFwaVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsid2FsbGV0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGIgZnJvbSBcIi4uLy4uL2RhdGFiYXNlL21vZGVsc1wiO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gbGlzdF9hbGxfd2FsbGV0cyhyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgZ2V0ZGF0YSA9IGF3YWl0IGRiLnVzZXJzLmZpbmRBbGwocmVxLmJvZHkpO1xyXG4gICAgICAgIGlmIChnZXRkYXRhKSB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImxpc3RfYWxsX3dhbGxldHNcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IGdldGRhdGFcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBgKioqbGlzdF9hbGxfd2FsbGV0cyAtPiAke2Vycn1gXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZV93YWxsZXQocmVxLCByZXMpIHtcclxuICAgIGxldCB3YWxsZXRBZGRyZXNzID0gcmVxLmJvZHkud2FsbGV0QWRkcmVzcztcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IGNoZWNrZGF0YSA9IGF3YWl0IGRiLnVzZXJzLmZpbmRPbmUoeyB3aGVyZTogeyB3YWxsZXQ6IHdhbGxldEFkZHJlc3MgfSB9KTtcclxuICAgICAgICBpZiAoY2hlY2tkYXRhKSB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBjcmVhdGVfd2FsbGV0OiAke3dhbGxldEFkZHJlc3N9IGFscmVhZHkgZXhpc3RzYCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGNoZWNrZGF0YVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgY3JlYXRlZGF0YSA9IGF3YWl0IGRiLnVzZXJzLmNyZWF0ZSh7IHdhbGxldDogd2FsbGV0QWRkcmVzcyB9KTtcclxuICAgICAgICAgICAgaWYgKGNyZWF0ZWRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBjcmVhdGVfd2FsbGV0OiAke3dhbGxldEFkZHJlc3N9YCxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjcmVhdGVkYXRhXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogYGNyZWF0ZV93YWxsZXQ6ICR7d2FsbGV0QWRkcmVzc30gLT4gJHtlcnJ9YFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgd2FsbGV0Q29udHJvbGxlciA9IHsgbGlzdF9hbGxfd2FsbGV0cywgY3JlYXRlX3dhbGxldCB9OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBdUM7QUFFdkMsZUFBZUEsZ0JBQWdCLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFO0VBQ3RDLElBQUk7SUFDQSxJQUFJQyxPQUFPLEdBQUcsTUFBTUMsZUFBRSxDQUFDQyxLQUFLLENBQUNDLE9BQU8sQ0FBQ0wsR0FBRyxDQUFDTSxJQUFJLENBQUM7SUFDOUMsSUFBSUosT0FBTyxFQUFFO01BQ1RELEdBQUcsQ0FBQ00sSUFBSSxDQUFDO1FBQ0xDLE9BQU8sRUFBRSxJQUFJO1FBQ2JDLE9BQU8sRUFBRSxrQkFBa0I7UUFDM0JDLElBQUksRUFBRVI7TUFDVixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUMsQ0FBQyxPQUFPUyxHQUFHLEVBQUU7SUFDVkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQztJQUNoQlYsR0FBRyxDQUFDYSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNQLElBQUksQ0FBQztNQUNqQkMsT0FBTyxFQUFFLEtBQUs7TUFDZEMsT0FBTyxFQUFHLDBCQUF5QkUsR0FBSTtJQUMzQyxDQUFDLENBQUM7RUFDTjtBQUNKO0FBRUEsZUFBZUksYUFBYSxDQUFDZixHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUNuQyxJQUFJZSxhQUFhLEdBQUdoQixHQUFHLENBQUNNLElBQUksQ0FBQ1UsYUFBYTtFQUMxQyxJQUFJO0lBQ0EsSUFBSUMsU0FBUyxHQUFHLE1BQU1kLGVBQUUsQ0FBQ0MsS0FBSyxDQUFDYyxPQUFPLENBQUM7TUFBRUMsS0FBSyxFQUFFO1FBQUVDLE1BQU0sRUFBRUo7TUFBYztJQUFFLENBQUMsQ0FBQztJQUM1RSxJQUFJQyxTQUFTLEVBQUU7TUFDWGhCLEdBQUcsQ0FBQ00sSUFBSSxDQUFDO1FBQ0xFLE9BQU8sRUFBRyxrQkFBaUJPLGFBQWMsaUJBQWdCO1FBQ3pETixJQUFJLEVBQUVPO01BQ1YsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxNQUFNO01BQ0gsSUFBSUksVUFBVSxHQUFHLE1BQU1sQixlQUFFLENBQUNDLEtBQUssQ0FBQ2tCLE1BQU0sQ0FBQztRQUFFRixNQUFNLEVBQUVKO01BQWMsQ0FBQyxDQUFDO01BQ2pFLElBQUlLLFVBQVUsRUFBRTtRQUNacEIsR0FBRyxDQUFDTSxJQUFJLENBQUM7VUFDTEMsT0FBTyxFQUFFLElBQUk7VUFDYkMsT0FBTyxFQUFHLGtCQUFpQk8sYUFBYyxFQUFDO1VBQzFDTixJQUFJLEVBQUVXO1FBQ1YsQ0FBQyxDQUFDO01BQ047SUFDSjtFQUNKLENBQUMsQ0FBQyxPQUFPVixHQUFHLEVBQUU7SUFDVkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQztJQUNoQlYsR0FBRyxDQUFDYSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNQLElBQUksQ0FBQztNQUNqQkMsT0FBTyxFQUFFLEtBQUs7TUFDZEMsT0FBTyxFQUFHLGtCQUFpQk8sYUFBYyxPQUFNTCxHQUFJO0lBQ3ZELENBQUMsQ0FBQztFQUNOO0FBQ0o7QUFFTyxNQUFNWSxnQkFBZ0IsR0FBRztFQUFFeEIsZ0JBQWdCO0VBQUVnQjtBQUFjLENBQUM7QUFBQyJ9","map":{"version":3,"names":["list_all_wallets","req","res","getdata","db","users","findAll","body","json","success","message","data","err","console","log","status","create_wallet","walletAddress","checkdata","findOne","where","wallet","createdata","create","walletController"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\controllers\\","sources":["walletController.js"],"sourcesContent":["import db from \"../../database/models\";\r\n\r\nasync function list_all_wallets(req, res) {\r\n    try {\r\n        let getdata = await db.users.findAll(req.body);\r\n        if (getdata) {\r\n            res.json({\r\n                success: true,\r\n                message: \"list_all_wallets\",\r\n                data: getdata\r\n            });\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***list_all_wallets -> ${err}`\r\n        });\r\n    }\r\n}\r\n\r\nasync function create_wallet(req, res) {\r\n    let walletAddress = req.body.walletAddress;\r\n    try {\r\n        let checkdata = await db.users.findOne({ where: { wallet: walletAddress } });\r\n        if (checkdata) {\r\n            res.json({\r\n                message: `create_wallet: ${walletAddress} already exists`,\r\n                data: checkdata\r\n            });\r\n        } else {\r\n            let createdata = await db.users.create({ wallet: walletAddress });\r\n            if (createdata) {\r\n                res.json({\r\n                    success: true,\r\n                    message: `create_wallet: ${walletAddress}`,\r\n                    data: createdata\r\n                });\r\n            }\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `create_wallet: ${walletAddress} -> ${err}`\r\n        });\r\n    }\r\n}\r\n\r\nexport const walletController = { list_all_wallets, create_wallet };"],"mappings":";;;;;;AAAA;AAAuC;AAEvC,eAAeA,gBAAgB,CAACC,GAAG,EAAEC,GAAG,EAAE;EACtC,IAAI;IACA,IAAIC,OAAO,GAAG,MAAMC,eAAE,CAACC,KAAK,CAACC,OAAO,CAACL,GAAG,CAACM,IAAI,CAAC;IAC9C,IAAIJ,OAAO,EAAE;MACTD,GAAG,CAACM,IAAI,CAAC;QACLC,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,kBAAkB;QAC3BC,IAAI,EAAER;MACV,CAAC,CAAC;IACN;EACJ,CAAC,CAAC,OAAOS,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBV,GAAG,CAACa,MAAM,CAAC,GAAG,CAAC,CAACP,IAAI,CAAC;MACjBC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAG,0BAAyBE,GAAI;IAC3C,CAAC,CAAC;EACN;AACJ;AAEA,eAAeI,aAAa,CAACf,GAAG,EAAEC,GAAG,EAAE;EACnC,IAAIe,aAAa,GAAGhB,GAAG,CAACM,IAAI,CAACU,aAAa;EAC1C,IAAI;IACA,IAAIC,SAAS,GAAG,MAAMd,eAAE,CAACC,KAAK,CAACc,OAAO,CAAC;MAAEC,KAAK,EAAE;QAAEC,MAAM,EAAEJ;MAAc;IAAE,CAAC,CAAC;IAC5E,IAAIC,SAAS,EAAE;MACXhB,GAAG,CAACM,IAAI,CAAC;QACLE,OAAO,EAAG,kBAAiBO,aAAc,iBAAgB;QACzDN,IAAI,EAAEO;MACV,CAAC,CAAC;IACN,CAAC,MAAM;MACH,IAAII,UAAU,GAAG,MAAMlB,eAAE,CAACC,KAAK,CAACkB,MAAM,CAAC;QAAEF,MAAM,EAAEJ;MAAc,CAAC,CAAC;MACjE,IAAIK,UAAU,EAAE;QACZpB,GAAG,CAACM,IAAI,CAAC;UACLC,OAAO,EAAE,IAAI;UACbC,OAAO,EAAG,kBAAiBO,aAAc,EAAC;UAC1CN,IAAI,EAAEW;QACV,CAAC,CAAC;MACN;IACJ;EACJ,CAAC,CAAC,OAAOV,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBV,GAAG,CAACa,MAAM,CAAC,GAAG,CAAC,CAACP,IAAI,CAAC;MACjBC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAG,kBAAiBO,aAAc,OAAML,GAAI;IACvD,CAAC,CAAC;EACN;AACJ;AAEO,MAAMY,gBAAgB,GAAG;EAAExB,gBAAgB;EAAEgB;AAAc,CAAC;AAAC"}},"mtime":1718370377895},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\models\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _sequelize = _interopRequireDefault(require(\"sequelize\"));\nvar _config = _interopRequireDefault(require(\"../config.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst env = process.env.NODE_ENV || \"development\";\nconst config = _config.default[env];\nconst db = {};\nlet sequelize = new _sequelize.default({\n  database: config.database,\n  username: config.username,\n  password: config.password,\n  host: config.host,\n  //tcp:swapup-dev.database.windows.net,1433\n  dialect: config.dialect || \"mssql\",\n  encrypt: true,\n  port: config.port,\n  dialectOptions: {\n    encrypt: true,\n    packetSize: 32768,\n    options: {\n      useUTC: false,\n      dateFirst: 1\n    }\n    //authentication: { options: { userName: dbServerCredentials.userName,//<svc account>@<my-company.com>@<database server>,  password: dbServerCredentials.password,// <svc account password> }, type: 'azure-active-directory-password', }, }, });\n  },\n\n  pool: {\n    max: 5,\n    min: 0,\n    acquire: 30000,\n    idle: 10000\n  }\n});\ntry {\n  sequelize.authenticate();\n  console.log('Connection has been established successfully.');\n} catch (error) {\n  console.error('Unable to connect to the database:', error);\n}\n\n//TODO: Manually expose all models here\ndb.users = require(\"./user.js\")(sequelize, _sequelize.default);\ndb.swaps = require(\"./swap.js\")(sequelize, _sequelize.default);\n\n// Synchronize all models with the database, creating tables if they don't exist\n// **** ONLY TO BE USED WITHIN DEV EVNIRONMENT FOR FIRST TIME SETUP **** //\nsequelize.sync().then(() => {\n  console.log('All models were synchronized successfully.');\n}).catch(err => {\n  console.error('An error occurred while synchronizing models:', err);\n});\ndb.sequelize = sequelize;\ndb.Sequelize = _sequelize.default;\nvar _default = db;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJlbnYiLCJwcm9jZXNzIiwiTk9ERV9FTlYiLCJjb25maWciLCJjb25maWd1cmF0aW9uIiwiZGIiLCJzZXF1ZWxpemUiLCJTZXF1ZWxpemUiLCJkYXRhYmFzZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJob3N0IiwiZGlhbGVjdCIsImVuY3J5cHQiLCJwb3J0IiwiZGlhbGVjdE9wdGlvbnMiLCJwYWNrZXRTaXplIiwib3B0aW9ucyIsInVzZVVUQyIsImRhdGVGaXJzdCIsInBvb2wiLCJtYXgiLCJtaW4iLCJhY3F1aXJlIiwiaWRsZSIsImF1dGhlbnRpY2F0ZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsInVzZXJzIiwicmVxdWlyZSIsInN3YXBzIiwic3luYyIsInRoZW4iLCJjYXRjaCIsImVyciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXGRhdGFiYXNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlcXVlbGl6ZSBmcm9tIFwic2VxdWVsaXplXCI7XHJcbmltcG9ydCBjb25maWd1cmF0aW9uIGZyb20gXCIuLi9jb25maWcuanNcIjtcclxuXHJcbmNvbnN0IGVudiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8IFwiZGV2ZWxvcG1lbnRcIjtcclxuY29uc3QgY29uZmlnID0gY29uZmlndXJhdGlvbltlbnZdO1xyXG5jb25zdCBkYiA9IHt9O1xyXG5cclxubGV0IHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoe1xyXG4gICAgZGF0YWJhc2U6IGNvbmZpZy5kYXRhYmFzZSxcclxuICAgIHVzZXJuYW1lOiBjb25maWcudXNlcm5hbWUsXHJcbiAgICBwYXNzd29yZDogY29uZmlnLnBhc3N3b3JkLFxyXG4gICAgaG9zdDogY29uZmlnLmhvc3QsIC8vdGNwOnN3YXB1cC1kZXYuZGF0YWJhc2Uud2luZG93cy5uZXQsMTQzM1xyXG4gICAgZGlhbGVjdDogY29uZmlnLmRpYWxlY3QgfHwgXCJtc3NxbFwiLFxyXG4gICAgZW5jcnlwdDogdHJ1ZSxcclxuICAgIHBvcnQ6IGNvbmZpZy5wb3J0LFxyXG4gICAgZGlhbGVjdE9wdGlvbnM6IHtcclxuICAgICAgICBlbmNyeXB0OiB0cnVlLFxyXG4gICAgICAgIHBhY2tldFNpemU6IDMyNzY4LFxyXG4gICAgICAgIG9wdGlvbnM6IHsgdXNlVVRDOiBmYWxzZSwgZGF0ZUZpcnN0OiAxIH1cclxuICAgICAgICAvL2F1dGhlbnRpY2F0aW9uOiB7IG9wdGlvbnM6IHsgdXNlck5hbWU6IGRiU2VydmVyQ3JlZGVudGlhbHMudXNlck5hbWUsLy88c3ZjIGFjY291bnQ+QDxteS1jb21wYW55LmNvbT5APGRhdGFiYXNlIHNlcnZlcj4sICBwYXNzd29yZDogZGJTZXJ2ZXJDcmVkZW50aWFscy5wYXNzd29yZCwvLyA8c3ZjIGFjY291bnQgcGFzc3dvcmQ+IH0sIHR5cGU6ICdhenVyZS1hY3RpdmUtZGlyZWN0b3J5LXBhc3N3b3JkJywgfSwgfSwgfSk7XHJcbiAgICB9LFxyXG4gICAgcG9vbDoge1xyXG4gICAgICAgIG1heDogNSxcclxuICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgYWNxdWlyZTogMzAwMDAsXHJcbiAgICAgICAgaWRsZTogMTAwMDBcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxudHJ5IHtcclxuICAgIHNlcXVlbGl6ZS5hdXRoZW50aWNhdGUoKTtcclxuICAgIGNvbnNvbGUubG9nKCdDb25uZWN0aW9uIGhhcyBiZWVuIGVzdGFibGlzaGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxufSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byBjb25uZWN0IHRvIHRoZSBkYXRhYmFzZTonLCBlcnJvcik7XHJcbn1cclxuXHJcblxyXG4vL1RPRE86IE1hbnVhbGx5IGV4cG9zZSBhbGwgbW9kZWxzIGhlcmVcclxuZGIudXNlcnMgPSByZXF1aXJlKFwiLi91c2VyLmpzXCIpKHNlcXVlbGl6ZSwgU2VxdWVsaXplKTtcclxuZGIuc3dhcHMgPSByZXF1aXJlKFwiLi9zd2FwLmpzXCIpKHNlcXVlbGl6ZSwgU2VxdWVsaXplKTtcclxuXHJcbi8vIFN5bmNocm9uaXplIGFsbCBtb2RlbHMgd2l0aCB0aGUgZGF0YWJhc2UsIGNyZWF0aW5nIHRhYmxlcyBpZiB0aGV5IGRvbid0IGV4aXN0XHJcbi8vICoqKiogT05MWSBUTyBCRSBVU0VEIFdJVEhJTiBERVYgRVZOSVJPTk1FTlQgRk9SIEZJUlNUIFRJTUUgU0VUVVAgKioqKiAvL1xyXG5zZXF1ZWxpemUuc3luYygpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0FsbCBtb2RlbHMgd2VyZSBzeW5jaHJvbml6ZWQgc3VjY2Vzc2Z1bGx5LicpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHN5bmNocm9uaXppbmcgbW9kZWxzOicsIGVycik7XHJcbiAgICB9KTtcclxuXHJcbmRiLnNlcXVlbGl6ZSA9IHNlcXVlbGl6ZTtcclxuZGIuU2VxdWVsaXplID0gU2VxdWVsaXplO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRiO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFBeUM7QUFFekMsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUNELEdBQUcsQ0FBQ0UsUUFBUSxJQUFJLGFBQWE7QUFDakQsTUFBTUMsTUFBTSxHQUFHQyxlQUFhLENBQUNKLEdBQUcsQ0FBQztBQUNqQyxNQUFNSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBRWIsSUFBSUMsU0FBUyxHQUFHLElBQUlDLGtCQUFTLENBQUM7RUFDMUJDLFFBQVEsRUFBRUwsTUFBTSxDQUFDSyxRQUFRO0VBQ3pCQyxRQUFRLEVBQUVOLE1BQU0sQ0FBQ00sUUFBUTtFQUN6QkMsUUFBUSxFQUFFUCxNQUFNLENBQUNPLFFBQVE7RUFDekJDLElBQUksRUFBRVIsTUFBTSxDQUFDUSxJQUFJO0VBQUU7RUFDbkJDLE9BQU8sRUFBRVQsTUFBTSxDQUFDUyxPQUFPLElBQUksT0FBTztFQUNsQ0MsT0FBTyxFQUFFLElBQUk7RUFDYkMsSUFBSSxFQUFFWCxNQUFNLENBQUNXLElBQUk7RUFDakJDLGNBQWMsRUFBRTtJQUNaRixPQUFPLEVBQUUsSUFBSTtJQUNiRyxVQUFVLEVBQUUsS0FBSztJQUNqQkMsT0FBTyxFQUFFO01BQUVDLE1BQU0sRUFBRSxLQUFLO01BQUVDLFNBQVMsRUFBRTtJQUFFO0lBQ3ZDO0VBQ0osQ0FBQzs7RUFDREMsSUFBSSxFQUFFO0lBQ0ZDLEdBQUcsRUFBRSxDQUFDO0lBQ05DLEdBQUcsRUFBRSxDQUFDO0lBQ05DLE9BQU8sRUFBRSxLQUFLO0lBQ2RDLElBQUksRUFBRTtFQUNWO0FBQ0osQ0FBQyxDQUFDO0FBR0YsSUFBSTtFQUNBbEIsU0FBUyxDQUFDbUIsWUFBWSxFQUFFO0VBQ3hCQyxPQUFPLENBQUNDLEdBQUcsQ0FBQywrQ0FBK0MsQ0FBQztBQUNoRSxDQUFDLENBQUMsT0FBT0MsS0FBSyxFQUFFO0VBQ1pGLE9BQU8sQ0FBQ0UsS0FBSyxDQUFDLG9DQUFvQyxFQUFFQSxLQUFLLENBQUM7QUFDOUQ7O0FBR0E7QUFDQXZCLEVBQUUsQ0FBQ3dCLEtBQUssR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDeEIsU0FBUyxFQUFFQyxrQkFBUyxDQUFDO0FBQ3JERixFQUFFLENBQUMwQixLQUFLLEdBQUdELE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQ3hCLFNBQVMsRUFBRUMsa0JBQVMsQ0FBQzs7QUFFckQ7QUFDQTtBQUNBRCxTQUFTLENBQUMwQixJQUFJLEVBQUUsQ0FDWEMsSUFBSSxDQUFDLE1BQU07RUFDUlAsT0FBTyxDQUFDQyxHQUFHLENBQUMsNENBQTRDLENBQUM7QUFDN0QsQ0FBQyxDQUFDLENBQ0RPLEtBQUssQ0FBQ0MsR0FBRyxJQUFJO0VBQ1ZULE9BQU8sQ0FBQ0UsS0FBSyxDQUFDLCtDQUErQyxFQUFFTyxHQUFHLENBQUM7QUFDdkUsQ0FBQyxDQUFDO0FBRU45QixFQUFFLENBQUNDLFNBQVMsR0FBR0EsU0FBUztBQUN4QkQsRUFBRSxDQUFDRSxTQUFTLEdBQUdBLGtCQUFTO0FBQUMsZUFHVkYsRUFBRTtBQUFBIn0=","map":{"version":3,"names":["env","process","NODE_ENV","config","configuration","db","sequelize","Sequelize","database","username","password","host","dialect","encrypt","port","dialectOptions","packetSize","options","useUTC","dateFirst","pool","max","min","acquire","idle","authenticate","console","log","error","users","require","swaps","sync","then","catch","err"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\database\\models\\","sources":["index.js"],"sourcesContent":["import Sequelize from \"sequelize\";\r\nimport configuration from \"../config.js\";\r\n\r\nconst env = process.env.NODE_ENV || \"development\";\r\nconst config = configuration[env];\r\nconst db = {};\r\n\r\nlet sequelize = new Sequelize({\r\n    database: config.database,\r\n    username: config.username,\r\n    password: config.password,\r\n    host: config.host, //tcp:swapup-dev.database.windows.net,1433\r\n    dialect: config.dialect || \"mssql\",\r\n    encrypt: true,\r\n    port: config.port,\r\n    dialectOptions: {\r\n        encrypt: true,\r\n        packetSize: 32768,\r\n        options: { useUTC: false, dateFirst: 1 }\r\n        //authentication: { options: { userName: dbServerCredentials.userName,//<svc account>@<my-company.com>@<database server>,  password: dbServerCredentials.password,// <svc account password> }, type: 'azure-active-directory-password', }, }, });\r\n    },\r\n    pool: {\r\n        max: 5,\r\n        min: 0,\r\n        acquire: 30000,\r\n        idle: 10000\r\n    }\r\n});\r\n\r\n\r\ntry {\r\n    sequelize.authenticate();\r\n    console.log('Connection has been established successfully.');\r\n} catch (error) {\r\n    console.error('Unable to connect to the database:', error);\r\n}\r\n\r\n\r\n//TODO: Manually expose all models here\r\ndb.users = require(\"./user.js\")(sequelize, Sequelize);\r\ndb.swaps = require(\"./swap.js\")(sequelize, Sequelize);\r\n\r\n// Synchronize all models with the database, creating tables if they don't exist\r\n// **** ONLY TO BE USED WITHIN DEV EVNIRONMENT FOR FIRST TIME SETUP **** //\r\nsequelize.sync()\r\n    .then(() => {\r\n        console.log('All models were synchronized successfully.');\r\n    })\r\n    .catch(err => {\r\n        console.error('An error occurred while synchronizing models:', err);\r\n    });\r\n\r\ndb.sequelize = sequelize;\r\ndb.Sequelize = Sequelize;\r\n\r\n\r\nexport default db;\r\n"],"mappings":";;;;;;AAAA;AACA;AAAyC;AAEzC,MAAMA,GAAG,GAAGC,OAAO,CAACD,GAAG,CAACE,QAAQ,IAAI,aAAa;AACjD,MAAMC,MAAM,GAAGC,eAAa,CAACJ,GAAG,CAAC;AACjC,MAAMK,EAAE,GAAG,CAAC,CAAC;AAEb,IAAIC,SAAS,GAAG,IAAIC,kBAAS,CAAC;EAC1BC,QAAQ,EAAEL,MAAM,CAACK,QAAQ;EACzBC,QAAQ,EAAEN,MAAM,CAACM,QAAQ;EACzBC,QAAQ,EAAEP,MAAM,CAACO,QAAQ;EACzBC,IAAI,EAAER,MAAM,CAACQ,IAAI;EAAE;EACnBC,OAAO,EAAET,MAAM,CAACS,OAAO,IAAI,OAAO;EAClCC,OAAO,EAAE,IAAI;EACbC,IAAI,EAAEX,MAAM,CAACW,IAAI;EACjBC,cAAc,EAAE;IACZF,OAAO,EAAE,IAAI;IACbG,UAAU,EAAE,KAAK;IACjBC,OAAO,EAAE;MAAEC,MAAM,EAAE,KAAK;MAAEC,SAAS,EAAE;IAAE;IACvC;EACJ,CAAC;;EACDC,IAAI,EAAE;IACFC,GAAG,EAAE,CAAC;IACNC,GAAG,EAAE,CAAC;IACNC,OAAO,EAAE,KAAK;IACdC,IAAI,EAAE;EACV;AACJ,CAAC,CAAC;AAGF,IAAI;EACAlB,SAAS,CAACmB,YAAY,EAAE;EACxBC,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC;AAChE,CAAC,CAAC,OAAOC,KAAK,EAAE;EACZF,OAAO,CAACE,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;AAC9D;;AAGA;AACAvB,EAAE,CAACwB,KAAK,GAAGC,OAAO,CAAC,WAAW,CAAC,CAACxB,SAAS,EAAEC,kBAAS,CAAC;AACrDF,EAAE,CAAC0B,KAAK,GAAGD,OAAO,CAAC,WAAW,CAAC,CAACxB,SAAS,EAAEC,kBAAS,CAAC;;AAErD;AACA;AACAD,SAAS,CAAC0B,IAAI,EAAE,CACXC,IAAI,CAAC,MAAM;EACRP,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAC;AAC7D,CAAC,CAAC,CACDO,KAAK,CAACC,GAAG,IAAI;EACVT,OAAO,CAACE,KAAK,CAAC,+CAA+C,EAAEO,GAAG,CAAC;AACvE,CAAC,CAAC;AAEN9B,EAAE,CAACC,SAAS,GAAGA,SAAS;AACxBD,EAAE,CAACE,SAAS,GAAGA,kBAAS;AAAC,eAGVF,EAAE;AAAA"}},"mtime":1718370924042},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nrequire(\"dotenv\").config();\nconsole.log(\"sequelize config: \", process.env.NODE_ENV, \"it is being loaded correctly\");\nconst configuration = {\n  \"development\": {\n    \"username\": process.env.DB_USER,\n    \"password\": process.env.DB_PWD,\n    \"database\": process.env.DB_NAME,\n    \"host\": process.env.DB_HOST,\n    \"dialect\": \"mssql\",\n    \"port\": process.env.DB_PORT || 1433,\n    \"migrationStorage\": \"json\",\n    // Use a different storage type. Default: sequelize\n    \"migrationStoragePath\": \"sequelizeMeta.json\",\n    // Use a different file name. Default: sequelize-meta.json\n    \"seederStorage\": \"json\",\n    // Use a different storage. Default: none\n    \"seederStoragePath\": \"sequelizeData.json\" // Use a different file name. Default: sequelize-data.json\n  },\n\n  \"test\": {\n    \"username\": process.env.DB_USER,\n    \"password\": process.env.DB_PWD,\n    \"database\": process.env.DB_NAME,\n    \"host\": process.env.DB_HOST,\n    \"dialect\": \"mssql\",\n    \"port\": process.env.DB_PORT || 1433,\n    \"migrationStorage\": \"json\",\n    // Use a different storage type. Default: sequelize\n    \"migrationStoragePath\": \"sequelizeMeta.json\",\n    // Use a different file name. Default: sequelize-meta.json\n    \"seederStorage\": \"json\",\n    // Use a different storage. Default: none\n    \"seederStoragePath\": \"sequelizeData.json\" // Use a different file name. Default: sequelize-data.json\n  },\n\n  \"production\": {\n    \"username\": process.env.DB_USER,\n    \"password\": process.env.DB_PWD,\n    \"database\": process.env.DB_NAME,\n    \"host\": process.env.DB_HOST,\n    \"dialect\": \"mssql\",\n    \"port\": process.env.DB_PORT || 1433,\n    \"migrationStorage\": \"json\",\n    // Use a different storage type. Default: sequelize\n    \"migrationStoragePath\": \"sequelizeMeta.json\",\n    // Use a different file name. Default: sequelize-meta.json\n    \"seederStorage\": \"json\",\n    // Use a different storage. Default: none\n    \"seederStoragePath\": \"sequelizeData.json\" // Use a different file name. Default: sequelize-data.json\n  }\n};\n// console.log(configuration);\nmodule.exports = configuration;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiY29uc29sZSIsImxvZyIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImNvbmZpZ3VyYXRpb24iLCJEQl9VU0VSIiwiREJfUFdEIiwiREJfTkFNRSIsIkRCX0hPU1QiLCJEQl9QT1JUIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXGRhdGFiYXNlXFwiLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xyXG5jb25zb2xlLmxvZyhcInNlcXVlbGl6ZSBjb25maWc6IFwiLCBwcm9jZXNzLmVudi5OT0RFX0VOViwgXCJpdCBpcyBiZWluZyBsb2FkZWQgY29ycmVjdGx5XCIpO1xyXG5jb25zdCBjb25maWd1cmF0aW9uID0ge1xyXG4gIFwiZGV2ZWxvcG1lbnRcIjoge1xyXG4gICAgXCJ1c2VybmFtZVwiOiBwcm9jZXNzLmVudi5EQl9VU0VSLFxyXG4gICAgXCJwYXNzd29yZFwiOiBwcm9jZXNzLmVudi5EQl9QV0QsXHJcbiAgICBcImRhdGFiYXNlXCI6IHByb2Nlc3MuZW52LkRCX05BTUUsXHJcbiAgICBcImhvc3RcIjogcHJvY2Vzcy5lbnYuREJfSE9TVCxcclxuICAgIFwiZGlhbGVjdFwiOiBcIm1zc3FsXCIsXHJcbiAgICBcInBvcnRcIjogcHJvY2Vzcy5lbnYuREJfUE9SVCB8fCAxNDMzLFxyXG4gICAgXCJtaWdyYXRpb25TdG9yYWdlXCI6IFwianNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgc3RvcmFnZSB0eXBlLiBEZWZhdWx0OiBzZXF1ZWxpemVcclxuICAgIFwibWlncmF0aW9uU3RvcmFnZVBhdGhcIjogXCJzZXF1ZWxpemVNZXRhLmpzb25cIiwgLy8gVXNlIGEgZGlmZmVyZW50IGZpbGUgbmFtZS4gRGVmYXVsdDogc2VxdWVsaXplLW1ldGEuanNvblxyXG4gICAgXCJzZWVkZXJTdG9yYWdlXCI6IFwianNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgc3RvcmFnZS4gRGVmYXVsdDogbm9uZVxyXG4gICAgXCJzZWVkZXJTdG9yYWdlUGF0aFwiOiBcInNlcXVlbGl6ZURhdGEuanNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgZmlsZSBuYW1lLiBEZWZhdWx0OiBzZXF1ZWxpemUtZGF0YS5qc29uXHJcbiAgfSxcclxuICBcInRlc3RcIjoge1xyXG4gICAgXCJ1c2VybmFtZVwiOiBwcm9jZXNzLmVudi5EQl9VU0VSLFxyXG4gICAgXCJwYXNzd29yZFwiOiBwcm9jZXNzLmVudi5EQl9QV0QsXHJcbiAgICBcImRhdGFiYXNlXCI6IHByb2Nlc3MuZW52LkRCX05BTUUsXHJcbiAgICBcImhvc3RcIjogcHJvY2Vzcy5lbnYuREJfSE9TVCxcclxuICAgIFwiZGlhbGVjdFwiOiBcIm1zc3FsXCIsXHJcbiAgICBcInBvcnRcIjogcHJvY2Vzcy5lbnYuREJfUE9SVCB8fCAxNDMzLFxyXG4gICAgXCJtaWdyYXRpb25TdG9yYWdlXCI6IFwianNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgc3RvcmFnZSB0eXBlLiBEZWZhdWx0OiBzZXF1ZWxpemVcclxuICAgIFwibWlncmF0aW9uU3RvcmFnZVBhdGhcIjogXCJzZXF1ZWxpemVNZXRhLmpzb25cIiwgLy8gVXNlIGEgZGlmZmVyZW50IGZpbGUgbmFtZS4gRGVmYXVsdDogc2VxdWVsaXplLW1ldGEuanNvblxyXG4gICAgXCJzZWVkZXJTdG9yYWdlXCI6IFwianNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgc3RvcmFnZS4gRGVmYXVsdDogbm9uZVxyXG4gICAgXCJzZWVkZXJTdG9yYWdlUGF0aFwiOiBcInNlcXVlbGl6ZURhdGEuanNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgZmlsZSBuYW1lLiBEZWZhdWx0OiBzZXF1ZWxpemUtZGF0YS5qc29uXHJcbiAgfSxcclxuICBcInByb2R1Y3Rpb25cIjoge1xyXG4gICAgXCJ1c2VybmFtZVwiOiBwcm9jZXNzLmVudi5EQl9VU0VSLFxyXG4gICAgXCJwYXNzd29yZFwiOiBwcm9jZXNzLmVudi5EQl9QV0QsXHJcbiAgICBcImRhdGFiYXNlXCI6IHByb2Nlc3MuZW52LkRCX05BTUUsXHJcbiAgICBcImhvc3RcIjogcHJvY2Vzcy5lbnYuREJfSE9TVCxcclxuICAgIFwiZGlhbGVjdFwiOiBcIm1zc3FsXCIsXHJcbiAgICBcInBvcnRcIjogcHJvY2Vzcy5lbnYuREJfUE9SVCB8fCAxNDMzLFxyXG4gICAgXCJtaWdyYXRpb25TdG9yYWdlXCI6IFwianNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgc3RvcmFnZSB0eXBlLiBEZWZhdWx0OiBzZXF1ZWxpemVcclxuICAgIFwibWlncmF0aW9uU3RvcmFnZVBhdGhcIjogXCJzZXF1ZWxpemVNZXRhLmpzb25cIiwgLy8gVXNlIGEgZGlmZmVyZW50IGZpbGUgbmFtZS4gRGVmYXVsdDogc2VxdWVsaXplLW1ldGEuanNvblxyXG4gICAgXCJzZWVkZXJTdG9yYWdlXCI6IFwianNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgc3RvcmFnZS4gRGVmYXVsdDogbm9uZVxyXG4gICAgXCJzZWVkZXJTdG9yYWdlUGF0aFwiOiBcInNlcXVlbGl6ZURhdGEuanNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgZmlsZSBuYW1lLiBEZWZhdWx0OiBzZXF1ZWxpemUtZGF0YS5qc29uXHJcbiAgfVxyXG59O1xyXG4vLyBjb25zb2xlLmxvZyhjb25maWd1cmF0aW9uKTtcclxubW9kdWxlLmV4cG9ydHMgPSBjb25maWd1cmF0aW9uO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQ0MsTUFBTSxFQUFFO0FBQzFCQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFFBQVEsRUFBRSw4QkFBOEIsQ0FBQztBQUN2RixNQUFNQyxhQUFhLEdBQUc7RUFDcEIsYUFBYSxFQUFFO0lBQ2IsVUFBVSxFQUFFSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csT0FBTztJQUMvQixVQUFVLEVBQUVKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSSxNQUFNO0lBQzlCLFVBQVUsRUFBRUwsT0FBTyxDQUFDQyxHQUFHLENBQUNLLE9BQU87SUFDL0IsTUFBTSxFQUFFTixPQUFPLENBQUNDLEdBQUcsQ0FBQ00sT0FBTztJQUMzQixTQUFTLEVBQUUsT0FBTztJQUNsQixNQUFNLEVBQUVQLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDTyxPQUFPLElBQUksSUFBSTtJQUNuQyxrQkFBa0IsRUFBRSxNQUFNO0lBQUU7SUFDNUIsc0JBQXNCLEVBQUUsb0JBQW9CO0lBQUU7SUFDOUMsZUFBZSxFQUFFLE1BQU07SUFBRTtJQUN6QixtQkFBbUIsRUFBRSxvQkFBb0IsQ0FBRTtFQUM3QyxDQUFDOztFQUNELE1BQU0sRUFBRTtJQUNOLFVBQVUsRUFBRVIsT0FBTyxDQUFDQyxHQUFHLENBQUNHLE9BQU87SUFDL0IsVUFBVSxFQUFFSixPQUFPLENBQUNDLEdBQUcsQ0FBQ0ksTUFBTTtJQUM5QixVQUFVLEVBQUVMLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSyxPQUFPO0lBQy9CLE1BQU0sRUFBRU4sT0FBTyxDQUFDQyxHQUFHLENBQUNNLE9BQU87SUFDM0IsU0FBUyxFQUFFLE9BQU87SUFDbEIsTUFBTSxFQUFFUCxPQUFPLENBQUNDLEdBQUcsQ0FBQ08sT0FBTyxJQUFJLElBQUk7SUFDbkMsa0JBQWtCLEVBQUUsTUFBTTtJQUFFO0lBQzVCLHNCQUFzQixFQUFFLG9CQUFvQjtJQUFFO0lBQzlDLGVBQWUsRUFBRSxNQUFNO0lBQUU7SUFDekIsbUJBQW1CLEVBQUUsb0JBQW9CLENBQUU7RUFDN0MsQ0FBQzs7RUFDRCxZQUFZLEVBQUU7SUFDWixVQUFVLEVBQUVSLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxPQUFPO0lBQy9CLFVBQVUsRUFBRUosT0FBTyxDQUFDQyxHQUFHLENBQUNJLE1BQU07SUFDOUIsVUFBVSxFQUFFTCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0ssT0FBTztJQUMvQixNQUFNLEVBQUVOLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDTSxPQUFPO0lBQzNCLFNBQVMsRUFBRSxPQUFPO0lBQ2xCLE1BQU0sRUFBRVAsT0FBTyxDQUFDQyxHQUFHLENBQUNPLE9BQU8sSUFBSSxJQUFJO0lBQ25DLGtCQUFrQixFQUFFLE1BQU07SUFBRTtJQUM1QixzQkFBc0IsRUFBRSxvQkFBb0I7SUFBRTtJQUM5QyxlQUFlLEVBQUUsTUFBTTtJQUFFO0lBQ3pCLG1CQUFtQixFQUFFLG9CQUFvQixDQUFFO0VBQzdDO0FBQ0YsQ0FBQztBQUNEO0FBQ0FDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHUCxhQUFhIn0=","map":{"version":3,"names":["require","config","console","log","process","env","NODE_ENV","configuration","DB_USER","DB_PWD","DB_NAME","DB_HOST","DB_PORT","module","exports"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\database\\","sources":["config.js"],"sourcesContent":["require(\"dotenv\").config();\r\nconsole.log(\"sequelize config: \", process.env.NODE_ENV, \"it is being loaded correctly\");\r\nconst configuration = {\r\n  \"development\": {\r\n    \"username\": process.env.DB_USER,\r\n    \"password\": process.env.DB_PWD,\r\n    \"database\": process.env.DB_NAME,\r\n    \"host\": process.env.DB_HOST,\r\n    \"dialect\": \"mssql\",\r\n    \"port\": process.env.DB_PORT || 1433,\r\n    \"migrationStorage\": \"json\", // Use a different storage type. Default: sequelize\r\n    \"migrationStoragePath\": \"sequelizeMeta.json\", // Use a different file name. Default: sequelize-meta.json\r\n    \"seederStorage\": \"json\", // Use a different storage. Default: none\r\n    \"seederStoragePath\": \"sequelizeData.json\", // Use a different file name. Default: sequelize-data.json\r\n  },\r\n  \"test\": {\r\n    \"username\": process.env.DB_USER,\r\n    \"password\": process.env.DB_PWD,\r\n    \"database\": process.env.DB_NAME,\r\n    \"host\": process.env.DB_HOST,\r\n    \"dialect\": \"mssql\",\r\n    \"port\": process.env.DB_PORT || 1433,\r\n    \"migrationStorage\": \"json\", // Use a different storage type. Default: sequelize\r\n    \"migrationStoragePath\": \"sequelizeMeta.json\", // Use a different file name. Default: sequelize-meta.json\r\n    \"seederStorage\": \"json\", // Use a different storage. Default: none\r\n    \"seederStoragePath\": \"sequelizeData.json\", // Use a different file name. Default: sequelize-data.json\r\n  },\r\n  \"production\": {\r\n    \"username\": process.env.DB_USER,\r\n    \"password\": process.env.DB_PWD,\r\n    \"database\": process.env.DB_NAME,\r\n    \"host\": process.env.DB_HOST,\r\n    \"dialect\": \"mssql\",\r\n    \"port\": process.env.DB_PORT || 1433,\r\n    \"migrationStorage\": \"json\", // Use a different storage type. Default: sequelize\r\n    \"migrationStoragePath\": \"sequelizeMeta.json\", // Use a different file name. Default: sequelize-meta.json\r\n    \"seederStorage\": \"json\", // Use a different storage. Default: none\r\n    \"seederStoragePath\": \"sequelizeData.json\", // Use a different file name. Default: sequelize-data.json\r\n  }\r\n};\r\n// console.log(configuration);\r\nmodule.exports = configuration;\r\n"],"mappings":";;AAAAA,OAAO,CAAC,QAAQ,CAAC,CAACC,MAAM,EAAE;AAC1BC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,EAAE,8BAA8B,CAAC;AACvF,MAAMC,aAAa,GAAG;EACpB,aAAa,EAAE;IACb,UAAU,EAAEH,OAAO,CAACC,GAAG,CAACG,OAAO;IAC/B,UAAU,EAAEJ,OAAO,CAACC,GAAG,CAACI,MAAM;IAC9B,UAAU,EAAEL,OAAO,CAACC,GAAG,CAACK,OAAO;IAC/B,MAAM,EAAEN,OAAO,CAACC,GAAG,CAACM,OAAO;IAC3B,SAAS,EAAE,OAAO;IAClB,MAAM,EAAEP,OAAO,CAACC,GAAG,CAACO,OAAO,IAAI,IAAI;IACnC,kBAAkB,EAAE,MAAM;IAAE;IAC5B,sBAAsB,EAAE,oBAAoB;IAAE;IAC9C,eAAe,EAAE,MAAM;IAAE;IACzB,mBAAmB,EAAE,oBAAoB,CAAE;EAC7C,CAAC;;EACD,MAAM,EAAE;IACN,UAAU,EAAER,OAAO,CAACC,GAAG,CAACG,OAAO;IAC/B,UAAU,EAAEJ,OAAO,CAACC,GAAG,CAACI,MAAM;IAC9B,UAAU,EAAEL,OAAO,CAACC,GAAG,CAACK,OAAO;IAC/B,MAAM,EAAEN,OAAO,CAACC,GAAG,CAACM,OAAO;IAC3B,SAAS,EAAE,OAAO;IAClB,MAAM,EAAEP,OAAO,CAACC,GAAG,CAACO,OAAO,IAAI,IAAI;IACnC,kBAAkB,EAAE,MAAM;IAAE;IAC5B,sBAAsB,EAAE,oBAAoB;IAAE;IAC9C,eAAe,EAAE,MAAM;IAAE;IACzB,mBAAmB,EAAE,oBAAoB,CAAE;EAC7C,CAAC;;EACD,YAAY,EAAE;IACZ,UAAU,EAAER,OAAO,CAACC,GAAG,CAACG,OAAO;IAC/B,UAAU,EAAEJ,OAAO,CAACC,GAAG,CAACI,MAAM;IAC9B,UAAU,EAAEL,OAAO,CAACC,GAAG,CAACK,OAAO;IAC/B,MAAM,EAAEN,OAAO,CAACC,GAAG,CAACM,OAAO;IAC3B,SAAS,EAAE,OAAO;IAClB,MAAM,EAAEP,OAAO,CAACC,GAAG,CAACO,OAAO,IAAI,IAAI;IACnC,kBAAkB,EAAE,MAAM;IAAE;IAC5B,sBAAsB,EAAE,oBAAoB;IAAE;IAC9C,eAAe,EAAE,MAAM;IAAE;IACzB,mBAAmB,EAAE,oBAAoB,CAAE;EAC7C;AACF,CAAC;AACD;AACAC,MAAM,CAACC,OAAO,GAAGP,aAAa"}},"mtime":1718370377903},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\models\\\\user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\nmodule.exports = (sequelize, DataTypes) => {\n  class User extends Model {\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\n    static associate(models) {\n      // define association here\n    }\n  }\n  User.init({\n    wallet: DataTypes.STRING\n  }, {\n    sequelize,\n    modelName: \"User\"\n  });\n  return User;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiVXNlciIsImFzc29jaWF0ZSIsIm1vZGVscyIsImluaXQiLCJ3YWxsZXQiLCJTVFJJTkciLCJtb2RlbE5hbWUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcS29tYWwgU3llZFxcTGF0ZXN0U2FqamFkQ29kZVxcQmFja2VuZC12Mlxcc3JjXFxkYXRhYmFzZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCJcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcclxuICAgIGNsYXNzIFVzZXIgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyIG1ldGhvZCBmb3IgZGVmaW5pbmcgYXNzb2NpYXRpb25zLlxyXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhIHBhcnQgb2YgU2VxdWVsaXplIGxpZmVjeWNsZS5cclxuICAgICAgICAgKiBUaGUgYG1vZGVscy9pbmRleGAgZmlsZSB3aWxsIGNhbGwgdGhpcyBtZXRob2QgYXV0b21hdGljYWxseS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAgICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFVzZXIuaW5pdChcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHdhbGxldDogRGF0YVR5cGVzLlNUUklOR1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzZXF1ZWxpemUsXHJcbiAgICAgICAgICAgIG1vZGVsTmFtZTogXCJVc2VyXCJcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICByZXR1cm4gVXNlclxyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFDWixNQUFNO0VBQUVBO0FBQU0sQ0FBQyxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBRXRDQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxDQUFDQyxTQUFTLEVBQUVDLFNBQVMsS0FBSztFQUN2QyxNQUFNQyxJQUFJLFNBQVNOLEtBQUssQ0FBQztJQUNyQjtBQUNSO0FBQ0E7QUFDQTtBQUNBO0lBQ1EsT0FBT08sU0FBUyxDQUFDQyxNQUFNLEVBQUU7TUFDckI7SUFBQTtFQUVSO0VBQ0FGLElBQUksQ0FBQ0csSUFBSSxDQUNMO0lBQ0lDLE1BQU0sRUFBRUwsU0FBUyxDQUFDTTtFQUN0QixDQUFDLEVBQ0Q7SUFDSVAsU0FBUztJQUNUUSxTQUFTLEVBQUU7RUFDZixDQUFDLENBQ0o7RUFDRCxPQUFPTixJQUFJO0FBQ2YsQ0FBQyJ9","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","User","associate","models","init","wallet","STRING","modelName"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\database\\models\\","sources":["user.js"],"sourcesContent":["\"use strict\"\r\nconst { Model } = require(\"sequelize\")\r\n\r\nmodule.exports = (sequelize, DataTypes) => {\r\n    class User extends Model {\r\n        /**\r\n         * Helper method for defining associations.\r\n         * This method is not a part of Sequelize lifecycle.\r\n         * The `models/index` file will call this method automatically.\r\n         */\r\n        static associate(models) {\r\n            // define association here\r\n        }\r\n    }\r\n    User.init(\r\n        {\r\n            wallet: DataTypes.STRING\r\n        },\r\n        {\r\n            sequelize,\r\n            modelName: \"User\"\r\n        }\r\n    )\r\n    return User\r\n}\r\n"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EAAEA;AAAM,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AAEtCC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACvC,MAAMC,IAAI,SAASN,KAAK,CAAC;IACrB;AACR;AACA;AACA;AACA;IACQ,OAAOO,SAAS,CAACC,MAAM,EAAE;MACrB;IAAA;EAER;EACAF,IAAI,CAACG,IAAI,CACL;IACIC,MAAM,EAAEL,SAAS,CAACM;EACtB,CAAC,EACD;IACIP,SAAS;IACTQ,SAAS,EAAE;EACf,CAAC,CACJ;EACD,OAAON,IAAI;AACf,CAAC"}},"mtime":1718370377907},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\models\\\\swap.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Swap extends Model {\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\n    static associate(models) {\n      // define association here\n    }\n  }\n  Swap.init({\n    metadata: DataTypes.TEXT,\n    accept_address: DataTypes.STRING,\n    init_address: DataTypes.STRING,\n    accept_sign: DataTypes.STRING,\n    init_sign: DataTypes.STRING,\n    status: DataTypes.INTEGER,\n    tx: DataTypes.STRING,\n    notes: DataTypes.STRING,\n    trade_id: DataTypes.STRING,\n    trading_chain: DataTypes.STRING,\n    swap_mode: DataTypes.INTEGER,\n    //*\n    offer_type: DataTypes.INTEGER,\n    timestamp: DataTypes.STRING,\n    swap_preferences: DataTypes.TEXT,\n    open_trade_id: DataTypes.TEXT\n  }, {\n    sequelize,\n    modelName: \"Swap\"\n  });\n  return Swap;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiU3dhcCIsImFzc29jaWF0ZSIsIm1vZGVscyIsImluaXQiLCJtZXRhZGF0YSIsIlRFWFQiLCJhY2NlcHRfYWRkcmVzcyIsIlNUUklORyIsImluaXRfYWRkcmVzcyIsImFjY2VwdF9zaWduIiwiaW5pdF9zaWduIiwic3RhdHVzIiwiSU5URUdFUiIsInR4Iiwibm90ZXMiLCJ0cmFkZV9pZCIsInRyYWRpbmdfY2hhaW4iLCJzd2FwX21vZGUiLCJvZmZlcl90eXBlIiwidGltZXN0YW1wIiwic3dhcF9wcmVmZXJlbmNlcyIsIm9wZW5fdHJhZGVfaWQiLCJtb2RlbE5hbWUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcS29tYWwgU3llZFxcTGF0ZXN0U2FqamFkQ29kZVxcQmFja2VuZC12Mlxcc3JjXFxkYXRhYmFzZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInN3YXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5jb25zdCB7XHJcbiAgTW9kZWxcclxufSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIFN3YXAgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBtZXRob2QgZm9yIGRlZmluaW5nIGFzc29jaWF0aW9ucy5cclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhIHBhcnQgb2YgU2VxdWVsaXplIGxpZmVjeWNsZS5cclxuICAgICAqIFRoZSBgbW9kZWxzL2luZGV4YCBmaWxlIHdpbGwgY2FsbCB0aGlzIG1ldGhvZCBhdXRvbWF0aWNhbGx5LlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgfVxyXG4gIH1cclxuICBTd2FwLmluaXQoXHJcbiAgICAgIHtcclxuICAgICAgICAgIG1ldGFkYXRhOiBEYXRhVHlwZXMuVEVYVCxcclxuICAgICAgICAgIGFjY2VwdF9hZGRyZXNzOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICAgICAgaW5pdF9hZGRyZXNzOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICAgICAgYWNjZXB0X3NpZ246IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgICAgICBpbml0X3NpZ246IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgICAgICBzdGF0dXM6IERhdGFUeXBlcy5JTlRFR0VSLFxyXG4gICAgICAgICAgdHg6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgICAgICBub3RlczogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgICAgIHRyYWRlX2lkOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICAgICAgdHJhZGluZ19jaGFpbjogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgICAgIHN3YXBfbW9kZTogRGF0YVR5cGVzLklOVEVHRVIsIC8vKlxyXG4gICAgICAgICAgb2ZmZXJfdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHN3YXBfcHJlZmVyZW5jZXM6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICAgICAgb3Blbl90cmFkZV9pZDogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICAgIHNlcXVlbGl6ZSxcclxuICAgICAgICAgIG1vZGVsTmFtZTogXCJTd2FwXCJcclxuICAgICAgfVxyXG4gIClcclxuICByZXR1cm4gU3dhcDtcclxufTsiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osTUFBTTtFQUNKQTtBQUNGLENBQUMsR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUN4QkMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsQ0FBQ0MsU0FBUyxFQUFFQyxTQUFTLEtBQUs7RUFDekMsTUFBTUMsSUFBSSxTQUFTTixLQUFLLENBQUM7SUFDdkI7QUFDSjtBQUNBO0FBQ0E7QUFDQTtJQUNJLE9BQU9PLFNBQVMsQ0FBQ0MsTUFBTSxFQUFFO01BQ3ZCO0lBQUE7RUFFSjtFQUNBRixJQUFJLENBQUNHLElBQUksQ0FDTDtJQUNJQyxRQUFRLEVBQUVMLFNBQVMsQ0FBQ00sSUFBSTtJQUN4QkMsY0FBYyxFQUFFUCxTQUFTLENBQUNRLE1BQU07SUFDaENDLFlBQVksRUFBRVQsU0FBUyxDQUFDUSxNQUFNO0lBQzlCRSxXQUFXLEVBQUVWLFNBQVMsQ0FBQ1EsTUFBTTtJQUM3QkcsU0FBUyxFQUFFWCxTQUFTLENBQUNRLE1BQU07SUFDM0JJLE1BQU0sRUFBRVosU0FBUyxDQUFDYSxPQUFPO0lBQ3pCQyxFQUFFLEVBQUVkLFNBQVMsQ0FBQ1EsTUFBTTtJQUNwQk8sS0FBSyxFQUFFZixTQUFTLENBQUNRLE1BQU07SUFDdkJRLFFBQVEsRUFBRWhCLFNBQVMsQ0FBQ1EsTUFBTTtJQUMxQlMsYUFBYSxFQUFFakIsU0FBUyxDQUFDUSxNQUFNO0lBQy9CVSxTQUFTLEVBQUVsQixTQUFTLENBQUNhLE9BQU87SUFBRTtJQUM5Qk0sVUFBVSxFQUFFbkIsU0FBUyxDQUFDYSxPQUFPO0lBQzdCTyxTQUFTLEVBQUVwQixTQUFTLENBQUNRLE1BQU07SUFFM0JhLGdCQUFnQixFQUFFckIsU0FBUyxDQUFDTSxJQUFJO0lBQ2hDZ0IsYUFBYSxFQUFFdEIsU0FBUyxDQUFDTTtFQUM3QixDQUFDLEVBQ0Q7SUFDSVAsU0FBUztJQUNUd0IsU0FBUyxFQUFFO0VBQ2YsQ0FBQyxDQUNKO0VBQ0QsT0FBT3RCLElBQUk7QUFDYixDQUFDIn0=","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Swap","associate","models","init","metadata","TEXT","accept_address","STRING","init_address","accept_sign","init_sign","status","INTEGER","tx","notes","trade_id","trading_chain","swap_mode","offer_type","timestamp","swap_preferences","open_trade_id","modelName"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\database\\models\\","sources":["swap.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Swap extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n    }\r\n  }\r\n  Swap.init(\r\n      {\r\n          metadata: DataTypes.TEXT,\r\n          accept_address: DataTypes.STRING,\r\n          init_address: DataTypes.STRING,\r\n          accept_sign: DataTypes.STRING,\r\n          init_sign: DataTypes.STRING,\r\n          status: DataTypes.INTEGER,\r\n          tx: DataTypes.STRING,\r\n          notes: DataTypes.STRING,\r\n          trade_id: DataTypes.STRING,\r\n          trading_chain: DataTypes.STRING,\r\n          swap_mode: DataTypes.INTEGER, //*\r\n          offer_type: DataTypes.INTEGER,\r\n          timestamp: DataTypes.STRING,\r\n          \r\n          swap_preferences: DataTypes.TEXT,\r\n          open_trade_id: DataTypes.TEXT,\r\n      },\r\n      {\r\n          sequelize,\r\n          modelName: \"Swap\"\r\n      }\r\n  )\r\n  return Swap;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,IAAI,SAASN,KAAK,CAAC;IACvB;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAAS,CAACC,MAAM,EAAE;MACvB;IAAA;EAEJ;EACAF,IAAI,CAACG,IAAI,CACL;IACIC,QAAQ,EAAEL,SAAS,CAACM,IAAI;IACxBC,cAAc,EAAEP,SAAS,CAACQ,MAAM;IAChCC,YAAY,EAAET,SAAS,CAACQ,MAAM;IAC9BE,WAAW,EAAEV,SAAS,CAACQ,MAAM;IAC7BG,SAAS,EAAEX,SAAS,CAACQ,MAAM;IAC3BI,MAAM,EAAEZ,SAAS,CAACa,OAAO;IACzBC,EAAE,EAAEd,SAAS,CAACQ,MAAM;IACpBO,KAAK,EAAEf,SAAS,CAACQ,MAAM;IACvBQ,QAAQ,EAAEhB,SAAS,CAACQ,MAAM;IAC1BS,aAAa,EAAEjB,SAAS,CAACQ,MAAM;IAC/BU,SAAS,EAAElB,SAAS,CAACa,OAAO;IAAE;IAC9BM,UAAU,EAAEnB,SAAS,CAACa,OAAO;IAC7BO,SAAS,EAAEpB,SAAS,CAACQ,MAAM;IAE3Ba,gBAAgB,EAAErB,SAAS,CAACM,IAAI;IAChCgB,aAAa,EAAEtB,SAAS,CAACM;EAC7B,CAAC,EACD;IACIP,SAAS;IACTwB,SAAS,EAAE;EACf,CAAC,CACJ;EACD,OAAOtB,IAAI;AACb,CAAC"}},"mtime":1718370377906},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\nftRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.nftRouter = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _nftController = require(\"../controllers/nftController.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst nftRouter = _express.default.Router();\nexports.nftRouter = nftRouter;\nnftRouter.get(\"/\", _nftController.nftController.test);\nnftRouter.get(\"/:walletId\", _nftController.nftController.list_all_wallet_nfts);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJuZnRSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwibmZ0Q29udHJvbGxlciIsInRlc3QiLCJsaXN0X2FsbF93YWxsZXRfbmZ0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXGFwaVxccm91dGVzXFwiLCJzb3VyY2VzIjpbIm5mdFJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCB7IG5mdENvbnRyb2xsZXIgfSBmcm9tIFwiLi4vY29udHJvbGxlcnMvbmZ0Q29udHJvbGxlci5qc1wiXHJcblxyXG5leHBvcnQgY29uc3QgbmZ0Um91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKVxyXG5cclxubmZ0Um91dGVyLmdldChcIi9cIiwgbmZ0Q29udHJvbGxlci50ZXN0KVxyXG5uZnRSb3V0ZXIuZ2V0KFwiLzp3YWxsZXRJZFwiLCBuZnRDb250cm9sbGVyLmxpc3RfYWxsX3dhbGxldF9uZnRzKVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFBK0Q7QUFFeEQsTUFBTUEsU0FBUyxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFBQTtBQUV6Q0YsU0FBUyxDQUFDRyxHQUFHLENBQUMsR0FBRyxFQUFFQyw0QkFBYSxDQUFDQyxJQUFJLENBQUM7QUFDdENMLFNBQVMsQ0FBQ0csR0FBRyxDQUFDLFlBQVksRUFBRUMsNEJBQWEsQ0FBQ0Usb0JBQW9CLENBQUMifQ==","map":{"version":3,"names":["nftRouter","express","Router","get","nftController","test","list_all_wallet_nfts"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\routes\\","sources":["nftRoutes.js"],"sourcesContent":["import express from \"express\"\r\nimport { nftController } from \"../controllers/nftController.js\"\r\n\r\nexport const nftRouter = express.Router()\r\n\r\nnftRouter.get(\"/\", nftController.test)\r\nnftRouter.get(\"/:walletId\", nftController.list_all_wallet_nfts)\r\n"],"mappings":";;;;;;AAAA;AACA;AAA+D;AAExD,MAAMA,SAAS,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAAA;AAEzCF,SAAS,CAACG,GAAG,CAAC,GAAG,EAAEC,4BAAa,CAACC,IAAI,CAAC;AACtCL,SAAS,CAACG,GAAG,CAAC,YAAY,EAAEC,4BAAa,CAACE,oBAAoB,CAAC"}},"mtime":1718370377897},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\nftController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.nftController = void 0;\nvar _alchemy = require(\"../../utils/alchemy.js\");\n//import { testDb } from \"../models/test.js\";\n\nfunction test(req, res) {\n  //testDb();\n  res.send({\n    network: process.env.NETWORK\n  });\n  let alchemy = (0, _alchemy.getAlchemy)();\n  alchemy.core.resolveName(\"xyz.3dot0.eth\").then(console.log);\n}\n\n// returns all the nfts owned by a wallet address\nasync function list_all_wallet_nfts(req, res) {\n  try {\n    let alchemy = (0, _alchemy.getAlchemy)();\n    // Print all NFTs returned in the response:\n    let nfts = [];\n    // Get the async iterable for the owner's NFTs.\n    const nftsIterable = alchemy.nft.getNftsForOwnerIterator(req.params.walletId);\n\n    // Iterate over the NFTs and add them to the nfts array.\n    for await (const nft of nftsIterable) {\n      nfts.push(nft);\n    }\n    //let nfts = await alchemy.nft.getNftsForOwner(req.params.walletId)\n    console.log(nfts);\n    res.send(nfts);\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***list_all_wallet_nfts error -> ${err}`\n    });\n  }\n}\n\n///register a new wallet account in the system\nasync function register_a_wallet(req, res) {\n  //\n}\nconst nftController = {\n  test,\n  list_all_wallet_nfts,\n  register_a_wallet\n};\nexports.nftController = nftController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0ZXN0IiwicmVxIiwicmVzIiwic2VuZCIsIm5ldHdvcmsiLCJwcm9jZXNzIiwiZW52IiwiTkVUV09SSyIsImFsY2hlbXkiLCJnZXRBbGNoZW15IiwiY29yZSIsInJlc29sdmVOYW1lIiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJsaXN0X2FsbF93YWxsZXRfbmZ0cyIsIm5mdHMiLCJuZnRzSXRlcmFibGUiLCJuZnQiLCJnZXROZnRzRm9yT3duZXJJdGVyYXRvciIsInBhcmFtcyIsIndhbGxldElkIiwicHVzaCIsImVyciIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsInJlZ2lzdGVyX2Ffd2FsbGV0IiwibmZ0Q29udHJvbGxlciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXGFwaVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsibmZ0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRBbGNoZW15IH0gZnJvbSBcIi4uLy4uL3V0aWxzL2FsY2hlbXkuanNcIlxyXG4vL2ltcG9ydCB7IHRlc3REYiB9IGZyb20gXCIuLi9tb2RlbHMvdGVzdC5qc1wiO1xyXG5cclxuZnVuY3Rpb24gdGVzdChyZXEsIHJlcykge1xyXG4gICAgLy90ZXN0RGIoKTtcclxuICAgIHJlcy5zZW5kKHsgbmV0d29yazogcHJvY2Vzcy5lbnYuTkVUV09SSyB9KVxyXG4gICAgbGV0IGFsY2hlbXkgPSBnZXRBbGNoZW15KClcclxuICAgIGFsY2hlbXkuY29yZS5yZXNvbHZlTmFtZShcInh5ei4zZG90MC5ldGhcIikudGhlbihjb25zb2xlLmxvZyk7XHJcbn1cclxuXHJcbi8vIHJldHVybnMgYWxsIHRoZSBuZnRzIG93bmVkIGJ5IGEgd2FsbGV0IGFkZHJlc3NcclxuYXN5bmMgZnVuY3Rpb24gbGlzdF9hbGxfd2FsbGV0X25mdHMocmVxLCByZXMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IGFsY2hlbXkgPSBnZXRBbGNoZW15KClcclxuICAgICAgICAvLyBQcmludCBhbGwgTkZUcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2U6XHJcbiAgICAgICAgbGV0IG5mdHMgPSBbXTtcclxuICAgICAgICAvLyBHZXQgdGhlIGFzeW5jIGl0ZXJhYmxlIGZvciB0aGUgb3duZXIncyBORlRzLlxyXG4gICAgICAgIGNvbnN0IG5mdHNJdGVyYWJsZSA9IGFsY2hlbXkubmZ0LmdldE5mdHNGb3JPd25lckl0ZXJhdG9yKHJlcS5wYXJhbXMud2FsbGV0SWQpO1xyXG5cclxuICAgICAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIE5GVHMgYW5kIGFkZCB0aGVtIHRvIHRoZSBuZnRzIGFycmF5LlxyXG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgbmZ0IG9mIG5mdHNJdGVyYWJsZSkge1xyXG4gICAgICAgICAgICBuZnRzLnB1c2gobmZ0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9sZXQgbmZ0cyA9IGF3YWl0IGFsY2hlbXkubmZ0LmdldE5mdHNGb3JPd25lcihyZXEucGFyYW1zLndhbGxldElkKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKG5mdHMpXHJcbiAgICAgICAgcmVzLnNlbmQobmZ0cylcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBgKioqbGlzdF9hbGxfd2FsbGV0X25mdHMgZXJyb3IgLT4gJHtlcnJ9YFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vL3JlZ2lzdGVyIGEgbmV3IHdhbGxldCBhY2NvdW50IGluIHRoZSBzeXN0ZW1cclxuYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXJfYV93YWxsZXQocmVxLCByZXMpIHtcclxuICAgIC8vXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBuZnRDb250cm9sbGVyID0ge1xyXG4gICAgdGVzdCxcclxuICAgIGxpc3RfYWxsX3dhbGxldF9uZnRzLFxyXG4gICAgcmVnaXN0ZXJfYV93YWxsZXRcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7O0FBRUEsU0FBU0EsSUFBSSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUNwQjtFQUNBQSxHQUFHLENBQUNDLElBQUksQ0FBQztJQUFFQyxPQUFPLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQztFQUFRLENBQUMsQ0FBQztFQUMxQyxJQUFJQyxPQUFPLEdBQUcsSUFBQUMsbUJBQVUsR0FBRTtFQUMxQkQsT0FBTyxDQUFDRSxJQUFJLENBQUNDLFdBQVcsQ0FBQyxlQUFlLENBQUMsQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQztBQUMvRDs7QUFFQTtBQUNBLGVBQWVDLG9CQUFvQixDQUFDZCxHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUMxQyxJQUFJO0lBQ0EsSUFBSU0sT0FBTyxHQUFHLElBQUFDLG1CQUFVLEdBQUU7SUFDMUI7SUFDQSxJQUFJTyxJQUFJLEdBQUcsRUFBRTtJQUNiO0lBQ0EsTUFBTUMsWUFBWSxHQUFHVCxPQUFPLENBQUNVLEdBQUcsQ0FBQ0MsdUJBQXVCLENBQUNsQixHQUFHLENBQUNtQixNQUFNLENBQUNDLFFBQVEsQ0FBQzs7SUFFN0U7SUFDQSxXQUFXLE1BQU1ILEdBQUcsSUFBSUQsWUFBWSxFQUFFO01BQ2xDRCxJQUFJLENBQUNNLElBQUksQ0FBQ0osR0FBRyxDQUFDO0lBQ2xCO0lBQ0E7SUFDQUwsT0FBTyxDQUFDQyxHQUFHLENBQUNFLElBQUksQ0FBQztJQUNqQmQsR0FBRyxDQUFDQyxJQUFJLENBQUNhLElBQUksQ0FBQztFQUNsQixDQUFDLENBQUMsT0FBT08sR0FBRyxFQUFFO0lBQ1ZWLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDUyxHQUFHLENBQUM7SUFDaEJyQixHQUFHLENBQUNzQixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUNqQkMsT0FBTyxFQUFFLEtBQUs7TUFDZEMsT0FBTyxFQUFHLG9DQUFtQ0osR0FBSTtJQUNyRCxDQUFDLENBQUM7RUFDTjtBQUNKOztBQUVBO0FBQ0EsZUFBZUssaUJBQWlCLENBQUMzQixHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUN2QztBQUFBO0FBR0csTUFBTTJCLGFBQWEsR0FBRztFQUN6QjdCLElBQUk7RUFDSmUsb0JBQW9CO0VBQ3BCYTtBQUNKLENBQUM7QUFBQSJ9","map":{"version":3,"names":["test","req","res","send","network","process","env","NETWORK","alchemy","getAlchemy","core","resolveName","then","console","log","list_all_wallet_nfts","nfts","nftsIterable","nft","getNftsForOwnerIterator","params","walletId","push","err","status","json","success","message","register_a_wallet","nftController"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\controllers\\","sources":["nftController.js"],"sourcesContent":["import { getAlchemy } from \"../../utils/alchemy.js\"\r\n//import { testDb } from \"../models/test.js\";\r\n\r\nfunction test(req, res) {\r\n    //testDb();\r\n    res.send({ network: process.env.NETWORK })\r\n    let alchemy = getAlchemy()\r\n    alchemy.core.resolveName(\"xyz.3dot0.eth\").then(console.log);\r\n}\r\n\r\n// returns all the nfts owned by a wallet address\r\nasync function list_all_wallet_nfts(req, res) {\r\n    try {\r\n        let alchemy = getAlchemy()\r\n        // Print all NFTs returned in the response:\r\n        let nfts = [];\r\n        // Get the async iterable for the owner's NFTs.\r\n        const nftsIterable = alchemy.nft.getNftsForOwnerIterator(req.params.walletId);\r\n\r\n        // Iterate over the NFTs and add them to the nfts array.\r\n        for await (const nft of nftsIterable) {\r\n            nfts.push(nft);\r\n        }\r\n        //let nfts = await alchemy.nft.getNftsForOwner(req.params.walletId)\r\n        console.log(nfts)\r\n        res.send(nfts)\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***list_all_wallet_nfts error -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\n///register a new wallet account in the system\r\nasync function register_a_wallet(req, res) {\r\n    //\r\n}\r\n\r\nexport const nftController = {\r\n    test,\r\n    list_all_wallet_nfts,\r\n    register_a_wallet\r\n}\r\n"],"mappings":";;;;;;AAAA;AACA;;AAEA,SAASA,IAAI,CAACC,GAAG,EAAEC,GAAG,EAAE;EACpB;EACAA,GAAG,CAACC,IAAI,CAAC;IAAEC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC;EAAQ,CAAC,CAAC;EAC1C,IAAIC,OAAO,GAAG,IAAAC,mBAAU,GAAE;EAC1BD,OAAO,CAACE,IAAI,CAACC,WAAW,CAAC,eAAe,CAAC,CAACC,IAAI,CAACC,OAAO,CAACC,GAAG,CAAC;AAC/D;;AAEA;AACA,eAAeC,oBAAoB,CAACd,GAAG,EAAEC,GAAG,EAAE;EAC1C,IAAI;IACA,IAAIM,OAAO,GAAG,IAAAC,mBAAU,GAAE;IAC1B;IACA,IAAIO,IAAI,GAAG,EAAE;IACb;IACA,MAAMC,YAAY,GAAGT,OAAO,CAACU,GAAG,CAACC,uBAAuB,CAAClB,GAAG,CAACmB,MAAM,CAACC,QAAQ,CAAC;;IAE7E;IACA,WAAW,MAAMH,GAAG,IAAID,YAAY,EAAE;MAClCD,IAAI,CAACM,IAAI,CAACJ,GAAG,CAAC;IAClB;IACA;IACAL,OAAO,CAACC,GAAG,CAACE,IAAI,CAAC;IACjBd,GAAG,CAACC,IAAI,CAACa,IAAI,CAAC;EAClB,CAAC,CAAC,OAAOO,GAAG,EAAE;IACVV,OAAO,CAACC,GAAG,CAACS,GAAG,CAAC;IAChBrB,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MACjBC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAG,oCAAmCJ,GAAI;IACrD,CAAC,CAAC;EACN;AACJ;;AAEA;AACA,eAAeK,iBAAiB,CAAC3B,GAAG,EAAEC,GAAG,EAAE;EACvC;AAAA;AAGG,MAAM2B,aAAa,GAAG;EACzB7B,IAAI;EACJe,oBAAoB;EACpBa;AACJ,CAAC;AAAA"}},"mtime":1718824568508},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\utils\\\\alchemy.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAlchemy = getAlchemy;\nvar _alchemySdk = require(\"alchemy-sdk\");\nfunction getAlchemy() {\n  // Optional Config object, but defaults to demo api-key and eth-mainnet.\n  const settings = {\n    apiKey: process.env.ALCHEMY_KEY,\n    // Replace with your Alchemy API Key.\n    network: process.env.NETWORK === \"1\" ? _alchemySdk.Network.ETH_MAINNET : _alchemySdk.Network.ETH_SEPOLIA // Replace with your network.\n  };\n\n  return new _alchemySdk.Alchemy(settings);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRBbGNoZW15Iiwic2V0dGluZ3MiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiQUxDSEVNWV9LRVkiLCJuZXR3b3JrIiwiTkVUV09SSyIsIk5ldHdvcmsiLCJFVEhfTUFJTk5FVCIsIkVUSF9TRVBPTElBIiwiQWxjaGVteSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXHV0aWxzXFwiLCJzb3VyY2VzIjpbImFsY2hlbXkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV0d29yaywgQWxjaGVteSB9IGZyb20gXCJhbGNoZW15LXNka1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEFsY2hlbXkoKSB7XHJcbiAgICAvLyBPcHRpb25hbCBDb25maWcgb2JqZWN0LCBidXQgZGVmYXVsdHMgdG8gZGVtbyBhcGkta2V5IGFuZCBldGgtbWFpbm5ldC5cclxuICAgIGNvbnN0IHNldHRpbmdzID0ge1xyXG4gICAgICAgIGFwaUtleTogcHJvY2Vzcy5lbnYuQUxDSEVNWV9LRVksIC8vIFJlcGxhY2Ugd2l0aCB5b3VyIEFsY2hlbXkgQVBJIEtleS5cclxuICAgICAgICBuZXR3b3JrOlxyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5ORVRXT1JLID09PSBcIjFcIlxyXG4gICAgICAgICAgICAgICAgPyBOZXR3b3JrLkVUSF9NQUlOTkVUXHJcbiAgICAgICAgICAgICAgICA6IE5ldHdvcmsuRVRIX1NFUE9MSUEgLy8gUmVwbGFjZSB3aXRoIHlvdXIgbmV0d29yay5cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIG5ldyBBbGNoZW15KHNldHRpbmdzKTtcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBRU8sU0FBU0EsVUFBVSxHQUFHO0VBQ3pCO0VBQ0EsTUFBTUMsUUFBUSxHQUFHO0lBQ2JDLE1BQU0sRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVc7SUFBRTtJQUNqQ0MsT0FBTyxFQUNISCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csT0FBTyxLQUFLLEdBQUcsR0FDckJDLG1CQUFPLENBQUNDLFdBQVcsR0FDbkJELG1CQUFPLENBQUNFLFdBQVcsQ0FBQztFQUNsQyxDQUFDOztFQUVELE9BQU8sSUFBSUMsbUJBQU8sQ0FBQ1YsUUFBUSxDQUFDO0FBQ2hDIn0=","map":{"version":3,"names":["getAlchemy","settings","apiKey","process","env","ALCHEMY_KEY","network","NETWORK","Network","ETH_MAINNET","ETH_SEPOLIA","Alchemy"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\utils\\","sources":["alchemy.js"],"sourcesContent":["import { Network, Alchemy } from \"alchemy-sdk\";\r\n\r\nexport function getAlchemy() {\r\n    // Optional Config object, but defaults to demo api-key and eth-mainnet.\r\n    const settings = {\r\n        apiKey: process.env.ALCHEMY_KEY, // Replace with your Alchemy API Key.\r\n        network:\r\n            process.env.NETWORK === \"1\"\r\n                ? Network.ETH_MAINNET\r\n                : Network.ETH_SEPOLIA // Replace with your network.\r\n    };\r\n\r\n    return new Alchemy(settings);\r\n}\r\n"],"mappings":";;;;;;AAAA;AAEO,SAASA,UAAU,GAAG;EACzB;EACA,MAAMC,QAAQ,GAAG;IACbC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW;IAAE;IACjCC,OAAO,EACHH,OAAO,CAACC,GAAG,CAACG,OAAO,KAAK,GAAG,GACrBC,mBAAO,CAACC,WAAW,GACnBD,mBAAO,CAACE,WAAW,CAAC;EAClC,CAAC;;EAED,OAAO,IAAIC,mBAAO,CAACV,QAAQ,CAAC;AAChC"}},"mtime":1718370377909},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\swapsRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.swapRouter = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _swapController = require(\"../controllers/swapController.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst swapRouter = _express.default.Router();\nexports.swapRouter = swapRouter;\nswapRouter.post(\"/\", _swapController.swapController.newSwap).put(\"/\", _swapController.swapController.updateSwap).patch(\"/status\", _swapController.swapController.updateSwapStatus).get(\"/history\", _swapController.swapController.history).get(\"/pending\", _swapController.swapController.getPending).post(\"/signature\", _swapController.swapController.sendSign).get(\"/\", _swapController.swapController.getSwapDetails)\n\n// open swaps \n.post(\"/openswap/\", _swapController.swapController.newSwap).put(\"/openswap/\", _swapController.swapController.newSwap).delete(\"/openswap/\", _swapController.swapController.newSwap).get(\"/openswap/getOpenSwapList\", _swapController.swapController.newSwap).get(\"/openswap/proposeOpenSwap\", _swapController.swapController.newSwap).get(\"/openswap/closeOpenSwapoffers\", _swapController.swapController.newSwap).get(\"/openswap/acceptOpenSwap\", _swapController.swapController.newSwap);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzd2FwUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJzd2FwQ29udHJvbGxlciIsIm5ld1N3YXAiLCJwdXQiLCJ1cGRhdGVTd2FwIiwicGF0Y2giLCJ1cGRhdGVTd2FwU3RhdHVzIiwiZ2V0IiwiaGlzdG9yeSIsImdldFBlbmRpbmciLCJzZW5kU2lnbiIsImdldFN3YXBEZXRhaWxzIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEtvbWFsIFN5ZWRcXExhdGVzdFNhamphZENvZGVcXEJhY2tlbmQtdjJcXHNyY1xcYXBpXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsic3dhcHNSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgeyBzd2FwQ29udHJvbGxlciB9IGZyb20gXCIuLi9jb250cm9sbGVycy9zd2FwQ29udHJvbGxlci5qc1wiXHJcblxyXG5leHBvcnQgY29uc3Qgc3dhcFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcclxuXHJcbnN3YXBSb3V0ZXJcclxuICAgIC5wb3N0KFwiL1wiLCBzd2FwQ29udHJvbGxlci5uZXdTd2FwKVxyXG4gICAgLnB1dChcIi9cIiwgc3dhcENvbnRyb2xsZXIudXBkYXRlU3dhcClcclxuICAgIC5wYXRjaChcIi9zdGF0dXNcIiwgc3dhcENvbnRyb2xsZXIudXBkYXRlU3dhcFN0YXR1cylcclxuICAgIC5nZXQoXCIvaGlzdG9yeVwiLCBzd2FwQ29udHJvbGxlci5oaXN0b3J5KVxyXG4gICAgLmdldChcIi9wZW5kaW5nXCIsIHN3YXBDb250cm9sbGVyLmdldFBlbmRpbmcpXHJcbiAgICAucG9zdChcIi9zaWduYXR1cmVcIixzd2FwQ29udHJvbGxlci5zZW5kU2lnbilcclxuICAgIC5nZXQoXCIvXCIsIHN3YXBDb250cm9sbGVyLmdldFN3YXBEZXRhaWxzKVxyXG5cclxuICAgIC8vIG9wZW4gc3dhcHMgXHJcbiAgICAucG9zdChcIi9vcGVuc3dhcC9cIiAsIHN3YXBDb250cm9sbGVyLm5ld1N3YXApXHJcbiAgICAucHV0KFwiL29wZW5zd2FwL1wiICwgc3dhcENvbnRyb2xsZXIubmV3U3dhcClcclxuICAgIC5kZWxldGUoXCIvb3BlbnN3YXAvXCIgLCBzd2FwQ29udHJvbGxlci5uZXdTd2FwKVxyXG5cclxuICAgIC5nZXQoXCIvb3BlbnN3YXAvZ2V0T3BlblN3YXBMaXN0XCIgLCBzd2FwQ29udHJvbGxlci5uZXdTd2FwKVxyXG4gICAgLmdldChcIi9vcGVuc3dhcC9wcm9wb3NlT3BlblN3YXBcIiAsIHN3YXBDb250cm9sbGVyLm5ld1N3YXApXHJcbiAgICAuZ2V0KFwiL29wZW5zd2FwL2Nsb3NlT3BlblN3YXBvZmZlcnNcIiAsIHN3YXBDb250cm9sbGVyLm5ld1N3YXApXHJcbiAgICAuZ2V0KFwiL29wZW5zd2FwL2FjY2VwdE9wZW5Td2FwXCIgLCBzd2FwQ29udHJvbGxlci5uZXdTd2FwKSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUFpRTtBQUUxRCxNQUFNQSxVQUFVLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sRUFBRTtBQUFBO0FBRTFDRixVQUFVLENBQ0xHLElBQUksQ0FBQyxHQUFHLEVBQUVDLDhCQUFjLENBQUNDLE9BQU8sQ0FBQyxDQUNqQ0MsR0FBRyxDQUFDLEdBQUcsRUFBRUYsOEJBQWMsQ0FBQ0csVUFBVSxDQUFDLENBQ25DQyxLQUFLLENBQUMsU0FBUyxFQUFFSiw4QkFBYyxDQUFDSyxnQkFBZ0IsQ0FBQyxDQUNqREMsR0FBRyxDQUFDLFVBQVUsRUFBRU4sOEJBQWMsQ0FBQ08sT0FBTyxDQUFDLENBQ3ZDRCxHQUFHLENBQUMsVUFBVSxFQUFFTiw4QkFBYyxDQUFDUSxVQUFVLENBQUMsQ0FDMUNULElBQUksQ0FBQyxZQUFZLEVBQUNDLDhCQUFjLENBQUNTLFFBQVEsQ0FBQyxDQUMxQ0gsR0FBRyxDQUFDLEdBQUcsRUFBRU4sOEJBQWMsQ0FBQ1UsY0FBYzs7QUFFdkM7QUFBQSxDQUNDWCxJQUFJLENBQUMsWUFBWSxFQUFHQyw4QkFBYyxDQUFDQyxPQUFPLENBQUMsQ0FDM0NDLEdBQUcsQ0FBQyxZQUFZLEVBQUdGLDhCQUFjLENBQUNDLE9BQU8sQ0FBQyxDQUMxQ1UsTUFBTSxDQUFDLFlBQVksRUFBR1gsOEJBQWMsQ0FBQ0MsT0FBTyxDQUFDLENBRTdDSyxHQUFHLENBQUMsMkJBQTJCLEVBQUdOLDhCQUFjLENBQUNDLE9BQU8sQ0FBQyxDQUN6REssR0FBRyxDQUFDLDJCQUEyQixFQUFHTiw4QkFBYyxDQUFDQyxPQUFPLENBQUMsQ0FDekRLLEdBQUcsQ0FBQywrQkFBK0IsRUFBR04sOEJBQWMsQ0FBQ0MsT0FBTyxDQUFDLENBQzdESyxHQUFHLENBQUMsMEJBQTBCLEVBQUdOLDhCQUFjLENBQUNDLE9BQU8sQ0FBQyJ9","map":{"version":3,"names":["swapRouter","express","Router","post","swapController","newSwap","put","updateSwap","patch","updateSwapStatus","get","history","getPending","sendSign","getSwapDetails","delete"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\routes\\","sources":["swapsRoutes.js"],"sourcesContent":["import express from \"express\"\r\nimport { swapController } from \"../controllers/swapController.js\"\r\n\r\nexport const swapRouter = express.Router()\r\n\r\nswapRouter\r\n    .post(\"/\", swapController.newSwap)\r\n    .put(\"/\", swapController.updateSwap)\r\n    .patch(\"/status\", swapController.updateSwapStatus)\r\n    .get(\"/history\", swapController.history)\r\n    .get(\"/pending\", swapController.getPending)\r\n    .post(\"/signature\",swapController.sendSign)\r\n    .get(\"/\", swapController.getSwapDetails)\r\n\r\n    // open swaps \r\n    .post(\"/openswap/\" , swapController.newSwap)\r\n    .put(\"/openswap/\" , swapController.newSwap)\r\n    .delete(\"/openswap/\" , swapController.newSwap)\r\n\r\n    .get(\"/openswap/getOpenSwapList\" , swapController.newSwap)\r\n    .get(\"/openswap/proposeOpenSwap\" , swapController.newSwap)\r\n    .get(\"/openswap/closeOpenSwapoffers\" , swapController.newSwap)\r\n    .get(\"/openswap/acceptOpenSwap\" , swapController.newSwap)"],"mappings":";;;;;;AAAA;AACA;AAAiE;AAE1D,MAAMA,UAAU,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAAA;AAE1CF,UAAU,CACLG,IAAI,CAAC,GAAG,EAAEC,8BAAc,CAACC,OAAO,CAAC,CACjCC,GAAG,CAAC,GAAG,EAAEF,8BAAc,CAACG,UAAU,CAAC,CACnCC,KAAK,CAAC,SAAS,EAAEJ,8BAAc,CAACK,gBAAgB,CAAC,CACjDC,GAAG,CAAC,UAAU,EAAEN,8BAAc,CAACO,OAAO,CAAC,CACvCD,GAAG,CAAC,UAAU,EAAEN,8BAAc,CAACQ,UAAU,CAAC,CAC1CT,IAAI,CAAC,YAAY,EAACC,8BAAc,CAACS,QAAQ,CAAC,CAC1CH,GAAG,CAAC,GAAG,EAAEN,8BAAc,CAACU,cAAc;;AAEvC;AAAA,CACCX,IAAI,CAAC,YAAY,EAAGC,8BAAc,CAACC,OAAO,CAAC,CAC3CC,GAAG,CAAC,YAAY,EAAGF,8BAAc,CAACC,OAAO,CAAC,CAC1CU,MAAM,CAAC,YAAY,EAAGX,8BAAc,CAACC,OAAO,CAAC,CAE7CK,GAAG,CAAC,2BAA2B,EAAGN,8BAAc,CAACC,OAAO,CAAC,CACzDK,GAAG,CAAC,2BAA2B,EAAGN,8BAAc,CAACC,OAAO,CAAC,CACzDK,GAAG,CAAC,+BAA+B,EAAGN,8BAAc,CAACC,OAAO,CAAC,CAC7DK,GAAG,CAAC,0BAA0B,EAAGN,8BAAc,CAACC,OAAO,CAAC"}},"mtime":1718370377899},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\swapController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.swapController = void 0;\nvar _models = _interopRequireDefault(require(\"../../database/models\"));\nvar _sequelize = require(\"sequelize\");\nvar _constants = require(\"../utils/constants.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction test(req, res) {\n  //testDb();\n  res.send({\n    network: process.env.NETWORK\n  });\n}\nconst newSwap = async (req, res) => {\n  try {\n    var metadata = req.body.metadata;\n    const response = await _models.default.swaps.create({\n      metadata: JSON.stringify(metadata),\n      init_address: req.body.init_address.trim(),\n      accept_address: req.body.accept_address.trim(),\n      init_sign: req.body.init_sign.trim(),\n      swap_mode: req.body.swap_mode,\n      open_trade_id: null,\n      trading_chain: req.body.trading_chain,\n      status: _constants.SwapStatus.PENDING,\n      offer_type: req.body.offer_type,\n      trade_id: req.body.trade_id,\n      swap_preferences: null\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"new_swap\",\n        data: response\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***new_swap error -> ${err}`\n    });\n  }\n};\nconst updateSwap = async (req, res) => {\n  try {\n    var metadata = req.body.metadata;\n    const response = await _models.default.swaps.update({\n      metadata: JSON.stringify(metadata),\n      // status: 1, //1 is pending\n      init_address: req.body.init_address.trim(),\n      accept_address: req.body.accept_address.trim(),\n      init_sign: req.body.init_sign.trim(),\n      swap_mode: req.body.swap_mode,\n      open_trade_id: null,\n      trading_chain: req.body.trading_chain,\n      status: _constants.SwapStatus.PENDING,\n      offer_type: req.body.offer_type,\n      trade_id: req.body.trade_id,\n      swap_preferences: null\n    }, {\n      where: {\n        id: req.body.id\n      }\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"update_swap\",\n        data: response\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***update_swap error -> ${err}`\n    });\n  }\n};\nconst updateSwapStatus = async (req, res) => {\n  try {\n    const response = await _models.default.swaps.update({\n      status: req.body.status,\n      tx: \"\" + req.body.txn,\n      notes: \"\" + req.body.notes,\n      metadata: req.body.metadata,\n      timestamp: req.body.timestamp,\n      swap_mode: req.body.swap_mode,\n      open_trade_id: null,\n      trading_chain: req.body.trading_chain,\n      status: _constants.SwapStatus.PENDING,\n      offer_type: req.body.offer_type,\n      trade_id: req.body.trade_id,\n      swap_preferences: null\n    }, {\n      where: {\n        id: req.body.id\n      }\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"update_swap_status\",\n        data: response\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***update_swap_status -> ${err}`\n    });\n  }\n};\nconst getSwapDetails = async (req, res) => {\n  try {\n    console.log(req.query.swapId);\n    const swap = await _models.default.swaps.findByPk(req.query.swapId);\n    if (swap) {\n      let walletId = req.query.walletId;\n      const metadata = JSON.parse(swap.metadata);\n      console.log(metadata);\n      if (swap.init_address !== walletId && swap.accept_address !== walletId) {\n        res.status(200).json({\n          success: false,\n          message: \"not authorized to view this swap\"\n        });\n      } else {\n        res.json({\n          success: true,\n          message: \"getSwapDetails\",\n          data: swap\n        });\n      }\n    } else {\n      res.status(200).json({\n        success: false,\n        message: \"swap details not found\"\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***getSwapDetails error -> ${err}`\n    });\n  }\n};\nconst getPending = async (req, res) => {\n  try {\n    const response = await _models.default.swaps.findAll({\n      where: {\n        [_sequelize.Op.and]: {\n          status: 1,\n          [_sequelize.Op.or]: [{\n            accept_address: req.query.address\n          }, {\n            init_address: req.query.address\n          }]\n        }\n      }\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"get_pending\",\n        data: response\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***get_pending error -> ${err}`\n    });\n  }\n};\nconst history = async (req, res) => {\n  try {\n    const response = await _models.default.swaps.findAll({\n      //attributes: [\"createdAt\", \"status\"],\n      where: {\n        [_sequelize.Op.or]: [{\n          accept_address: req.query.address\n        }, {\n          init_address: req.query.address\n        }]\n      }\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"history\",\n        data: response\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***history error -> ${err}`\n    });\n  }\n};\nconst sendSign = async (req, res) => {\n  try {\n    const response = await _models.default.swaps.update({\n      init_sign: req.body.sign\n    }, {\n      where: {\n        init_address: req.body.address\n      }\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"send_sign\",\n        data: response\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***send_sign error -> ${err}`\n    });\n  }\n};\nconst swapController = {\n  test,\n  newSwap,\n  updateSwap,\n  updateSwapStatus,\n  getPending,\n  history,\n  sendSign,\n  getSwapDetails\n};\nexports.swapController = swapController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0ZXN0IiwicmVxIiwicmVzIiwic2VuZCIsIm5ldHdvcmsiLCJwcm9jZXNzIiwiZW52IiwiTkVUV09SSyIsIm5ld1N3YXAiLCJtZXRhZGF0YSIsImJvZHkiLCJyZXNwb25zZSIsImRiIiwic3dhcHMiLCJjcmVhdGUiLCJKU09OIiwic3RyaW5naWZ5IiwiaW5pdF9hZGRyZXNzIiwidHJpbSIsImFjY2VwdF9hZGRyZXNzIiwiaW5pdF9zaWduIiwic3dhcF9tb2RlIiwib3Blbl90cmFkZV9pZCIsInRyYWRpbmdfY2hhaW4iLCJzdGF0dXMiLCJTd2FwU3RhdHVzIiwiUEVORElORyIsIm9mZmVyX3R5cGUiLCJ0cmFkZV9pZCIsInN3YXBfcHJlZmVyZW5jZXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJkYXRhIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZVN3YXAiLCJ1cGRhdGUiLCJ3aGVyZSIsImlkIiwidXBkYXRlU3dhcFN0YXR1cyIsInR4IiwidHhuIiwibm90ZXMiLCJ0aW1lc3RhbXAiLCJnZXRTd2FwRGV0YWlscyIsInF1ZXJ5Iiwic3dhcElkIiwic3dhcCIsImZpbmRCeVBrIiwid2FsbGV0SWQiLCJwYXJzZSIsImdldFBlbmRpbmciLCJmaW5kQWxsIiwiT3AiLCJhbmQiLCJvciIsImFkZHJlc3MiLCJoaXN0b3J5Iiwic2VuZFNpZ24iLCJzaWduIiwic3dhcENvbnRyb2xsZXIiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcS29tYWwgU3llZFxcTGF0ZXN0U2FqamFkQ29kZVxcQmFja2VuZC12Mlxcc3JjXFxhcGlcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbInN3YXBDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYiBmcm9tIFwiLi4vLi4vZGF0YWJhc2UvbW9kZWxzXCI7XHJcbmltcG9ydCB7IE9wIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xyXG5pbXBvcnQgeyBPZmZlclR5cGUsIFN3YXBTdGF0dXMgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5cclxuZnVuY3Rpb24gdGVzdChyZXEsIHJlcykge1xyXG4gICAgLy90ZXN0RGIoKTtcclxuICAgIHJlcy5zZW5kKHsgbmV0d29yazogcHJvY2Vzcy5lbnYuTkVUV09SSyB9KVxyXG59XHJcblxyXG5jb25zdCBuZXdTd2FwID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHZhciBtZXRhZGF0YSA9IHJlcS5ib2R5Lm1ldGFkYXRhXHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGIuc3dhcHMuY3JlYXRlKHtcclxuICAgICAgICAgICAgbWV0YWRhdGE6IEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSxcclxuICAgICAgICAgICAgaW5pdF9hZGRyZXNzOiByZXEuYm9keS5pbml0X2FkZHJlc3MudHJpbSgpLFxyXG4gICAgICAgICAgICBhY2NlcHRfYWRkcmVzczogcmVxLmJvZHkuYWNjZXB0X2FkZHJlc3MudHJpbSgpLFxyXG4gICAgICAgICAgICBpbml0X3NpZ246IHJlcS5ib2R5LmluaXRfc2lnbi50cmltKCksXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzd2FwX21vZGU6IHJlcS5ib2R5LnN3YXBfbW9kZSxcclxuICAgICAgICAgICAgb3Blbl90cmFkZV9pZDogbnVsbCxcclxuICAgICAgICAgICAgdHJhZGluZ19jaGFpbjogcmVxLmJvZHkudHJhZGluZ19jaGFpbiwgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHN0YXR1czogU3dhcFN0YXR1cy5QRU5ESU5HLFxyXG4gICAgICAgICAgICBvZmZlcl90eXBlOiByZXEuYm9keS5vZmZlcl90eXBlLFxyXG4gICAgICAgICAgICB0cmFkZV9pZCA6IHJlcS5ib2R5LnRyYWRlX2lkLFxyXG4gICAgICAgICAgICBzd2FwX3ByZWZlcmVuY2VzOiBudWxsXHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJuZXdfc3dhcFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogYCoqKm5ld19zd2FwIGVycm9yIC0+ICR7ZXJyfWBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCB1cGRhdGVTd2FwID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHZhciBtZXRhZGF0YSA9IHJlcS5ib2R5Lm1ldGFkYXRhXHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGIuc3dhcHMudXBkYXRlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpLFxyXG4gICAgICAgICAgICAgICAvLyBzdGF0dXM6IDEsIC8vMSBpcyBwZW5kaW5nXHJcbiAgICAgICAgICAgICAgICBpbml0X2FkZHJlc3M6IHJlcS5ib2R5LmluaXRfYWRkcmVzcy50cmltKCksXHJcbiAgICAgICAgICAgICAgICBhY2NlcHRfYWRkcmVzczogcmVxLmJvZHkuYWNjZXB0X2FkZHJlc3MudHJpbSgpLFxyXG4gICAgICAgICAgICAgICAgaW5pdF9zaWduOiByZXEuYm9keS5pbml0X3NpZ24udHJpbSgpLFxyXG5cclxuICAgICAgICAgICAgICAgIHN3YXBfbW9kZTogcmVxLmJvZHkuc3dhcF9tb2RlLFxyXG4gICAgICAgICAgICAgICAgb3Blbl90cmFkZV9pZDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHRyYWRpbmdfY2hhaW46IHJlcS5ib2R5LnRyYWRpbmdfY2hhaW4sICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBTd2FwU3RhdHVzLlBFTkRJTkcsXHJcbiAgICAgICAgICAgICAgICBvZmZlcl90eXBlOiByZXEuYm9keS5vZmZlcl90eXBlLFxyXG4gICAgICAgICAgICAgICAgdHJhZGVfaWQgOiByZXEuYm9keS50cmFkZV9pZCxcclxuICAgICAgICAgICAgICAgIHN3YXBfcHJlZmVyZW5jZXM6IG51bGwsXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7IHdoZXJlOiB7IGlkOiByZXEuYm9keS5pZCB9IH1cclxuICAgICAgICApXHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJ1cGRhdGVfc3dhcFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogYCoqKnVwZGF0ZV9zd2FwIGVycm9yIC0+ICR7ZXJyfWBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCB1cGRhdGVTd2FwU3RhdHVzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGIuc3dhcHMudXBkYXRlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHJlcS5ib2R5LnN0YXR1cyxcclxuICAgICAgICAgICAgICAgIHR4OiBcIlwiICsgcmVxLmJvZHkudHhuLFxyXG4gICAgICAgICAgICAgICAgbm90ZXM6IFwiXCIgKyByZXEuYm9keS5ub3RlcyxcclxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiByZXEuYm9keS5tZXRhZGF0YSxcclxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogcmVxLmJvZHkudGltZXN0YW1wLFxyXG5cclxuICAgICAgICAgICAgICAgIHN3YXBfbW9kZTogcmVxLmJvZHkuc3dhcF9tb2RlLFxyXG4gICAgICAgICAgICAgICAgb3Blbl90cmFkZV9pZDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHRyYWRpbmdfY2hhaW46IHJlcS5ib2R5LnRyYWRpbmdfY2hhaW4sICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBTd2FwU3RhdHVzLlBFTkRJTkcsXHJcbiAgICAgICAgICAgICAgICBvZmZlcl90eXBlOiByZXEuYm9keS5vZmZlcl90eXBlLFxyXG4gICAgICAgICAgICAgICAgdHJhZGVfaWQgOiByZXEuYm9keS50cmFkZV9pZCxcclxuICAgICAgICAgICAgICAgIHN3YXBfcHJlZmVyZW5jZXM6IG51bGxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgeyB3aGVyZTogeyBpZDogcmVxLmJvZHkuaWQgfSB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwidXBkYXRlX3N3YXBfc3RhdHVzXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiByZXNwb25zZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBgKioqdXBkYXRlX3N3YXBfc3RhdHVzIC0+ICR7ZXJyfWBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBnZXRTd2FwRGV0YWlscyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXEucXVlcnkuc3dhcElkKVxyXG4gICAgICAgIGNvbnN0IHN3YXAgPSBhd2FpdCBkYi5zd2Fwcy5maW5kQnlQayhyZXEucXVlcnkuc3dhcElkKVxyXG4gICAgICAgIGlmIChzd2FwKSB7XHJcbiAgICAgICAgICAgIGxldCB3YWxsZXRJZCA9IHJlcS5xdWVyeS53YWxsZXRJZFxyXG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IEpTT04ucGFyc2Uoc3dhcC5tZXRhZGF0YSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2cobWV0YWRhdGEpXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHN3YXAuaW5pdF9hZGRyZXNzICE9PSB3YWxsZXRJZCAmJlxyXG4gICAgICAgICAgICAgICAgc3dhcC5hY2NlcHRfYWRkcmVzcyAhPT0gd2FsbGV0SWRcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJub3QgYXV0aG9yaXplZCB0byB2aWV3IHRoaXMgc3dhcFwiXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJnZXRTd2FwRGV0YWlsc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHN3YXBcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwic3dhcCBkZXRhaWxzIG5vdCBmb3VuZFwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGAqKipnZXRTd2FwRGV0YWlscyBlcnJvciAtPiAke2Vycn1gXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZ2V0UGVuZGluZyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGRiLnN3YXBzLmZpbmRBbGwoe1xyXG4gICAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICAgICAgW09wLmFuZF06IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgW09wLm9yXTogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGFjY2VwdF9hZGRyZXNzOiByZXEucXVlcnkuYWRkcmVzcyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGluaXRfYWRkcmVzczogcmVxLnF1ZXJ5LmFkZHJlc3MgfVxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImdldF9wZW5kaW5nXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiByZXNwb25zZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBgKioqZ2V0X3BlbmRpbmcgZXJyb3IgLT4gJHtlcnJ9YFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGhpc3RvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkYi5zd2Fwcy5maW5kQWxsKHtcclxuICAgICAgICAgICAgLy9hdHRyaWJ1dGVzOiBbXCJjcmVhdGVkQXRcIiwgXCJzdGF0dXNcIl0sXHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBbT3Aub3JdOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBhY2NlcHRfYWRkcmVzczogcmVxLnF1ZXJ5LmFkZHJlc3MgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGluaXRfYWRkcmVzczogcmVxLnF1ZXJ5LmFkZHJlc3MgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiaGlzdG9yeVwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogYCoqKmhpc3RvcnkgZXJyb3IgLT4gJHtlcnJ9YFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHNlbmRTaWduID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGIuc3dhcHMudXBkYXRlKFxyXG4gICAgICAgICAgICB7IGluaXRfc2lnbjogcmVxLmJvZHkuc2lnbiB9LFxyXG4gICAgICAgICAgICB7IHdoZXJlOiB7IGluaXRfYWRkcmVzczogcmVxLmJvZHkuYWRkcmVzcyB9IH1cclxuICAgICAgICApXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcInNlbmRfc2lnblwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogYCoqKnNlbmRfc2lnbiBlcnJvciAtPiAke2Vycn1gXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHN3YXBDb250cm9sbGVyID0ge1xyXG4gICAgdGVzdCxcclxuICAgIG5ld1N3YXAsXHJcbiAgICB1cGRhdGVTd2FwLFxyXG4gICAgdXBkYXRlU3dhcFN0YXR1cyxcclxuICAgIGdldFBlbmRpbmcsXHJcbiAgICBoaXN0b3J5LFxyXG4gICAgc2VuZFNpZ24sXHJcbiAgICBnZXRTd2FwRGV0YWlsc1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQThEO0FBRTlELFNBQVNBLElBQUksQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUU7RUFDcEI7RUFDQUEsR0FBRyxDQUFDQyxJQUFJLENBQUM7SUFBRUMsT0FBTyxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0M7RUFBUSxDQUFDLENBQUM7QUFDOUM7QUFFQSxNQUFNQyxPQUFPLEdBQUcsT0FBT1AsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDaEMsSUFBSTtJQUNBLElBQUlPLFFBQVEsR0FBR1IsR0FBRyxDQUFDUyxJQUFJLENBQUNELFFBQVE7SUFFaEMsTUFBTUUsUUFBUSxHQUFHLE1BQU1DLGVBQUUsQ0FBQ0MsS0FBSyxDQUFDQyxNQUFNLENBQUM7TUFDbkNMLFFBQVEsRUFBRU0sSUFBSSxDQUFDQyxTQUFTLENBQUNQLFFBQVEsQ0FBQztNQUNsQ1EsWUFBWSxFQUFFaEIsR0FBRyxDQUFDUyxJQUFJLENBQUNPLFlBQVksQ0FBQ0MsSUFBSSxFQUFFO01BQzFDQyxjQUFjLEVBQUVsQixHQUFHLENBQUNTLElBQUksQ0FBQ1MsY0FBYyxDQUFDRCxJQUFJLEVBQUU7TUFDOUNFLFNBQVMsRUFBRW5CLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDVSxTQUFTLENBQUNGLElBQUksRUFB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","map":{"version":3,"names":["test","req","res","send","network","process","env","NETWORK","newSwap","metadata","body","response","db","swaps","create","JSON","stringify","init_address","trim","accept_address","init_sign","swap_mode","open_trade_id","trading_chain","status","SwapStatus","PENDING","offer_type","trade_id","swap_preferences","json","success","message","data","err","console","log","updateSwap","update","where","id","updateSwapStatus","tx","txn","notes","timestamp","getSwapDetails","query","swapId","swap","findByPk","walletId","parse","getPending","findAll","Op","and","or","address","history","sendSign","sign","swapController"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\controllers\\","sources":["swapController.js"],"sourcesContent":["import db from \"../../database/models\";\r\nimport { Op } from \"sequelize\";\r\nimport { OfferType, SwapStatus } from '../utils/constants.js';\r\n\r\nfunction test(req, res) {\r\n    //testDb();\r\n    res.send({ network: process.env.NETWORK })\r\n}\r\n\r\nconst newSwap = async (req, res) => {\r\n    try {\r\n        var metadata = req.body.metadata\r\n\r\n        const response = await db.swaps.create({\r\n            metadata: JSON.stringify(metadata),\r\n            init_address: req.body.init_address.trim(),\r\n            accept_address: req.body.accept_address.trim(),\r\n            init_sign: req.body.init_sign.trim(),\r\n            \r\n            swap_mode: req.body.swap_mode,\r\n            open_trade_id: null,\r\n            trading_chain: req.body.trading_chain,                   \r\n            status: SwapStatus.PENDING,\r\n            offer_type: req.body.offer_type,\r\n            trade_id : req.body.trade_id,\r\n            swap_preferences: null\r\n\r\n            \r\n        })\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"new_swap\",\r\n                data: response\r\n            })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***new_swap error -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\nconst updateSwap = async (req, res) => {\r\n    try {\r\n        var metadata = req.body.metadata\r\n\r\n        const response = await db.swaps.update(\r\n            {\r\n                metadata: JSON.stringify(metadata),\r\n               // status: 1, //1 is pending\r\n                init_address: req.body.init_address.trim(),\r\n                accept_address: req.body.accept_address.trim(),\r\n                init_sign: req.body.init_sign.trim(),\r\n\r\n                swap_mode: req.body.swap_mode,\r\n                open_trade_id: null,\r\n                trading_chain: req.body.trading_chain,                   \r\n                status: SwapStatus.PENDING,\r\n                offer_type: req.body.offer_type,\r\n                trade_id : req.body.trade_id,\r\n                swap_preferences: null,\r\n\r\n            },\r\n            { where: { id: req.body.id } }\r\n        )\r\n\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"update_swap\",\r\n                data: response\r\n            })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***update_swap error -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\nconst updateSwapStatus = async (req, res) => {\r\n    try {\r\n        const response = await db.swaps.update(\r\n            {\r\n                status: req.body.status,\r\n                tx: \"\" + req.body.txn,\r\n                notes: \"\" + req.body.notes,\r\n                metadata: req.body.metadata,\r\n                timestamp: req.body.timestamp,\r\n\r\n                swap_mode: req.body.swap_mode,\r\n                open_trade_id: null,\r\n                trading_chain: req.body.trading_chain,                   \r\n                status: SwapStatus.PENDING,\r\n                offer_type: req.body.offer_type,\r\n                trade_id : req.body.trade_id,\r\n                swap_preferences: null\r\n            },\r\n            { where: { id: req.body.id } }\r\n        )\r\n\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"update_swap_status\",\r\n                data: response\r\n            })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***update_swap_status -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\nconst getSwapDetails = async (req, res) => {\r\n    try {\r\n        console.log(req.query.swapId)\r\n        const swap = await db.swaps.findByPk(req.query.swapId)\r\n        if (swap) {\r\n            let walletId = req.query.walletId\r\n            const metadata = JSON.parse(swap.metadata)\r\n            console.log(metadata)\r\n            if (\r\n                swap.init_address !== walletId &&\r\n                swap.accept_address !== walletId\r\n            ) {\r\n                res.status(200).json({\r\n                    success: false,\r\n                    message: \"not authorized to view this swap\"\r\n                })\r\n            } else {\r\n                res.json({\r\n                    success: true,\r\n                    message: \"getSwapDetails\",\r\n                    data: swap\r\n                })\r\n            }\r\n        } else {\r\n            res.status(200).json({\r\n                success: false,\r\n                message: \"swap details not found\"\r\n            })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***getSwapDetails error -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\nconst getPending = async (req, res) => {\r\n    try {\r\n        const response = await db.swaps.findAll({\r\n            where: {\r\n                [Op.and]: {\r\n                    status: 1,\r\n                    [Op.or]: [\r\n                        { accept_address: req.query.address },\r\n                        { init_address: req.query.address }\r\n                    ]\r\n                }\r\n            }\r\n        })\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"get_pending\",\r\n                data: response\r\n            })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***get_pending error -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\nconst history = async (req, res) => {\r\n    try {\r\n        const response = await db.swaps.findAll({\r\n            //attributes: [\"createdAt\", \"status\"],\r\n            where: {\r\n                [Op.or]: [\r\n                    { accept_address: req.query.address },\r\n                    { init_address: req.query.address }\r\n                ]\r\n            }\r\n        })\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"history\",\r\n                data: response\r\n            })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***history error -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\nconst sendSign = async (req, res) => {\r\n    try {\r\n        const response = await db.swaps.update(\r\n            { init_sign: req.body.sign },\r\n            { where: { init_address: req.body.address } }\r\n        )\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"send_sign\",\r\n                data: response\r\n            })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***send_sign error -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\nexport const swapController = {\r\n    test,\r\n    newSwap,\r\n    updateSwap,\r\n    updateSwapStatus,\r\n    getPending,\r\n    history,\r\n    sendSign,\r\n    getSwapDetails\r\n}\r\n"],"mappings":"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"}},"mtime":1718528737394},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\utils\\\\constants.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SwapStatus = exports.SwapMode = exports.OfferType = void 0;\nconst OfferType = {\n  PRIMARY: 0,\n  COUNTER: 1\n};\nexports.OfferType = OfferType;\nconst SwapMode = {\n  OPEN: 0,\n  PRIVATE: 1\n};\nexports.SwapMode = SwapMode;\nconst SwapStatus = {\n  PENDING: 1,\n  COMPLETED: 2,\n  DECLINED: 3,\n  CANCELLED: 4\n};\nexports.SwapStatus = SwapStatus;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPZmZlclR5cGUiLCJQUklNQVJZIiwiQ09VTlRFUiIsIlN3YXBNb2RlIiwiT1BFTiIsIlBSSVZBVEUiLCJTd2FwU3RhdHVzIiwiUEVORElORyIsIkNPTVBMRVRFRCIsIkRFQ0xJTkVEIiwiQ0FOQ0VMTEVEIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEtvbWFsIFN5ZWRcXExhdGVzdFNhamphZENvZGVcXEJhY2tlbmQtdjJcXHNyY1xcYXBpXFx1dGlsc1xcIiwic291cmNlcyI6WyJjb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IE9mZmVyVHlwZSA9IHtcclxuICAgIFBSSU1BUlk6IDAsXHJcbiAgICBDT1VOVEVSOiAxLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IFN3YXBNb2RlID0ge1xyXG4gICAgT1BFTjogMCxcclxuICAgIFBSSVZBVEU6IDEsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgU3dhcFN0YXR1cyA9IHtcclxuICAgIFBFTkRJTkc6IDEsXHJcbiAgICBDT01QTEVURUQ6IDIsXHJcbiAgICBERUNMSU5FRDogMyxcclxuICAgIENBTkNFTExFRDo0XHJcbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTyxNQUFNQSxTQUFTLEdBQUc7RUFDckJDLE9BQU8sRUFBRSxDQUFDO0VBQ1ZDLE9BQU8sRUFBRTtBQUNiLENBQUM7QUFBQztBQUVLLE1BQU1DLFFBQVEsR0FBRztFQUNwQkMsSUFBSSxFQUFFLENBQUM7RUFDUEMsT0FBTyxFQUFFO0FBQ2IsQ0FBQztBQUFDO0FBRUssTUFBTUMsVUFBVSxHQUFHO0VBQ3RCQyxPQUFPLEVBQUUsQ0FBQztFQUNWQyxTQUFTLEVBQUUsQ0FBQztFQUNaQyxRQUFRLEVBQUUsQ0FBQztFQUNYQyxTQUFTLEVBQUM7QUFDZCxDQUFDO0FBQUMifQ==","map":{"version":3,"names":["OfferType","PRIMARY","COUNTER","SwapMode","OPEN","PRIVATE","SwapStatus","PENDING","COMPLETED","DECLINED","CANCELLED"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\utils\\","sources":["constants.js"],"sourcesContent":["export const OfferType = {\r\n    PRIMARY: 0,\r\n    COUNTER: 1,\r\n};\r\n\r\nexport const SwapMode = {\r\n    OPEN: 0,\r\n    PRIVATE: 1,\r\n};\r\n\r\nexport const SwapStatus = {\r\n    PENDING: 1,\r\n    COMPLETED: 2,\r\n    DECLINED: 3,\r\n    CANCELLED:4\r\n};"],"mappings":";;;;;;AAAO,MAAMA,SAAS,GAAG;EACrBC,OAAO,EAAE,CAAC;EACVC,OAAO,EAAE;AACb,CAAC;AAAC;AAEK,MAAMC,QAAQ,GAAG;EACpBC,IAAI,EAAE,CAAC;EACPC,OAAO,EAAE;AACb,CAAC;AAAC;AAEK,MAAMC,UAAU,GAAG;EACtBC,OAAO,EAAE,CAAC;EACVC,SAAS,EAAE,CAAC;EACZC,QAAQ,EAAE,CAAC;EACXC,SAAS,EAAC;AACd,CAAC;AAAC"}},"mtime":1718370377901},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\openSwapRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.openSwapRouter = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _openSwapController = require(\"../controllers/openSwapController\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst openSwapRouter = _express.default.Router();\nexports.openSwapRouter = openSwapRouter;\nopenSwapRouter.post(\"/create\", _openSwapController.openSwapController.createOpenSwap).get(\"/list\", _openSwapController.openSwapController.getOpenSwapList).get(\"/get-swap/:open_trade_id\", _openSwapController.openSwapController.getSwapPreferences).post(\"/propose\", _openSwapController.openSwapController.proposeOpenSwap).patch(\"/close-offers\", _openSwapController.openSwapController.closeOpenSwapOffers).patch(\"/accept\", _openSwapController.openSwapController.acceptOpenSwap);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcGVuU3dhcFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0Iiwib3BlblN3YXBDb250cm9sbGVyIiwiY3JlYXRlT3BlblN3YXAiLCJnZXQiLCJnZXRPcGVuU3dhcExpc3QiLCJnZXRTd2FwUHJlZmVyZW5jZXMiLCJwcm9wb3NlT3BlblN3YXAiLCJwYXRjaCIsImNsb3NlT3BlblN3YXBPZmZlcnMiLCJhY2NlcHRPcGVuU3dhcCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXGFwaVxccm91dGVzXFwiLCJzb3VyY2VzIjpbIm9wZW5Td2FwUm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgeyBvcGVuU3dhcENvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9vcGVuU3dhcENvbnRyb2xsZXInO1xyXG5cclxuZXhwb3J0IGNvbnN0IG9wZW5Td2FwUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbm9wZW5Td2FwUm91dGVyXHJcbiAgICAucG9zdChcIi9jcmVhdGVcIiwgb3BlblN3YXBDb250cm9sbGVyLmNyZWF0ZU9wZW5Td2FwKVxyXG4gICAgLmdldChcIi9saXN0XCIsIG9wZW5Td2FwQ29udHJvbGxlci5nZXRPcGVuU3dhcExpc3QpXHJcbiAgICAuZ2V0KFwiL2dldC1zd2FwLzpvcGVuX3RyYWRlX2lkXCIsIG9wZW5Td2FwQ29udHJvbGxlci5nZXRTd2FwUHJlZmVyZW5jZXMpXHJcbiAgICAucG9zdChcIi9wcm9wb3NlXCIsIG9wZW5Td2FwQ29udHJvbGxlci5wcm9wb3NlT3BlblN3YXApXHJcbiAgICAucGF0Y2goXCIvY2xvc2Utb2ZmZXJzXCIsIG9wZW5Td2FwQ29udHJvbGxlci5jbG9zZU9wZW5Td2FwT2ZmZXJzKVxyXG4gICAgLnBhdGNoKFwiL2FjY2VwdFwiLCBvcGVuU3dhcENvbnRyb2xsZXIuYWNjZXB0T3BlblN3YXApO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFBdUU7QUFFaEUsTUFBTUEsY0FBYyxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFBQztBQUUvQ0YsY0FBYyxDQUNURyxJQUFJLENBQUMsU0FBUyxFQUFFQyxzQ0FBa0IsQ0FBQ0MsY0FBYyxDQUFDLENBQ2xEQyxHQUFHLENBQUMsT0FBTyxFQUFFRixzQ0FBa0IsQ0FBQ0csZUFBZSxDQUFDLENBQ2hERCxHQUFHLENBQUMsMEJBQTBCLEVBQUVGLHNDQUFrQixDQUFDSSxrQkFBa0IsQ0FBQyxDQUN0RUwsSUFBSSxDQUFDLFVBQVUsRUFBRUMsc0NBQWtCLENBQUNLLGVBQWUsQ0FBQyxDQUNwREMsS0FBSyxDQUFDLGVBQWUsRUFBRU4sc0NBQWtCLENBQUNPLG1CQUFtQixDQUFDLENBQzlERCxLQUFLLENBQUMsU0FBUyxFQUFFTixzQ0FBa0IsQ0FBQ1EsY0FBYyxDQUFDIn0=","map":{"version":3,"names":["openSwapRouter","express","Router","post","openSwapController","createOpenSwap","get","getOpenSwapList","getSwapPreferences","proposeOpenSwap","patch","closeOpenSwapOffers","acceptOpenSwap"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\routes\\","sources":["openSwapRouter.js"],"sourcesContent":["import express from 'express';\r\nimport { openSwapController } from '../controllers/openSwapController';\r\n\r\nexport const openSwapRouter = express.Router();\r\n\r\nopenSwapRouter\r\n    .post(\"/create\", openSwapController.createOpenSwap)\r\n    .get(\"/list\", openSwapController.getOpenSwapList)\r\n    .get(\"/get-swap/:open_trade_id\", openSwapController.getSwapPreferences)\r\n    .post(\"/propose\", openSwapController.proposeOpenSwap)\r\n    .patch(\"/close-offers\", openSwapController.closeOpenSwapOffers)\r\n    .patch(\"/accept\", openSwapController.acceptOpenSwap);\r\n"],"mappings":";;;;;;AAAA;AACA;AAAuE;AAEhE,MAAMA,cAAc,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAAC;AAE/CF,cAAc,CACTG,IAAI,CAAC,SAAS,EAAEC,sCAAkB,CAACC,cAAc,CAAC,CAClDC,GAAG,CAAC,OAAO,EAAEF,sCAAkB,CAACG,eAAe,CAAC,CAChDD,GAAG,CAAC,0BAA0B,EAAEF,sCAAkB,CAACI,kBAAkB,CAAC,CACtEL,IAAI,CAAC,UAAU,EAAEC,sCAAkB,CAACK,eAAe,CAAC,CACpDC,KAAK,CAAC,eAAe,EAAEN,sCAAkB,CAACO,mBAAmB,CAAC,CAC9DD,KAAK,CAAC,SAAS,EAAEN,sCAAkB,CAACQ,cAAc,CAAC"}},"mtime":1718827287594},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\openSwapController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.openSwapController = void 0;\nvar _models = _interopRequireDefault(require(\"../../database/models\"));\nvar _sequelize = require(\"sequelize\");\nvar _constants = require(\"../utils/constants.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nconst handleError = (res, err, message) => {\n  console.error(err);\n  res.status(500).json({\n    success: false,\n    message: `${message} -> ${err.message || err}`\n  });\n};\nconst createOpenSwap = async (req, res) => {\n  try {\n    const metadata = req.body.metadata;\n    const swap_preferences = req.body.swap_preferences;\n    console.log(metadata);\n    const response = await _models.default.swaps.create({\n      metadata: JSON.stringify(metadata),\n      init_address: req.body.init_address.trim(),\n      swap_mode: req.body.swap_mode,\n      open_trade_id: req.body.open_trade_id,\n      trading_chain: req.body.trading_chain,\n      swap_preferences: JSON.stringify(swap_preferences),\n      status: _constants.SwapStatus.PENDING,\n      offer_type: _constants.OfferType.PRIMARY,\n      trade_id: null\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"create_open_swap\",\n        data: response\n      });\n    }\n  } catch (err) {\n    handleError(res, err, \"create_open_swap error\");\n  }\n};\nconst getOpenSwapList = async (req, res) => {\n  try {\n    const response = await _models.default.swaps.findAll({\n      where: {\n        [_sequelize.Op.and]: [{\n          status: _constants.SwapStatus.PENDING\n        }, {\n          swap_mode: _constants.SwapMode.OPEN\n        }, {\n          accept_address: null\n        }]\n      }\n    });\n\n    // Convert metadata and swap_preferences to JSON if they are valid JSON strings\n    const formattedResponse = response.map(swap => {\n      const swapJSON = swap.toJSON();\n      const formattedSwap = _objectSpread(_objectSpread({}, swapJSON), {}, {\n        metadata: tryParseJSON(swapJSON.metadata),\n        swap_preferences: tryParseJSON(swapJSON.swap_preferences),\n        created_at: swapJSON.createdAt,\n        updated_at: swapJSON.updatedAt\n      });\n      // Remove original createdAt and updatedAt fields\n      delete formattedSwap.createdAt;\n      delete formattedSwap.updatedAt;\n      return formattedSwap;\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"get_open_swap_list\",\n        data: formattedResponse\n      });\n    }\n  } catch (err) {\n    handleError(res, err, \"get_open_swap_list error\");\n  }\n};\nconst getSwapPreferences = async (req, res) => {\n  try {\n    const response = await _models.default.swaps.findAll({\n      where: {\n        [_sequelize.Op.and]: [{\n          swap_mode: _constants.SwapMode.OPEN\n        }, {\n          open_trade_id: req.query.open_trade_id\n        }]\n      }\n    });\n\n    // Convert metadata and swap_preferences to JSON if they are valid JSON strings\n    const formattedResponse = response.map(swap => {\n      const swapJSON = swap.toJSON();\n      const formattedSwap = _objectSpread(_objectSpread({}, swapJSON), {}, {\n        metadata: tryParseJSON(swapJSON.metadata),\n        swap_preferences: tryParseJSON(swapJSON.swap_preferences),\n        created_at: swapJSON.createdAt,\n        updated_at: swapJSON.updatedAt\n      });\n      // Remove original createdAt and updatedAt fields\n      delete formattedSwap.createdAt;\n      delete formattedSwap.updatedAt;\n      return formattedSwap;\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"get_open_swap_preference_against_id\",\n        data: formattedResponse\n      });\n    }\n  } catch (err) {\n    handleError(res, err, \"get_open_swap_preference_against_id error\");\n  }\n};\n\n// Helper function to parse JSON safely\nfunction tryParseJSON(jsonString) {\n  try {\n    const parsed = JSON.parse(jsonString);\n    return parsed;\n  } catch (err) {\n    return jsonString; // Return original string if parsing fails\n  }\n}\n\nconst proposeOpenSwap = async (req, res) => {\n  try {\n    const {\n      trade_id,\n      metadata,\n      init_address,\n      init_sign,\n      open_trade_id\n    } = req.body; //trade_id //metadata is accept_meta // open_trade_id\n\n    const swap = await _models.default.swaps.findByPk(swapId);\n    if (!swap || swap.status !== _constants.SwapStatus.PENDING) {\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid swap ID or swap is not open\"\n      });\n    }\n    const response = await _models.default.swaps.create({\n      metadata: JSON.stringify(metadata),\n      status: _constants.SwapStatus.PENDING,\n      init_address: init_address.trim(),\n      init_sign: init_sign.trim(),\n      accept_address: accept_address.trim(),\n      // init_address will be reterieved from db , against open_trade_id\n      trade_id: trade_id,\n      offer_type: _constants.OfferType.PRIMARY\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"propose_open_swap\",\n        data: response\n      });\n    }\n  } catch (err) {\n    handleError(res, err, \"propose_open_swap error\");\n  }\n};\nconst closeOpenSwapOffers = async (req, res) => {\n  try {\n    const {\n      open_trade_id\n    } = req.body; // delete all offers based on open_trade_id\n\n    const response = await _models.default.sequelize.transaction(async t => {\n      const updateOffers = await _models.default.swaps.update({\n        status: _constants.SwapStatus.DECLINED\n      }, {\n        where: {\n          trade_id: swapId,\n          status: _constants.SwapStatus.PENDING\n        },\n        transaction: t\n      });\n      const updateSwap = await _models.default.swaps.update({\n        status: _constants.SwapStatus.CANCELLED\n      }, {\n        where: {\n          id: swapId\n        },\n        transaction: t\n      });\n      return {\n        updateOffers,\n        updateSwap\n      };\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"close_open_swap_offers\",\n        data: response\n      });\n    }\n  } catch (err) {\n    handleError(res, err, \"close_open_swap_offers error\");\n  }\n};\nconst acceptOpenSwap = async (req, res) => {\n  try {\n    const {\n      trade_id,\n      open_trade_id,\n      accept_sign\n    } = req.body; //accept offer based on trade_id and remove all other open_trade_id's\n    const swap = await _models.default.swaps.findByPk(swapId);\n    if (!swap || swap.status !== _constants.SwapStatus.PENDING) {\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid swap ID or swap is not in a valid state for acceptance\"\n      });\n    }\n    const response = await _models.default.sequelize.transaction(async t => {\n      const updateSwap = await swap.update({\n        accept_address: accept_address.trim(),\n        accept_sign: accept_sign.trim(),\n        status: _constants.SwapStatus.COMPLETED\n      }, {\n        transaction: t\n      });\n      const declineOffers = await _models.default.swaps.update({\n        status: _constants.SwapStatus.DECLINED\n      }, {\n        where: {\n          trade_id: swap.trade_id,\n          status: _constants.SwapStatus.PENDING\n        },\n        transaction: t\n      });\n      return {\n        updateSwap,\n        declineOffers\n      };\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"accept_open_swap\",\n        data: response\n      });\n    }\n  } catch (err) {\n    handleError(res, err, \"accept_open_swap error\");\n  }\n};\nconst openSwapController = {\n  createOpenSwap,\n  getOpenSwapList,\n  proposeOpenSwap,\n  closeOpenSwapOffers,\n  acceptOpenSwap,\n  getSwapPreferences\n};\nexports.openSwapController = openSwapController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJoYW5kbGVFcnJvciIsInJlcyIsImVyciIsIm1lc3NhZ2UiLCJjb25zb2xlIiwiZXJyb3IiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsImNyZWF0ZU9wZW5Td2FwIiwicmVxIiwibWV0YWRhdGEiLCJib2R5Iiwic3dhcF9wcmVmZXJlbmNlcyIsImxvZyIsInJlc3BvbnNlIiwiZGIiLCJzd2FwcyIsImNyZWF0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJpbml0X2FkZHJlc3MiLCJ0cmltIiwic3dhcF9tb2RlIiwib3Blbl90cmFkZV9pZCIsInRyYWRpbmdfY2hhaW4iLCJTd2FwU3RhdHVzIiwiUEVORElORyIsIm9mZmVyX3R5cGUiLCJPZmZlclR5cGUiLCJQUklNQVJZIiwidHJhZGVfaWQiLCJkYXRhIiwiZ2V0T3BlblN3YXBMaXN0IiwiZmluZEFsbCIsIndoZXJlIiwiT3AiLCJhbmQiLCJTd2FwTW9kZSIsIk9QRU4iLCJhY2NlcHRfYWRkcmVzcyIsImZvcm1hdHRlZFJlc3BvbnNlIiwibWFwIiwic3dhcCIsInN3YXBKU09OIiwidG9KU09OIiwiZm9ybWF0dGVkU3dhcCIsInRyeVBhcnNlSlNPTiIsImNyZWF0ZWRfYXQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkX2F0IiwidXBkYXRlZEF0IiwiZ2V0U3dhcFByZWZlcmVuY2VzIiwicXVlcnkiLCJqc29uU3RyaW5nIiwicGFyc2VkIiwicGFyc2UiLCJwcm9wb3NlT3BlblN3YXAiLCJpbml0X3NpZ24iLCJmaW5kQnlQayIsInN3YXBJZCIsImNsb3NlT3BlblN3YXBPZmZlcnMiLCJzZXF1ZWxpemUiLCJ0cmFuc2FjdGlvbiIsInQiLCJ1cGRhdGVPZmZlcnMiLCJ1cGRhdGUiLCJERUNMSU5FRCIsInVwZGF0ZVN3YXAiLCJDQU5DRUxMRUQiLCJpZCIsImFjY2VwdE9wZW5Td2FwIiwiYWNjZXB0X3NpZ24iLCJDT01QTEVURUQiLCJkZWNsaW5lT2ZmZXJzIiwib3BlblN3YXBDb250cm9sbGVyIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEtvbWFsIFN5ZWRcXExhdGVzdFNhamphZENvZGVcXEJhY2tlbmQtdjJcXHNyY1xcYXBpXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJvcGVuU3dhcENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gb3BlblN3YXBDb250cm9sbGVyLmpzXHJcbmltcG9ydCBkYiBmcm9tIFwiLi4vLi4vZGF0YWJhc2UvbW9kZWxzXCI7XHJcbmltcG9ydCB7IE9wIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xyXG5pbXBvcnQgeyBPZmZlclR5cGUsIFN3YXBNb2RlLCBTd2FwU3RhdHVzIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuXHJcbmNvbnN0IGhhbmRsZUVycm9yID0gKHJlcywgZXJyLCBtZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogYCR7bWVzc2FnZX0gLT4gJHtlcnIubWVzc2FnZSB8fCBlcnJ9YFxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVPcGVuU3dhcCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHJlcS5ib2R5Lm1ldGFkYXRhO1xyXG4gICAgICAgIGNvbnN0IHN3YXBfcHJlZmVyZW5jZXMgPSByZXEuYm9keS5zd2FwX3ByZWZlcmVuY2VzO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG1ldGFkYXRhKTtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGRiLnN3YXBzLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhOiBKU09OLnN0cmluZ2lmeShtZXRhZGF0YSksXHJcbiAgICAgICAgICAgIGluaXRfYWRkcmVzczogcmVxLmJvZHkuaW5pdF9hZGRyZXNzLnRyaW0oKSxcclxuICAgICAgICAgICAgc3dhcF9tb2RlOiByZXEuYm9keS5zd2FwX21vZGUsXHJcbiAgICAgICAgICAgIG9wZW5fdHJhZGVfaWQ6IHJlcS5ib2R5Lm9wZW5fdHJhZGVfaWQsXHJcbiAgICAgICAgICAgIHRyYWRpbmdfY2hhaW46IHJlcS5ib2R5LnRyYWRpbmdfY2hhaW4sXHJcbiAgICAgICAgICAgIHN3YXBfcHJlZmVyZW5jZXM6IEpTT04uc3RyaW5naWZ5KHN3YXBfcHJlZmVyZW5jZXMpLFxyXG5cclxuICAgICAgICAgICAgc3RhdHVzOiBTd2FwU3RhdHVzLlBFTkRJTkcsXHJcbiAgICAgICAgICAgIG9mZmVyX3R5cGU6IE9mZmVyVHlwZS5QUklNQVJZLFxyXG4gICAgICAgICAgICB0cmFkZV9pZDogbnVsbCxcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImNyZWF0ZV9vcGVuX3N3YXBcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3BvbnNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGhhbmRsZUVycm9yKHJlcywgZXJyLCBcImNyZWF0ZV9vcGVuX3N3YXAgZXJyb3JcIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXRPcGVuU3dhcExpc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkYi5zd2Fwcy5maW5kQWxsKHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIFtPcC5hbmRdOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBzdGF0dXM6IFN3YXBTdGF0dXMuUEVORElORyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgc3dhcF9tb2RlOiBTd2FwTW9kZS5PUEVOIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBhY2NlcHRfYWRkcmVzczogbnVsbCB9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgbWV0YWRhdGEgYW5kIHN3YXBfcHJlZmVyZW5jZXMgdG8gSlNPTiBpZiB0aGV5IGFyZSB2YWxpZCBKU09OIHN0cmluZ3NcclxuICAgICAgICBjb25zdCBmb3JtYXR0ZWRSZXNwb25zZSA9IHJlc3BvbnNlLm1hcChzd2FwID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc3dhcEpTT04gPSBzd2FwLnRvSlNPTigpO1xyXG4gICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRTd2FwID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uc3dhcEpTT04sXHJcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogdHJ5UGFyc2VKU09OKHN3YXBKU09OLm1ldGFkYXRhKSxcclxuICAgICAgICAgICAgICAgIHN3YXBfcHJlZmVyZW5jZXM6IHRyeVBhcnNlSlNPTihzd2FwSlNPTi5zd2FwX3ByZWZlcmVuY2VzKSxcclxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN3YXBKU09OLmNyZWF0ZWRBdCxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IHN3YXBKU09OLnVwZGF0ZWRBdCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIG9yaWdpbmFsIGNyZWF0ZWRBdCBhbmQgdXBkYXRlZEF0IGZpZWxkc1xyXG4gICAgICAgICAgICBkZWxldGUgZm9ybWF0dGVkU3dhcC5jcmVhdGVkQXQ7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBmb3JtYXR0ZWRTd2FwLnVwZGF0ZWRBdDtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFN3YXA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJnZXRfb3Blbl9zd2FwX2xpc3RcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1hdHRlZFJlc3BvbnNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGhhbmRsZUVycm9yKHJlcywgZXJyLCBcImdldF9vcGVuX3N3YXBfbGlzdCBlcnJvclwiKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG5jb25zdCBnZXRTd2FwUHJlZmVyZW5jZXMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkYi5zd2Fwcy5maW5kQWxsKHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIFtPcC5hbmRdOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBzd2FwX21vZGU6IFN3YXBNb2RlLk9QRU4gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG9wZW5fdHJhZGVfaWQ6IHJlcS5xdWVyeS5vcGVuX3RyYWRlX2lkIH0sXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBtZXRhZGF0YSBhbmQgc3dhcF9wcmVmZXJlbmNlcyB0byBKU09OIGlmIHRoZXkgYXJlIHZhbGlkIEpTT04gc3RyaW5nc1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZFJlc3BvbnNlID0gcmVzcG9uc2UubWFwKHN3YXAgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzd2FwSlNPTiA9IHN3YXAudG9KU09OKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZFN3YXAgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi5zd2FwSlNPTixcclxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB0cnlQYXJzZUpTT04oc3dhcEpTT04ubWV0YWRhdGEpLFxyXG4gICAgICAgICAgICAgICAgc3dhcF9wcmVmZXJlbmNlczogdHJ5UGFyc2VKU09OKHN3YXBKU09OLnN3YXBfcHJlZmVyZW5jZXMpLFxyXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogc3dhcEpTT04uY3JlYXRlZEF0LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlZF9hdDogc3dhcEpTT04udXBkYXRlZEF0LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgb3JpZ2luYWwgY3JlYXRlZEF0IGFuZCB1cGRhdGVkQXQgZmllbGRzXHJcbiAgICAgICAgICAgIGRlbGV0ZSBmb3JtYXR0ZWRTd2FwLmNyZWF0ZWRBdDtcclxuICAgICAgICAgICAgZGVsZXRlIGZvcm1hdHRlZFN3YXAudXBkYXRlZEF0O1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkU3dhcDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZ2V0X29wZW5fc3dhcF9wcmVmZXJlbmNlX2FnYWluc3RfaWRcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1hdHRlZFJlc3BvbnNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGhhbmRsZUVycm9yKHJlcywgZXJyLCBcImdldF9vcGVuX3N3YXBfcHJlZmVyZW5jZV9hZ2FpbnN0X2lkIGVycm9yXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBwYXJzZSBKU09OIHNhZmVseVxyXG5mdW5jdGlvbiB0cnlQYXJzZUpTT04oanNvblN0cmluZykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGpzb25TdHJpbmcpO1xyXG4gICAgICAgIHJldHVybiBwYXJzZWQ7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICByZXR1cm4ganNvblN0cmluZzsgLy8gUmV0dXJuIG9yaWdpbmFsIHN0cmluZyBpZiBwYXJzaW5nIGZhaWxzXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5jb25zdCBwcm9wb3NlT3BlblN3YXAgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyB0cmFkZV9pZCwgbWV0YWRhdGEsIGluaXRfYWRkcmVzcywgaW5pdF9zaWduLCBvcGVuX3RyYWRlX2lkIH0gPSByZXEuYm9keTsgIC8vdHJhZGVfaWQgLy9tZXRhZGF0YSBpcyBhY2NlcHRfbWV0YSAvLyBvcGVuX3RyYWRlX2lkXHJcblxyXG4gICAgICAgIGNvbnN0IHN3YXAgPSBhd2FpdCBkYi5zd2Fwcy5maW5kQnlQayhzd2FwSWQpO1xyXG4gICAgICAgIGlmICghc3dhcCB8fCBzd2FwLnN0YXR1cyAhPT0gU3dhcFN0YXR1cy5QRU5ESU5HKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSW52YWxpZCBzd2FwIElEIG9yIHN3YXAgaXMgbm90IG9wZW5cIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGIuc3dhcHMuY3JlYXRlKHtcclxuICAgICAgICAgICAgbWV0YWRhdGE6IEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSxcclxuICAgICAgICAgICAgc3RhdHVzOiBTd2FwU3RhdHVzLlBFTkRJTkcsXHJcbiAgICAgICAgICAgIGluaXRfYWRkcmVzczogaW5pdF9hZGRyZXNzLnRyaW0oKSxcclxuICAgICAgICAgICAgaW5pdF9zaWduOiBpbml0X3NpZ24udHJpbSgpLFxyXG4gICAgICAgICAgICBhY2NlcHRfYWRkcmVzczogYWNjZXB0X2FkZHJlc3MudHJpbSgpLCAvLyBpbml0X2FkZHJlc3Mgd2lsbCBiZSByZXRlcmlldmVkIGZyb20gZGIgLCBhZ2FpbnN0IG9wZW5fdHJhZGVfaWRcclxuICAgICAgICAgICAgdHJhZGVfaWQ6IHRyYWRlX2lkLFxyXG5cclxuICAgICAgICAgICAgb2ZmZXJfdHlwZTogT2ZmZXJUeXBlLlBSSU1BUlksXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJwcm9wb3NlX29wZW5fc3dhcFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgaGFuZGxlRXJyb3IocmVzLCBlcnIsIFwicHJvcG9zZV9vcGVuX3N3YXAgZXJyb3JcIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBjbG9zZU9wZW5Td2FwT2ZmZXJzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgb3Blbl90cmFkZV9pZCB9ID0gcmVxLmJvZHk7IC8vIGRlbGV0ZSBhbGwgb2ZmZXJzIGJhc2VkIG9uIG9wZW5fdHJhZGVfaWRcclxuXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkYi5zZXF1ZWxpemUudHJhbnNhY3Rpb24oYXN5bmMgKHQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlT2ZmZXJzID0gYXdhaXQgZGIuc3dhcHMudXBkYXRlKFxyXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IFN3YXBTdGF0dXMuREVDTElORUQgfSxcclxuICAgICAgICAgICAgICAgIHsgd2hlcmU6IHsgdHJhZGVfaWQ6IHN3YXBJZCwgc3RhdHVzOiBTd2FwU3RhdHVzLlBFTkRJTkcgfSwgdHJhbnNhY3Rpb246IHQgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlU3dhcCA9IGF3YWl0IGRiLnN3YXBzLnVwZGF0ZShcclxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiBTd2FwU3RhdHVzLkNBTkNFTExFRCB9LFxyXG4gICAgICAgICAgICAgICAgeyB3aGVyZTogeyBpZDogc3dhcElkIH0sIHRyYW5zYWN0aW9uOiB0IH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7IHVwZGF0ZU9mZmVycywgdXBkYXRlU3dhcCB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiY2xvc2Vfb3Blbl9zd2FwX29mZmVyc1wiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgaGFuZGxlRXJyb3IocmVzLCBlcnIsIFwiY2xvc2Vfb3Blbl9zd2FwX29mZmVycyBlcnJvclwiKTtcclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IGFjY2VwdE9wZW5Td2FwID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgdHJhZGVfaWQsIG9wZW5fdHJhZGVfaWQsIGFjY2VwdF9zaWduIH0gPSByZXEuYm9keTsgLy9hY2NlcHQgb2ZmZXIgYmFzZWQgb24gdHJhZGVfaWQgYW5kIHJlbW92ZSBhbGwgb3RoZXIgb3Blbl90cmFkZV9pZCdzXHJcbiAgICAgICAgY29uc3Qgc3dhcCA9IGF3YWl0IGRiLnN3YXBzLmZpbmRCeVBrKHN3YXBJZCk7XHJcbiAgICAgICAgaWYgKCFzd2FwIHx8IHN3YXAuc3RhdHVzICE9PSBTd2FwU3RhdHVzLlBFTkRJTkcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIHN3YXAgSUQgb3Igc3dhcCBpcyBub3QgaW4gYSB2YWxpZCBzdGF0ZSBmb3IgYWNjZXB0YW5jZVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkYi5zZXF1ZWxpemUudHJhbnNhY3Rpb24oYXN5bmMgKHQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlU3dhcCA9IGF3YWl0IHN3YXAudXBkYXRlKHtcclxuICAgICAgICAgICAgICAgIGFjY2VwdF9hZGRyZXNzOiBhY2NlcHRfYWRkcmVzcy50cmltKCksXHJcbiAgICAgICAgICAgICAgICBhY2NlcHRfc2lnbjogYWNjZXB0X3NpZ24udHJpbSgpLFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBTd2FwU3RhdHVzLkNPTVBMRVRFRFxyXG4gICAgICAgICAgICB9LCB7IHRyYW5zYWN0aW9uOiB0IH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZGVjbGluZU9mZmVycyA9IGF3YWl0IGRiLnN3YXBzLnVwZGF0ZShcclxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiBTd2FwU3RhdHVzLkRFQ0xJTkVEIH0sXHJcbiAgICAgICAgICAgICAgICB7IHdoZXJlOiB7IHRyYWRlX2lkOiBzd2FwLnRyYWRlX2lkLCBzdGF0dXM6IFN3YXBTdGF0dXMuUEVORElORyB9LCB0cmFuc2FjdGlvbjogdCB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4geyB1cGRhdGVTd2FwLCBkZWNsaW5lT2ZmZXJzIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJhY2NlcHRfb3Blbl9zd2FwXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiByZXNwb25zZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBoYW5kbGVFcnJvcihyZXMsIGVyciwgXCJhY2NlcHRfb3Blbl9zd2FwIGVycm9yXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG9wZW5Td2FwQ29udHJvbGxlciA9IHtcclxuICAgIGNyZWF0ZU9wZW5Td2FwLFxyXG4gICAgZ2V0T3BlblN3YXBMaXN0LFxyXG4gICAgcHJvcG9zZU9wZW5Td2FwLFxyXG4gICAgY2xvc2VPcGVuU3dhcE9mZmVycyxcclxuICAgIGFjY2VwdE9wZW5Td2FwLFxyXG4gICAgZ2V0U3dhcFByZWZlcmVuY2VzXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQXdFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUV4RSxNQUFNQSxXQUFXLEdBQUcsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLE9BQU8sS0FBSztFQUN2Q0MsT0FBTyxDQUFDQyxLQUFLLENBQUNILEdBQUcsQ0FBQztFQUNsQkQsR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztJQUNq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","map":{"version":3,"names":["handleError","res","err","message","console","error","status","json","success","createOpenSwap","req","metadata","body","swap_preferences","log","response","db","swaps","create","JSON","stringify","init_address","trim","swap_mode","open_trade_id","trading_chain","SwapStatus","PENDING","offer_type","OfferType","PRIMARY","trade_id","data","getOpenSwapList","findAll","where","Op","and","SwapMode","OPEN","accept_address","formattedResponse","map","swap","swapJSON","toJSON","formattedSwap","tryParseJSON","created_at","createdAt","updated_at","updatedAt","getSwapPreferences","query","jsonString","parsed","parse","proposeOpenSwap","init_sign","findByPk","swapId","closeOpenSwapOffers","sequelize","transaction","t","updateOffers","update","DECLINED","updateSwap","CANCELLED","id","acceptOpenSwap","accept_sign","COMPLETED","declineOffers","openSwapController"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\controllers\\","sources":["openSwapController.js"],"sourcesContent":["// openSwapController.js\r\nimport db from \"../../database/models\";\r\nimport { Op } from \"sequelize\";\r\nimport { OfferType, SwapMode, SwapStatus } from '../utils/constants.js';\r\n\r\nconst handleError = (res, err, message) => {\r\n    console.error(err);\r\n    res.status(500).json({\r\n        success: false,\r\n        message: `${message} -> ${err.message || err}`\r\n    });\r\n};\r\n\r\nconst createOpenSwap = async (req, res) => {\r\n    try {\r\n        const metadata = req.body.metadata;\r\n        const swap_preferences = req.body.swap_preferences;\r\n        console.log(metadata);\r\n        const response = await db.swaps.create({\r\n            metadata: JSON.stringify(metadata),\r\n            init_address: req.body.init_address.trim(),\r\n            swap_mode: req.body.swap_mode,\r\n            open_trade_id: req.body.open_trade_id,\r\n            trading_chain: req.body.trading_chain,\r\n            swap_preferences: JSON.stringify(swap_preferences),\r\n\r\n            status: SwapStatus.PENDING,\r\n            offer_type: OfferType.PRIMARY,\r\n            trade_id: null,\r\n\r\n        });\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"create_open_swap\",\r\n                data: response\r\n            });\r\n        }\r\n    } catch (err) {\r\n        handleError(res, err, \"create_open_swap error\");\r\n    }\r\n};\r\n\r\nconst getOpenSwapList = async (req, res) => {\r\n    try {\r\n        const response = await db.swaps.findAll({\r\n            where: {\r\n                [Op.and]: [\r\n                    { status: SwapStatus.PENDING },\r\n                    { swap_mode: SwapMode.OPEN },\r\n                    { accept_address: null },\r\n                ]\r\n            }\r\n        });\r\n\r\n        // Convert metadata and swap_preferences to JSON if they are valid JSON strings\r\n        const formattedResponse = response.map(swap => {\r\n            const swapJSON = swap.toJSON();\r\n            const formattedSwap = {\r\n                ...swapJSON,\r\n                metadata: tryParseJSON(swapJSON.metadata),\r\n                swap_preferences: tryParseJSON(swapJSON.swap_preferences),\r\n                created_at: swapJSON.createdAt,\r\n                updated_at: swapJSON.updatedAt,\r\n            };\r\n            // Remove original createdAt and updatedAt fields\r\n            delete formattedSwap.createdAt;\r\n            delete formattedSwap.updatedAt;\r\n            return formattedSwap;\r\n        });\r\n\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"get_open_swap_list\",\r\n                data: formattedResponse\r\n            });\r\n        }\r\n    } catch (err) {\r\n        handleError(res, err, \"get_open_swap_list error\");\r\n    }\r\n};\r\n\r\n\r\nconst getSwapPreferences = async (req, res) => {\r\n    try {\r\n        const response = await db.swaps.findAll({\r\n            where: {\r\n                [Op.and]: [\r\n                    { swap_mode: SwapMode.OPEN },\r\n                    { open_trade_id: req.query.open_trade_id },\r\n                ]\r\n            }\r\n        });\r\n\r\n        // Convert metadata and swap_preferences to JSON if they are valid JSON strings\r\n        const formattedResponse = response.map(swap => {\r\n            const swapJSON = swap.toJSON();\r\n            const formattedSwap = {\r\n                ...swapJSON,\r\n                metadata: tryParseJSON(swapJSON.metadata),\r\n                swap_preferences: tryParseJSON(swapJSON.swap_preferences),\r\n                created_at: swapJSON.createdAt,\r\n                updated_at: swapJSON.updatedAt,\r\n            };\r\n            // Remove original createdAt and updatedAt fields\r\n            delete formattedSwap.createdAt;\r\n            delete formattedSwap.updatedAt;\r\n            return formattedSwap;\r\n        });\r\n        \r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"get_open_swap_preference_against_id\",\r\n                data: formattedResponse\r\n            });\r\n        }\r\n    } catch (err) {\r\n        handleError(res, err, \"get_open_swap_preference_against_id error\");\r\n    }\r\n};\r\n\r\n\r\n// Helper function to parse JSON safely\r\nfunction tryParseJSON(jsonString) {\r\n    try {\r\n        const parsed = JSON.parse(jsonString);\r\n        return parsed;\r\n    } catch (err) {\r\n        return jsonString; // Return original string if parsing fails\r\n    }\r\n}\r\n\r\n\r\nconst proposeOpenSwap = async (req, res) => {\r\n    try {\r\n        const { trade_id, metadata, init_address, init_sign, open_trade_id } = req.body;  //trade_id //metadata is accept_meta // open_trade_id\r\n\r\n        const swap = await db.swaps.findByPk(swapId);\r\n        if (!swap || swap.status !== SwapStatus.PENDING) {\r\n            return res.status(400).json({\r\n                success: false,\r\n                message: \"Invalid swap ID or swap is not open\"\r\n            });\r\n        }\r\n\r\n        const response = await db.swaps.create({\r\n            metadata: JSON.stringify(metadata),\r\n            status: SwapStatus.PENDING,\r\n            init_address: init_address.trim(),\r\n            init_sign: init_sign.trim(),\r\n            accept_address: accept_address.trim(), // init_address will be reterieved from db , against open_trade_id\r\n            trade_id: trade_id,\r\n\r\n            offer_type: OfferType.PRIMARY,\r\n\r\n        });\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"propose_open_swap\",\r\n                data: response\r\n            });\r\n        }\r\n    } catch (err) {\r\n        handleError(res, err, \"propose_open_swap error\");\r\n    }\r\n};\r\n\r\nconst closeOpenSwapOffers = async (req, res) => {\r\n    try {\r\n        const { open_trade_id } = req.body; // delete all offers based on open_trade_id\r\n\r\n        const response = await db.sequelize.transaction(async (t) => {\r\n            const updateOffers = await db.swaps.update(\r\n                { status: SwapStatus.DECLINED },\r\n                { where: { trade_id: swapId, status: SwapStatus.PENDING }, transaction: t }\r\n            );\r\n\r\n            const updateSwap = await db.swaps.update(\r\n                { status: SwapStatus.CANCELLED },\r\n                { where: { id: swapId }, transaction: t }\r\n            );\r\n\r\n            return { updateOffers, updateSwap };\r\n        });\r\n\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"close_open_swap_offers\",\r\n                data: response\r\n            });\r\n        }\r\n    } catch (err) {\r\n        handleError(res, err, \"close_open_swap_offers error\");\r\n    }\r\n};\r\n\r\nconst acceptOpenSwap = async (req, res) => {\r\n    try {\r\n        const { trade_id, open_trade_id, accept_sign } = req.body; //accept offer based on trade_id and remove all other open_trade_id's\r\n        const swap = await db.swaps.findByPk(swapId);\r\n        if (!swap || swap.status !== SwapStatus.PENDING) {\r\n            return res.status(400).json({\r\n                success: false,\r\n                message: \"Invalid swap ID or swap is not in a valid state for acceptance\"\r\n            });\r\n        }\r\n\r\n        const response = await db.sequelize.transaction(async (t) => {\r\n            const updateSwap = await swap.update({\r\n                accept_address: accept_address.trim(),\r\n                accept_sign: accept_sign.trim(),\r\n                status: SwapStatus.COMPLETED\r\n            }, { transaction: t });\r\n\r\n            const declineOffers = await db.swaps.update(\r\n                { status: SwapStatus.DECLINED },\r\n                { where: { trade_id: swap.trade_id, status: SwapStatus.PENDING }, transaction: t }\r\n            );\r\n\r\n            return { updateSwap, declineOffers };\r\n        });\r\n\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"accept_open_swap\",\r\n                data: response\r\n            });\r\n        }\r\n    } catch (err) {\r\n        handleError(res, err, \"accept_open_swap error\");\r\n    }\r\n};\r\n\r\nexport const openSwapController = {\r\n    createOpenSwap,\r\n    getOpenSwapList,\r\n    proposeOpenSwap,\r\n    closeOpenSwapOffers,\r\n    acceptOpenSwap,\r\n    getSwapPreferences\r\n};\r\n"],"mappings":"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"}},"mtime":1718830669428},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _walletRoutes = require(\"./walletRoutes.js\");\nvar _nftRoutes = require(\"./nftRoutes.js\");\nvar _swapsRoutes = require(\"./swapsRoutes.js\");\nvar _openSwapRouter = require(\"./openSwapRouter.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst apiRouter = _express.default.Router();\napiRouter.use(\"/nfts\", _nftRoutes.nftRouter);\napiRouter.use(\"/wallets\", _walletRoutes.walletRouter);\napiRouter.use(\"/swaps\", _swapsRoutes.swapRouter);\napiRouter.use('/openswap', _openSwapRouter.openSwapRouter);\nvar _default = apiRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcGlSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwidXNlIiwibmZ0Um91dGVyIiwid2FsbGV0Um91dGVyIiwic3dhcFJvdXRlciIsIm9wZW5Td2FwUm91dGVyIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEtvbWFsIFN5ZWRcXExhdGVzdFNhamphZENvZGVcXEJhY2tlbmQtdjJcXHNyY1xcYXBpXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG4gXHJcbmltcG9ydCB7IHdhbGxldFJvdXRlciB9IGZyb20gXCIuL3dhbGxldFJvdXRlcy5qc1wiXHJcbmltcG9ydCB7IG5mdFJvdXRlciB9IGZyb20gXCIuL25mdFJvdXRlcy5qc1wiXHJcbmltcG9ydCB7IHN3YXBSb3V0ZXIgfSBmcm9tIFwiLi9zd2Fwc1JvdXRlcy5qc1wiXHJcbmltcG9ydCB7IG9wZW5Td2FwUm91dGVyIH0gZnJvbSAnLi9vcGVuU3dhcFJvdXRlci5qcyc7XHJcblxyXG5cclxuY29uc3QgYXBpUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKVxyXG5cclxuYXBpUm91dGVyLnVzZShcIi9uZnRzXCIsIG5mdFJvdXRlcilcclxuYXBpUm91dGVyLnVzZShcIi93YWxsZXRzXCIsIHdhbGxldFJvdXRlcilcclxuYXBpUm91dGVyLnVzZShcIi9zd2Fwc1wiLCBzd2FwUm91dGVyKVxyXG5hcGlSb3V0ZXIudXNlKCcvb3BlbnN3YXAnLCBvcGVuU3dhcFJvdXRlcilcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFwaVJvdXRlclxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBcUQ7QUFHckQsTUFBTUEsU0FBUyxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFFbENGLFNBQVMsQ0FBQ0csR0FBRyxDQUFDLE9BQU8sRUFBRUMsb0JBQVMsQ0FBQztBQUNqQ0osU0FBUyxDQUFDRyxHQUFHLENBQUMsVUFBVSxFQUFFRSwwQkFBWSxDQUFDO0FBQ3ZDTCxTQUFTLENBQUNHLEdBQUcsQ0FBQyxRQUFRLEVBQUVHLHVCQUFVLENBQUM7QUFDbkNOLFNBQVMsQ0FBQ0csR0FBRyxDQUFDLFdBQVcsRUFBRUksOEJBQWMsQ0FBQztBQUFBLGVBRTNCUCxTQUFTO0FBQUEifQ==","map":{"version":3,"names":["apiRouter","express","Router","use","nftRouter","walletRouter","swapRouter","openSwapRouter"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\routes\\","sources":["index.js"],"sourcesContent":["import express from \"express\"\r\n \r\nimport { walletRouter } from \"./walletRoutes.js\"\r\nimport { nftRouter } from \"./nftRoutes.js\"\r\nimport { swapRouter } from \"./swapsRoutes.js\"\r\nimport { openSwapRouter } from './openSwapRouter.js';\r\n\r\n\r\nconst apiRouter = express.Router()\r\n\r\napiRouter.use(\"/nfts\", nftRouter)\r\napiRouter.use(\"/wallets\", walletRouter)\r\napiRouter.use(\"/swaps\", swapRouter)\r\napiRouter.use('/openswap', openSwapRouter)\r\n\r\nexport default apiRouter\r\n"],"mappings":";;;;;;AAAA;AAEA;AACA;AACA;AACA;AAAqD;AAGrD,MAAMA,SAAS,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAElCF,SAAS,CAACG,GAAG,CAAC,OAAO,EAAEC,oBAAS,CAAC;AACjCJ,SAAS,CAACG,GAAG,CAAC,UAAU,EAAEE,0BAAY,CAAC;AACvCL,SAAS,CAACG,GAAG,CAAC,QAAQ,EAAEG,uBAAU,CAAC;AACnCN,SAAS,CAACG,GAAG,CAAC,WAAW,EAAEI,8BAAc,CAAC;AAAA,eAE3BP,SAAS;AAAA"}},"mtime":1718370377896},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\walletRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.walletRouter = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _walletController = require(\"../controllers/walletController.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst walletRouter = _express.default.Router();\nexports.walletRouter = walletRouter;\nwalletRouter.get('/', _walletController.walletController.list_all_wallets).post('/', _walletController.walletController.create_wallet);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ3YWxsZXRSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0Iiwid2FsbGV0Q29udHJvbGxlciIsImxpc3RfYWxsX3dhbGxldHMiLCJwb3N0IiwiY3JlYXRlX3dhbGxldCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXGFwaVxccm91dGVzXFwiLCJzb3VyY2VzIjpbIndhbGxldFJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgd2FsbGV0Q29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL3dhbGxldENvbnRyb2xsZXIuanMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHdhbGxldFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG53YWxsZXRSb3V0ZXJcclxuICAgIC5nZXQoJy8nLCB3YWxsZXRDb250cm9sbGVyLmxpc3RfYWxsX3dhbGxldHMpXHJcbiAgICAucG9zdCgnLycsIHdhbGxldENvbnRyb2xsZXIuY3JlYXRlX3dhbGxldCk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUFzRTtBQUUvRCxNQUFNQSxZQUFZLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sRUFBRTtBQUFDO0FBRTdDRixZQUFZLENBQ1BHLEdBQUcsQ0FBQyxHQUFHLEVBQUVDLGtDQUFnQixDQUFDQyxnQkFBZ0IsQ0FBQyxDQUMzQ0MsSUFBSSxDQUFDLEdBQUcsRUFBRUYsa0NBQWdCLENBQUNHLGFBQWEsQ0FBQyJ9","map":{"version":3,"names":["walletRouter","express","Router","get","walletController","list_all_wallets","post","create_wallet"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\routes\\","sources":["walletRoutes.js"],"sourcesContent":["import express from 'express';\r\nimport { walletController } from '../controllers/walletController.js';\r\n\r\nexport const walletRouter = express.Router();\r\n\r\nwalletRouter\r\n    .get('/', walletController.list_all_wallets)\r\n    .post('/', walletController.create_wallet);\r\n"],"mappings":";;;;;;AAAA;AACA;AAAsE;AAE/D,MAAMA,YAAY,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAAC;AAE7CF,YAAY,CACPG,GAAG,CAAC,GAAG,EAAEC,kCAAgB,CAACC,gBAAgB,CAAC,CAC3CC,IAAI,CAAC,GAAG,EAAEF,kCAAgB,CAACG,aAAa,CAAC"}},"mtime":1718370377900},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\walletController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.walletController = void 0;\nvar _models = _interopRequireDefault(require(\"../../database/models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function list_all_wallets(req, res) {\n  try {\n    let getdata = await _models.default.users.findAll(req.body);\n    if (getdata) {\n      res.json({\n        success: true,\n        message: \"list_all_wallets\",\n        data: getdata\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***list_all_wallets -> ${err}`\n    });\n  }\n}\nasync function create_wallet(req, res) {\n  let walletAddress = req.body.walletAddress;\n  try {\n    let checkdata = await _models.default.users.findOne({\n      where: {\n        wallet: walletAddress\n      }\n    });\n    if (checkdata) {\n      res.json({\n        message: `create_wallet: ${walletAddress} already exists`,\n        data: checkdata\n      });\n    } else {\n      let createdata = await _models.default.users.create({\n        wallet: walletAddress\n      });\n      if (createdata) {\n        res.json({\n          success: true,\n          message: `create_wallet: ${walletAddress}`,\n          data: createdata\n        });\n      }\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `create_wallet: ${walletAddress} -> ${err}`\n    });\n  }\n}\nconst walletController = {\n  list_all_wallets,\n  create_wallet\n};\nexports.walletController = walletController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsaXN0X2FsbF93YWxsZXRzIiwicmVxIiwicmVzIiwiZ2V0ZGF0YSIsImRiIiwidXNlcnMiLCJmaW5kQWxsIiwiYm9keSIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsImRhdGEiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwic3RhdHVzIiwiY3JlYXRlX3dhbGxldCIsIndhbGxldEFkZHJlc3MiLCJjaGVja2RhdGEiLCJmaW5kT25lIiwid2hlcmUiLCJ3YWxsZXQiLCJjcmVhdGVkYXRhIiwiY3JlYXRlIiwid2FsbGV0Q29udHJvbGxlciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXGFwaVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsid2FsbGV0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGIgZnJvbSBcIi4uLy4uL2RhdGFiYXNlL21vZGVsc1wiO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gbGlzdF9hbGxfd2FsbGV0cyhyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgZ2V0ZGF0YSA9IGF3YWl0IGRiLnVzZXJzLmZpbmRBbGwocmVxLmJvZHkpO1xyXG4gICAgICAgIGlmIChnZXRkYXRhKSB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImxpc3RfYWxsX3dhbGxldHNcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IGdldGRhdGFcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBgKioqbGlzdF9hbGxfd2FsbGV0cyAtPiAke2Vycn1gXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZV93YWxsZXQocmVxLCByZXMpIHtcclxuICAgIGxldCB3YWxsZXRBZGRyZXNzID0gcmVxLmJvZHkud2FsbGV0QWRkcmVzcztcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IGNoZWNrZGF0YSA9IGF3YWl0IGRiLnVzZXJzLmZpbmRPbmUoeyB3aGVyZTogeyB3YWxsZXQ6IHdhbGxldEFkZHJlc3MgfSB9KTtcclxuICAgICAgICBpZiAoY2hlY2tkYXRhKSB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBjcmVhdGVfd2FsbGV0OiAke3dhbGxldEFkZHJlc3N9IGFscmVhZHkgZXhpc3RzYCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGNoZWNrZGF0YVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgY3JlYXRlZGF0YSA9IGF3YWl0IGRiLnVzZXJzLmNyZWF0ZSh7IHdhbGxldDogd2FsbGV0QWRkcmVzcyB9KTtcclxuICAgICAgICAgICAgaWYgKGNyZWF0ZWRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBjcmVhdGVfd2FsbGV0OiAke3dhbGxldEFkZHJlc3N9YCxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjcmVhdGVkYXRhXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogYGNyZWF0ZV93YWxsZXQ6ICR7d2FsbGV0QWRkcmVzc30gLT4gJHtlcnJ9YFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgd2FsbGV0Q29udHJvbGxlciA9IHsgbGlzdF9hbGxfd2FsbGV0cywgY3JlYXRlX3dhbGxldCB9OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBdUM7QUFFdkMsZUFBZUEsZ0JBQWdCLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFO0VBQ3RDLElBQUk7SUFDQSxJQUFJQyxPQUFPLEdBQUcsTUFBTUMsZUFBRSxDQUFDQyxLQUFLLENBQUNDLE9BQU8sQ0FBQ0wsR0FBRyxDQUFDTSxJQUFJLENBQUM7SUFDOUMsSUFBSUosT0FBTyxFQUFFO01BQ1RELEdBQUcsQ0FBQ00sSUFBSSxDQUFDO1FBQ0xDLE9BQU8sRUFBRSxJQUFJO1FBQ2JDLE9BQU8sRUFBRSxrQkFBa0I7UUFDM0JDLElBQUksRUFBRVI7TUFDVixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUMsQ0FBQyxPQUFPUyxHQUFHLEVBQUU7SUFDVkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQztJQUNoQlYsR0FBRyxDQUFDYSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNQLElBQUksQ0FBQztNQUNqQkMsT0FBTyxFQUFFLEtBQUs7TUFDZEMsT0FBTyxFQUFHLDBCQUF5QkUsR0FBSTtJQUMzQyxDQUFDLENBQUM7RUFDTjtBQUNKO0FBRUEsZUFBZUksYUFBYSxDQUFDZixHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUNuQyxJQUFJZSxhQUFhLEdBQUdoQixHQUFHLENBQUNNLElBQUksQ0FBQ1UsYUFBYTtFQUMxQyxJQUFJO0lBQ0EsSUFBSUMsU0FBUyxHQUFHLE1BQU1kLGVBQUUsQ0FBQ0MsS0FBSyxDQUFDYyxPQUFPLENBQUM7TUFBRUMsS0FBSyxFQUFFO1FBQUVDLE1BQU0sRUFBRUo7TUFBYztJQUFFLENBQUMsQ0FBQztJQUM1RSxJQUFJQyxTQUFTLEVBQUU7TUFDWGhCLEdBQUcsQ0FBQ00sSUFBSSxDQUFDO1FBQ0xFLE9BQU8sRUFBRyxrQkFBaUJPLGFBQWMsaUJBQWdCO1FBQ3pETixJQUFJLEVBQUVPO01BQ1YsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxNQUFNO01BQ0gsSUFBSUksVUFBVSxHQUFHLE1BQU1sQixlQUFFLENBQUNDLEtBQUssQ0FBQ2tCLE1BQU0sQ0FBQztRQUFFRixNQUFNLEVBQUVKO01BQWMsQ0FBQyxDQUFDO01BQ2pFLElBQUlLLFVBQVUsRUFBRTtRQUNacEIsR0FBRyxDQUFDTSxJQUFJLENBQUM7VUFDTEMsT0FBTyxFQUFFLElBQUk7VUFDYkMsT0FBTyxFQUFHLGtCQUFpQk8sYUFBYyxFQUFDO1VBQzFDTixJQUFJLEVBQUVXO1FBQ1YsQ0FBQyxDQUFDO01BQ047SUFDSjtFQUNKLENBQUMsQ0FBQyxPQUFPVixHQUFHLEVBQUU7SUFDVkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQztJQUNoQlYsR0FBRyxDQUFDYSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNQLElBQUksQ0FBQztNQUNqQkMsT0FBTyxFQUFFLEtBQUs7TUFDZEMsT0FBTyxFQUFHLGtCQUFpQk8sYUFBYyxPQUFNTCxHQUFJO0lBQ3ZELENBQUMsQ0FBQztFQUNOO0FBQ0o7QUFFTyxNQUFNWSxnQkFBZ0IsR0FBRztFQUFFeEIsZ0JBQWdCO0VBQUVnQjtBQUFjLENBQUM7QUFBQyJ9","map":{"version":3,"names":["list_all_wallets","req","res","getdata","db","users","findAll","body","json","success","message","data","err","console","log","status","create_wallet","walletAddress","checkdata","findOne","where","wallet","createdata","create","walletController"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\controllers\\","sources":["walletController.js"],"sourcesContent":["import db from \"../../database/models\";\r\n\r\nasync function list_all_wallets(req, res) {\r\n    try {\r\n        let getdata = await db.users.findAll(req.body);\r\n        if (getdata) {\r\n            res.json({\r\n                success: true,\r\n                message: \"list_all_wallets\",\r\n                data: getdata\r\n            });\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***list_all_wallets -> ${err}`\r\n        });\r\n    }\r\n}\r\n\r\nasync function create_wallet(req, res) {\r\n    let walletAddress = req.body.walletAddress;\r\n    try {\r\n        let checkdata = await db.users.findOne({ where: { wallet: walletAddress } });\r\n        if (checkdata) {\r\n            res.json({\r\n                message: `create_wallet: ${walletAddress} already exists`,\r\n                data: checkdata\r\n            });\r\n        } else {\r\n            let createdata = await db.users.create({ wallet: walletAddress });\r\n            if (createdata) {\r\n                res.json({\r\n                    success: true,\r\n                    message: `create_wallet: ${walletAddress}`,\r\n                    data: createdata\r\n                });\r\n            }\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `create_wallet: ${walletAddress} -> ${err}`\r\n        });\r\n    }\r\n}\r\n\r\nexport const walletController = { list_all_wallets, create_wallet };"],"mappings":";;;;;;AAAA;AAAuC;AAEvC,eAAeA,gBAAgB,CAACC,GAAG,EAAEC,GAAG,EAAE;EACtC,IAAI;IACA,IAAIC,OAAO,GAAG,MAAMC,eAAE,CAACC,KAAK,CAACC,OAAO,CAACL,GAAG,CAACM,IAAI,CAAC;IAC9C,IAAIJ,OAAO,EAAE;MACTD,GAAG,CAACM,IAAI,CAAC;QACLC,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,kBAAkB;QAC3BC,IAAI,EAAER;MACV,CAAC,CAAC;IACN;EACJ,CAAC,CAAC,OAAOS,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBV,GAAG,CAACa,MAAM,CAAC,GAAG,CAAC,CAACP,IAAI,CAAC;MACjBC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAG,0BAAyBE,GAAI;IAC3C,CAAC,CAAC;EACN;AACJ;AAEA,eAAeI,aAAa,CAACf,GAAG,EAAEC,GAAG,EAAE;EACnC,IAAIe,aAAa,GAAGhB,GAAG,CAACM,IAAI,CAACU,aAAa;EAC1C,IAAI;IACA,IAAIC,SAAS,GAAG,MAAMd,eAAE,CAACC,KAAK,CAACc,OAAO,CAAC;MAAEC,KAAK,EAAE;QAAEC,MAAM,EAAEJ;MAAc;IAAE,CAAC,CAAC;IAC5E,IAAIC,SAAS,EAAE;MACXhB,GAAG,CAACM,IAAI,CAAC;QACLE,OAAO,EAAG,kBAAiBO,aAAc,iBAAgB;QACzDN,IAAI,EAAEO;MACV,CAAC,CAAC;IACN,CAAC,MAAM;MACH,IAAII,UAAU,GAAG,MAAMlB,eAAE,CAACC,KAAK,CAACkB,MAAM,CAAC;QAAEF,MAAM,EAAEJ;MAAc,CAAC,CAAC;MACjE,IAAIK,UAAU,EAAE;QACZpB,GAAG,CAACM,IAAI,CAAC;UACLC,OAAO,EAAE,IAAI;UACbC,OAAO,EAAG,kBAAiBO,aAAc,EAAC;UAC1CN,IAAI,EAAEW;QACV,CAAC,CAAC;MACN;IACJ;EACJ,CAAC,CAAC,OAAOV,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBV,GAAG,CAACa,MAAM,CAAC,GAAG,CAAC,CAACP,IAAI,CAAC;MACjBC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAG,kBAAiBO,aAAc,OAAML,GAAI;IACvD,CAAC,CAAC;EACN;AACJ;AAEO,MAAMY,gBAAgB,GAAG;EAAExB,gBAAgB;EAAEgB;AAAc,CAAC;AAAC"}},"mtime":1718370377895},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\models\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _sequelize = _interopRequireDefault(require(\"sequelize\"));\nvar _config = _interopRequireDefault(require(\"../config.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst env = process.env.NODE_ENV || \"development\";\nconst config = _config.default[env];\nconst db = {};\nlet sequelize = new _sequelize.default({\n  database: config.database,\n  username: config.username,\n  password: config.password,\n  host: config.host,\n  //tcp:swapup-dev.database.windows.net,1433\n  dialect: config.dialect || \"mssql\",\n  encrypt: true,\n  port: config.port,\n  dialectOptions: {\n    encrypt: true,\n    packetSize: 32768,\n    options: {\n      useUTC: false,\n      dateFirst: 1\n    }\n    //authentication: { options: { userName: dbServerCredentials.userName,//<svc account>@<my-company.com>@<database server>,  password: dbServerCredentials.password,// <svc account password> }, type: 'azure-active-directory-password', }, }, });\n  },\n\n  pool: {\n    max: 5,\n    min: 0,\n    acquire: 30000,\n    idle: 10000\n  }\n});\ntry {\n  sequelize.authenticate();\n  console.log('Connection has been established successfully.');\n} catch (error) {\n  console.error('Unable to connect to the database:', error);\n}\n\n//TODO: Manually expose all models here\ndb.users = require(\"./user.js\")(sequelize, _sequelize.default);\ndb.swaps = require(\"./swap.js\")(sequelize, _sequelize.default);\n\n// Synchronize all models with the database, creating tables if they don't exist\n// **** ONLY TO BE USED WITHIN DEV EVNIRONMENT FOR FIRST TIME SETUP **** //\nsequelize.sync().then(() => {\n  console.log('All models were synchronized successfully.');\n}).catch(err => {\n  console.error('An error occurred while synchronizing models:', err);\n});\ndb.sequelize = sequelize;\ndb.Sequelize = _sequelize.default;\nvar _default = db;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJlbnYiLCJwcm9jZXNzIiwiTk9ERV9FTlYiLCJjb25maWciLCJjb25maWd1cmF0aW9uIiwiZGIiLCJzZXF1ZWxpemUiLCJTZXF1ZWxpemUiLCJkYXRhYmFzZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJob3N0IiwiZGlhbGVjdCIsImVuY3J5cHQiLCJwb3J0IiwiZGlhbGVjdE9wdGlvbnMiLCJwYWNrZXRTaXplIiwib3B0aW9ucyIsInVzZVVUQyIsImRhdGVGaXJzdCIsInBvb2wiLCJtYXgiLCJtaW4iLCJhY3F1aXJlIiwiaWRsZSIsImF1dGhlbnRpY2F0ZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsInVzZXJzIiwicmVxdWlyZSIsInN3YXBzIiwic3luYyIsInRoZW4iLCJjYXRjaCIsImVyciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXGRhdGFiYXNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlcXVlbGl6ZSBmcm9tIFwic2VxdWVsaXplXCI7XHJcbmltcG9ydCBjb25maWd1cmF0aW9uIGZyb20gXCIuLi9jb25maWcuanNcIjtcclxuXHJcbmNvbnN0IGVudiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8IFwiZGV2ZWxvcG1lbnRcIjtcclxuY29uc3QgY29uZmlnID0gY29uZmlndXJhdGlvbltlbnZdO1xyXG5jb25zdCBkYiA9IHt9O1xyXG5cclxubGV0IHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoe1xyXG4gICAgZGF0YWJhc2U6IGNvbmZpZy5kYXRhYmFzZSxcclxuICAgIHVzZXJuYW1lOiBjb25maWcudXNlcm5hbWUsXHJcbiAgICBwYXNzd29yZDogY29uZmlnLnBhc3N3b3JkLFxyXG4gICAgaG9zdDogY29uZmlnLmhvc3QsIC8vdGNwOnN3YXB1cC1kZXYuZGF0YWJhc2Uud2luZG93cy5uZXQsMTQzM1xyXG4gICAgZGlhbGVjdDogY29uZmlnLmRpYWxlY3QgfHwgXCJtc3NxbFwiLFxyXG4gICAgZW5jcnlwdDogdHJ1ZSxcclxuICAgIHBvcnQ6IGNvbmZpZy5wb3J0LFxyXG4gICAgZGlhbGVjdE9wdGlvbnM6IHtcclxuICAgICAgICBlbmNyeXB0OiB0cnVlLFxyXG4gICAgICAgIHBhY2tldFNpemU6IDMyNzY4LFxyXG4gICAgICAgIG9wdGlvbnM6IHsgdXNlVVRDOiBmYWxzZSwgZGF0ZUZpcnN0OiAxIH1cclxuICAgICAgICAvL2F1dGhlbnRpY2F0aW9uOiB7IG9wdGlvbnM6IHsgdXNlck5hbWU6IGRiU2VydmVyQ3JlZGVudGlhbHMudXNlck5hbWUsLy88c3ZjIGFjY291bnQ+QDxteS1jb21wYW55LmNvbT5APGRhdGFiYXNlIHNlcnZlcj4sICBwYXNzd29yZDogZGJTZXJ2ZXJDcmVkZW50aWFscy5wYXNzd29yZCwvLyA8c3ZjIGFjY291bnQgcGFzc3dvcmQ+IH0sIHR5cGU6ICdhenVyZS1hY3RpdmUtZGlyZWN0b3J5LXBhc3N3b3JkJywgfSwgfSwgfSk7XHJcbiAgICB9LFxyXG4gICAgcG9vbDoge1xyXG4gICAgICAgIG1heDogNSxcclxuICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgYWNxdWlyZTogMzAwMDAsXHJcbiAgICAgICAgaWRsZTogMTAwMDBcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxudHJ5IHtcclxuICAgIHNlcXVlbGl6ZS5hdXRoZW50aWNhdGUoKTtcclxuICAgIGNvbnNvbGUubG9nKCdDb25uZWN0aW9uIGhhcyBiZWVuIGVzdGFibGlzaGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxufSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byBjb25uZWN0IHRvIHRoZSBkYXRhYmFzZTonLCBlcnJvcik7XHJcbn1cclxuXHJcblxyXG4vL1RPRE86IE1hbnVhbGx5IGV4cG9zZSBhbGwgbW9kZWxzIGhlcmVcclxuZGIudXNlcnMgPSByZXF1aXJlKFwiLi91c2VyLmpzXCIpKHNlcXVlbGl6ZSwgU2VxdWVsaXplKTtcclxuZGIuc3dhcHMgPSByZXF1aXJlKFwiLi9zd2FwLmpzXCIpKHNlcXVlbGl6ZSwgU2VxdWVsaXplKTtcclxuXHJcbi8vIFN5bmNocm9uaXplIGFsbCBtb2RlbHMgd2l0aCB0aGUgZGF0YWJhc2UsIGNyZWF0aW5nIHRhYmxlcyBpZiB0aGV5IGRvbid0IGV4aXN0XHJcbi8vICoqKiogT05MWSBUTyBCRSBVU0VEIFdJVEhJTiBERVYgRVZOSVJPTk1FTlQgRk9SIEZJUlNUIFRJTUUgU0VUVVAgKioqKiAvL1xyXG5zZXF1ZWxpemUuc3luYygpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0FsbCBtb2RlbHMgd2VyZSBzeW5jaHJvbml6ZWQgc3VjY2Vzc2Z1bGx5LicpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHN5bmNocm9uaXppbmcgbW9kZWxzOicsIGVycik7XHJcbiAgICB9KTtcclxuXHJcbmRiLnNlcXVlbGl6ZSA9IHNlcXVlbGl6ZTtcclxuZGIuU2VxdWVsaXplID0gU2VxdWVsaXplO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRiO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFBeUM7QUFFekMsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUNELEdBQUcsQ0FBQ0UsUUFBUSxJQUFJLGFBQWE7QUFDakQsTUFBTUMsTUFBTSxHQUFHQyxlQUFhLENBQUNKLEdBQUcsQ0FBQztBQUNqQyxNQUFNSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBRWIsSUFBSUMsU0FBUyxHQUFHLElBQUlDLGtCQUFTLENBQUM7RUFDMUJDLFFBQVEsRUFBRUwsTUFBTSxDQUFDSyxRQUFRO0VBQ3pCQyxRQUFRLEVBQUVOLE1BQU0sQ0FBQ00sUUFBUTtFQUN6QkMsUUFBUSxFQUFFUCxNQUFNLENBQUNPLFFBQVE7RUFDekJDLElBQUksRUFBRVIsTUFBTSxDQUFDUSxJQUFJO0VBQUU7RUFDbkJDLE9BQU8sRUFBRVQsTUFBTSxDQUFDUyxPQUFPLElBQUksT0FBTztFQUNsQ0MsT0FBTyxFQUFFLElBQUk7RUFDYkMsSUFBSSxFQUFFWCxNQUFNLENBQUNXLElBQUk7RUFDakJDLGNBQWMsRUFBRTtJQUNaRixPQUFPLEVBQUUsSUFBSTtJQUNiRyxVQUFVLEVBQUUsS0FBSztJQUNqQkMsT0FBTyxFQUFFO01BQUVDLE1BQU0sRUFBRSxLQUFLO01BQUVDLFNBQVMsRUFBRTtJQUFFO0lBQ3ZDO0VBQ0osQ0FBQzs7RUFDREMsSUFBSSxFQUFFO0lBQ0ZDLEdBQUcsRUFBRSxDQUFDO0lBQ05DLEdBQUcsRUFBRSxDQUFDO0lBQ05DLE9BQU8sRUFBRSxLQUFLO0lBQ2RDLElBQUksRUFBRTtFQUNWO0FBQ0osQ0FBQyxDQUFDO0FBR0YsSUFBSTtFQUNBbEIsU0FBUyxDQUFDbUIsWUFBWSxFQUFFO0VBQ3hCQyxPQUFPLENBQUNDLEdBQUcsQ0FBQywrQ0FBK0MsQ0FBQztBQUNoRSxDQUFDLENBQUMsT0FBT0MsS0FBSyxFQUFFO0VBQ1pGLE9BQU8sQ0FBQ0UsS0FBSyxDQUFDLG9DQUFvQyxFQUFFQSxLQUFLLENBQUM7QUFDOUQ7O0FBR0E7QUFDQXZCLEVBQUUsQ0FBQ3dCLEtBQUssR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDeEIsU0FBUyxFQUFFQyxrQkFBUyxDQUFDO0FBQ3JERixFQUFFLENBQUMwQixLQUFLLEdBQUdELE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQ3hCLFNBQVMsRUFBRUMsa0JBQVMsQ0FBQzs7QUFFckQ7QUFDQTtBQUNBRCxTQUFTLENBQUMwQixJQUFJLEVBQUUsQ0FDWEMsSUFBSSxDQUFDLE1BQU07RUFDUlAsT0FBTyxDQUFDQyxHQUFHLENBQUMsNENBQTRDLENBQUM7QUFDN0QsQ0FBQyxDQUFDLENBQ0RPLEtBQUssQ0FBQ0MsR0FBRyxJQUFJO0VBQ1ZULE9BQU8sQ0FBQ0UsS0FBSyxDQUFDLCtDQUErQyxFQUFFTyxHQUFHLENBQUM7QUFDdkUsQ0FBQyxDQUFDO0FBRU45QixFQUFFLENBQUNDLFNBQVMsR0FBR0EsU0FBUztBQUN4QkQsRUFBRSxDQUFDRSxTQUFTLEdBQUdBLGtCQUFTO0FBQUMsZUFHVkYsRUFBRTtBQUFBIn0=","map":{"version":3,"names":["env","process","NODE_ENV","config","configuration","db","sequelize","Sequelize","database","username","password","host","dialect","encrypt","port","dialectOptions","packetSize","options","useUTC","dateFirst","pool","max","min","acquire","idle","authenticate","console","log","error","users","require","swaps","sync","then","catch","err"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\database\\models\\","sources":["index.js"],"sourcesContent":["import Sequelize from \"sequelize\";\r\nimport configuration from \"../config.js\";\r\n\r\nconst env = process.env.NODE_ENV || \"development\";\r\nconst config = configuration[env];\r\nconst db = {};\r\n\r\nlet sequelize = new Sequelize({\r\n    database: config.database,\r\n    username: config.username,\r\n    password: config.password,\r\n    host: config.host, //tcp:swapup-dev.database.windows.net,1433\r\n    dialect: config.dialect || \"mssql\",\r\n    encrypt: true,\r\n    port: config.port,\r\n    dialectOptions: {\r\n        encrypt: true,\r\n        packetSize: 32768,\r\n        options: { useUTC: false, dateFirst: 1 }\r\n        //authentication: { options: { userName: dbServerCredentials.userName,//<svc account>@<my-company.com>@<database server>,  password: dbServerCredentials.password,// <svc account password> }, type: 'azure-active-directory-password', }, }, });\r\n    },\r\n    pool: {\r\n        max: 5,\r\n        min: 0,\r\n        acquire: 30000,\r\n        idle: 10000\r\n    }\r\n});\r\n\r\n\r\ntry {\r\n    sequelize.authenticate();\r\n    console.log('Connection has been established successfully.');\r\n} catch (error) {\r\n    console.error('Unable to connect to the database:', error);\r\n}\r\n\r\n\r\n//TODO: Manually expose all models here\r\ndb.users = require(\"./user.js\")(sequelize, Sequelize);\r\ndb.swaps = require(\"./swap.js\")(sequelize, Sequelize);\r\n\r\n// Synchronize all models with the database, creating tables if they don't exist\r\n// **** ONLY TO BE USED WITHIN DEV EVNIRONMENT FOR FIRST TIME SETUP **** //\r\nsequelize.sync()\r\n    .then(() => {\r\n        console.log('All models were synchronized successfully.');\r\n    })\r\n    .catch(err => {\r\n        console.error('An error occurred while synchronizing models:', err);\r\n    });\r\n\r\ndb.sequelize = sequelize;\r\ndb.Sequelize = Sequelize;\r\n\r\n\r\nexport default db;\r\n"],"mappings":";;;;;;AAAA;AACA;AAAyC;AAEzC,MAAMA,GAAG,GAAGC,OAAO,CAACD,GAAG,CAACE,QAAQ,IAAI,aAAa;AACjD,MAAMC,MAAM,GAAGC,eAAa,CAACJ,GAAG,CAAC;AACjC,MAAMK,EAAE,GAAG,CAAC,CAAC;AAEb,IAAIC,SAAS,GAAG,IAAIC,kBAAS,CAAC;EAC1BC,QAAQ,EAAEL,MAAM,CAACK,QAAQ;EACzBC,QAAQ,EAAEN,MAAM,CAACM,QAAQ;EACzBC,QAAQ,EAAEP,MAAM,CAACO,QAAQ;EACzBC,IAAI,EAAER,MAAM,CAACQ,IAAI;EAAE;EACnBC,OAAO,EAAET,MAAM,CAACS,OAAO,IAAI,OAAO;EAClCC,OAAO,EAAE,IAAI;EACbC,IAAI,EAAEX,MAAM,CAACW,IAAI;EACjBC,cAAc,EAAE;IACZF,OAAO,EAAE,IAAI;IACbG,UAAU,EAAE,KAAK;IACjBC,OAAO,EAAE;MAAEC,MAAM,EAAE,KAAK;MAAEC,SAAS,EAAE;IAAE;IACvC;EACJ,CAAC;;EACDC,IAAI,EAAE;IACFC,GAAG,EAAE,CAAC;IACNC,GAAG,EAAE,CAAC;IACNC,OAAO,EAAE,KAAK;IACdC,IAAI,EAAE;EACV;AACJ,CAAC,CAAC;AAGF,IAAI;EACAlB,SAAS,CAACmB,YAAY,EAAE;EACxBC,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC;AAChE,CAAC,CAAC,OAAOC,KAAK,EAAE;EACZF,OAAO,CAACE,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;AAC9D;;AAGA;AACAvB,EAAE,CAACwB,KAAK,GAAGC,OAAO,CAAC,WAAW,CAAC,CAACxB,SAAS,EAAEC,kBAAS,CAAC;AACrDF,EAAE,CAAC0B,KAAK,GAAGD,OAAO,CAAC,WAAW,CAAC,CAACxB,SAAS,EAAEC,kBAAS,CAAC;;AAErD;AACA;AACAD,SAAS,CAAC0B,IAAI,EAAE,CACXC,IAAI,CAAC,MAAM;EACRP,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAC;AAC7D,CAAC,CAAC,CACDO,KAAK,CAACC,GAAG,IAAI;EACVT,OAAO,CAACE,KAAK,CAAC,+CAA+C,EAAEO,GAAG,CAAC;AACvE,CAAC,CAAC;AAEN9B,EAAE,CAACC,SAAS,GAAGA,SAAS;AACxBD,EAAE,CAACE,SAAS,GAAGA,kBAAS;AAAC,eAGVF,EAAE;AAAA"}},"mtime":1718370924042},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nrequire(\"dotenv\").config();\nconsole.log(\"sequelize config: \", process.env.NODE_ENV, \"it is being loaded correctly\");\nconst configuration = {\n  \"development\": {\n    \"username\": process.env.DB_USER,\n    \"password\": process.env.DB_PWD,\n    \"database\": process.env.DB_NAME,\n    \"host\": process.env.DB_HOST,\n    \"dialect\": \"mssql\",\n    \"port\": process.env.DB_PORT || 1433,\n    \"migrationStorage\": \"json\",\n    // Use a different storage type. Default: sequelize\n    \"migrationStoragePath\": \"sequelizeMeta.json\",\n    // Use a different file name. Default: sequelize-meta.json\n    \"seederStorage\": \"json\",\n    // Use a different storage. Default: none\n    \"seederStoragePath\": \"sequelizeData.json\" // Use a different file name. Default: sequelize-data.json\n  },\n\n  \"test\": {\n    \"username\": process.env.DB_USER,\n    \"password\": process.env.DB_PWD,\n    \"database\": process.env.DB_NAME,\n    \"host\": process.env.DB_HOST,\n    \"dialect\": \"mssql\",\n    \"port\": process.env.DB_PORT || 1433,\n    \"migrationStorage\": \"json\",\n    // Use a different storage type. Default: sequelize\n    \"migrationStoragePath\": \"sequelizeMeta.json\",\n    // Use a different file name. Default: sequelize-meta.json\n    \"seederStorage\": \"json\",\n    // Use a different storage. Default: none\n    \"seederStoragePath\": \"sequelizeData.json\" // Use a different file name. Default: sequelize-data.json\n  },\n\n  \"production\": {\n    \"username\": process.env.DB_USER,\n    \"password\": process.env.DB_PWD,\n    \"database\": process.env.DB_NAME,\n    \"host\": process.env.DB_HOST,\n    \"dialect\": \"mssql\",\n    \"port\": process.env.DB_PORT || 1433,\n    \"migrationStorage\": \"json\",\n    // Use a different storage type. Default: sequelize\n    \"migrationStoragePath\": \"sequelizeMeta.json\",\n    // Use a different file name. Default: sequelize-meta.json\n    \"seederStorage\": \"json\",\n    // Use a different storage. Default: none\n    \"seederStoragePath\": \"sequelizeData.json\" // Use a different file name. Default: sequelize-data.json\n  }\n};\n// console.log(configuration);\nmodule.exports = configuration;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiY29uc29sZSIsImxvZyIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImNvbmZpZ3VyYXRpb24iLCJEQl9VU0VSIiwiREJfUFdEIiwiREJfTkFNRSIsIkRCX0hPU1QiLCJEQl9QT1JUIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXGRhdGFiYXNlXFwiLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xyXG5jb25zb2xlLmxvZyhcInNlcXVlbGl6ZSBjb25maWc6IFwiLCBwcm9jZXNzLmVudi5OT0RFX0VOViwgXCJpdCBpcyBiZWluZyBsb2FkZWQgY29ycmVjdGx5XCIpO1xyXG5jb25zdCBjb25maWd1cmF0aW9uID0ge1xyXG4gIFwiZGV2ZWxvcG1lbnRcIjoge1xyXG4gICAgXCJ1c2VybmFtZVwiOiBwcm9jZXNzLmVudi5EQl9VU0VSLFxyXG4gICAgXCJwYXNzd29yZFwiOiBwcm9jZXNzLmVudi5EQl9QV0QsXHJcbiAgICBcImRhdGFiYXNlXCI6IHByb2Nlc3MuZW52LkRCX05BTUUsXHJcbiAgICBcImhvc3RcIjogcHJvY2Vzcy5lbnYuREJfSE9TVCxcclxuICAgIFwiZGlhbGVjdFwiOiBcIm1zc3FsXCIsXHJcbiAgICBcInBvcnRcIjogcHJvY2Vzcy5lbnYuREJfUE9SVCB8fCAxNDMzLFxyXG4gICAgXCJtaWdyYXRpb25TdG9yYWdlXCI6IFwianNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgc3RvcmFnZSB0eXBlLiBEZWZhdWx0OiBzZXF1ZWxpemVcclxuICAgIFwibWlncmF0aW9uU3RvcmFnZVBhdGhcIjogXCJzZXF1ZWxpemVNZXRhLmpzb25cIiwgLy8gVXNlIGEgZGlmZmVyZW50IGZpbGUgbmFtZS4gRGVmYXVsdDogc2VxdWVsaXplLW1ldGEuanNvblxyXG4gICAgXCJzZWVkZXJTdG9yYWdlXCI6IFwianNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgc3RvcmFnZS4gRGVmYXVsdDogbm9uZVxyXG4gICAgXCJzZWVkZXJTdG9yYWdlUGF0aFwiOiBcInNlcXVlbGl6ZURhdGEuanNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgZmlsZSBuYW1lLiBEZWZhdWx0OiBzZXF1ZWxpemUtZGF0YS5qc29uXHJcbiAgfSxcclxuICBcInRlc3RcIjoge1xyXG4gICAgXCJ1c2VybmFtZVwiOiBwcm9jZXNzLmVudi5EQl9VU0VSLFxyXG4gICAgXCJwYXNzd29yZFwiOiBwcm9jZXNzLmVudi5EQl9QV0QsXHJcbiAgICBcImRhdGFiYXNlXCI6IHByb2Nlc3MuZW52LkRCX05BTUUsXHJcbiAgICBcImhvc3RcIjogcHJvY2Vzcy5lbnYuREJfSE9TVCxcclxuICAgIFwiZGlhbGVjdFwiOiBcIm1zc3FsXCIsXHJcbiAgICBcInBvcnRcIjogcHJvY2Vzcy5lbnYuREJfUE9SVCB8fCAxNDMzLFxyXG4gICAgXCJtaWdyYXRpb25TdG9yYWdlXCI6IFwianNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgc3RvcmFnZSB0eXBlLiBEZWZhdWx0OiBzZXF1ZWxpemVcclxuICAgIFwibWlncmF0aW9uU3RvcmFnZVBhdGhcIjogXCJzZXF1ZWxpemVNZXRhLmpzb25cIiwgLy8gVXNlIGEgZGlmZmVyZW50IGZpbGUgbmFtZS4gRGVmYXVsdDogc2VxdWVsaXplLW1ldGEuanNvblxyXG4gICAgXCJzZWVkZXJTdG9yYWdlXCI6IFwianNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgc3RvcmFnZS4gRGVmYXVsdDogbm9uZVxyXG4gICAgXCJzZWVkZXJTdG9yYWdlUGF0aFwiOiBcInNlcXVlbGl6ZURhdGEuanNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgZmlsZSBuYW1lLiBEZWZhdWx0OiBzZXF1ZWxpemUtZGF0YS5qc29uXHJcbiAgfSxcclxuICBcInByb2R1Y3Rpb25cIjoge1xyXG4gICAgXCJ1c2VybmFtZVwiOiBwcm9jZXNzLmVudi5EQl9VU0VSLFxyXG4gICAgXCJwYXNzd29yZFwiOiBwcm9jZXNzLmVudi5EQl9QV0QsXHJcbiAgICBcImRhdGFiYXNlXCI6IHByb2Nlc3MuZW52LkRCX05BTUUsXHJcbiAgICBcImhvc3RcIjogcHJvY2Vzcy5lbnYuREJfSE9TVCxcclxuICAgIFwiZGlhbGVjdFwiOiBcIm1zc3FsXCIsXHJcbiAgICBcInBvcnRcIjogcHJvY2Vzcy5lbnYuREJfUE9SVCB8fCAxNDMzLFxyXG4gICAgXCJtaWdyYXRpb25TdG9yYWdlXCI6IFwianNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgc3RvcmFnZSB0eXBlLiBEZWZhdWx0OiBzZXF1ZWxpemVcclxuICAgIFwibWlncmF0aW9uU3RvcmFnZVBhdGhcIjogXCJzZXF1ZWxpemVNZXRhLmpzb25cIiwgLy8gVXNlIGEgZGlmZmVyZW50IGZpbGUgbmFtZS4gRGVmYXVsdDogc2VxdWVsaXplLW1ldGEuanNvblxyXG4gICAgXCJzZWVkZXJTdG9yYWdlXCI6IFwianNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgc3RvcmFnZS4gRGVmYXVsdDogbm9uZVxyXG4gICAgXCJzZWVkZXJTdG9yYWdlUGF0aFwiOiBcInNlcXVlbGl6ZURhdGEuanNvblwiLCAvLyBVc2UgYSBkaWZmZXJlbnQgZmlsZSBuYW1lLiBEZWZhdWx0OiBzZXF1ZWxpemUtZGF0YS5qc29uXHJcbiAgfVxyXG59O1xyXG4vLyBjb25zb2xlLmxvZyhjb25maWd1cmF0aW9uKTtcclxubW9kdWxlLmV4cG9ydHMgPSBjb25maWd1cmF0aW9uO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQ0MsTUFBTSxFQUFFO0FBQzFCQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFFBQVEsRUFBRSw4QkFBOEIsQ0FBQztBQUN2RixNQUFNQyxhQUFhLEdBQUc7RUFDcEIsYUFBYSxFQUFFO0lBQ2IsVUFBVSxFQUFFSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csT0FBTztJQUMvQixVQUFVLEVBQUVKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSSxNQUFNO0lBQzlCLFVBQVUsRUFBRUwsT0FBTyxDQUFDQyxHQUFHLENBQUNLLE9BQU87SUFDL0IsTUFBTSxFQUFFTixPQUFPLENBQUNDLEdBQUcsQ0FBQ00sT0FBTztJQUMzQixTQUFTLEVBQUUsT0FBTztJQUNsQixNQUFNLEVBQUVQLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDTyxPQUFPLElBQUksSUFBSTtJQUNuQyxrQkFBa0IsRUFBRSxNQUFNO0lBQUU7SUFDNUIsc0JBQXNCLEVBQUUsb0JBQW9CO0lBQUU7SUFDOUMsZUFBZSxFQUFFLE1BQU07SUFBRTtJQUN6QixtQkFBbUIsRUFBRSxvQkFBb0IsQ0FBRTtFQUM3QyxDQUFDOztFQUNELE1BQU0sRUFBRTtJQUNOLFVBQVUsRUFBRVIsT0FBTyxDQUFDQyxHQUFHLENBQUNHLE9BQU87SUFDL0IsVUFBVSxFQUFFSixPQUFPLENBQUNDLEdBQUcsQ0FBQ0ksTUFBTTtJQUM5QixVQUFVLEVBQUVMLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSyxPQUFPO0lBQy9CLE1BQU0sRUFBRU4sT0FBTyxDQUFDQyxHQUFHLENBQUNNLE9BQU87SUFDM0IsU0FBUyxFQUFFLE9BQU87SUFDbEIsTUFBTSxFQUFFUCxPQUFPLENBQUNDLEdBQUcsQ0FBQ08sT0FBTyxJQUFJLElBQUk7SUFDbkMsa0JBQWtCLEVBQUUsTUFBTTtJQUFFO0lBQzVCLHNCQUFzQixFQUFFLG9CQUFvQjtJQUFFO0lBQzlDLGVBQWUsRUFBRSxNQUFNO0lBQUU7SUFDekIsbUJBQW1CLEVBQUUsb0JBQW9CLENBQUU7RUFDN0MsQ0FBQzs7RUFDRCxZQUFZLEVBQUU7SUFDWixVQUFVLEVBQUVSLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxPQUFPO0lBQy9CLFVBQVUsRUFBRUosT0FBTyxDQUFDQyxHQUFHLENBQUNJLE1BQU07SUFDOUIsVUFBVSxFQUFFTCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0ssT0FBTztJQUMvQixNQUFNLEVBQUVOLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDTSxPQUFPO0lBQzNCLFNBQVMsRUFBRSxPQUFPO0lBQ2xCLE1BQU0sRUFBRVAsT0FBTyxDQUFDQyxHQUFHLENBQUNPLE9BQU8sSUFBSSxJQUFJO0lBQ25DLGtCQUFrQixFQUFFLE1BQU07SUFBRTtJQUM1QixzQkFBc0IsRUFBRSxvQkFBb0I7SUFBRTtJQUM5QyxlQUFlLEVBQUUsTUFBTTtJQUFFO0lBQ3pCLG1CQUFtQixFQUFFLG9CQUFvQixDQUFFO0VBQzdDO0FBQ0YsQ0FBQztBQUNEO0FBQ0FDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHUCxhQUFhIn0=","map":{"version":3,"names":["require","config","console","log","process","env","NODE_ENV","configuration","DB_USER","DB_PWD","DB_NAME","DB_HOST","DB_PORT","module","exports"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\database\\","sources":["config.js"],"sourcesContent":["require(\"dotenv\").config();\r\nconsole.log(\"sequelize config: \", process.env.NODE_ENV, \"it is being loaded correctly\");\r\nconst configuration = {\r\n  \"development\": {\r\n    \"username\": process.env.DB_USER,\r\n    \"password\": process.env.DB_PWD,\r\n    \"database\": process.env.DB_NAME,\r\n    \"host\": process.env.DB_HOST,\r\n    \"dialect\": \"mssql\",\r\n    \"port\": process.env.DB_PORT || 1433,\r\n    \"migrationStorage\": \"json\", // Use a different storage type. Default: sequelize\r\n    \"migrationStoragePath\": \"sequelizeMeta.json\", // Use a different file name. Default: sequelize-meta.json\r\n    \"seederStorage\": \"json\", // Use a different storage. Default: none\r\n    \"seederStoragePath\": \"sequelizeData.json\", // Use a different file name. Default: sequelize-data.json\r\n  },\r\n  \"test\": {\r\n    \"username\": process.env.DB_USER,\r\n    \"password\": process.env.DB_PWD,\r\n    \"database\": process.env.DB_NAME,\r\n    \"host\": process.env.DB_HOST,\r\n    \"dialect\": \"mssql\",\r\n    \"port\": process.env.DB_PORT || 1433,\r\n    \"migrationStorage\": \"json\", // Use a different storage type. Default: sequelize\r\n    \"migrationStoragePath\": \"sequelizeMeta.json\", // Use a different file name. Default: sequelize-meta.json\r\n    \"seederStorage\": \"json\", // Use a different storage. Default: none\r\n    \"seederStoragePath\": \"sequelizeData.json\", // Use a different file name. Default: sequelize-data.json\r\n  },\r\n  \"production\": {\r\n    \"username\": process.env.DB_USER,\r\n    \"password\": process.env.DB_PWD,\r\n    \"database\": process.env.DB_NAME,\r\n    \"host\": process.env.DB_HOST,\r\n    \"dialect\": \"mssql\",\r\n    \"port\": process.env.DB_PORT || 1433,\r\n    \"migrationStorage\": \"json\", // Use a different storage type. Default: sequelize\r\n    \"migrationStoragePath\": \"sequelizeMeta.json\", // Use a different file name. Default: sequelize-meta.json\r\n    \"seederStorage\": \"json\", // Use a different storage. Default: none\r\n    \"seederStoragePath\": \"sequelizeData.json\", // Use a different file name. Default: sequelize-data.json\r\n  }\r\n};\r\n// console.log(configuration);\r\nmodule.exports = configuration;\r\n"],"mappings":";;AAAAA,OAAO,CAAC,QAAQ,CAAC,CAACC,MAAM,EAAE;AAC1BC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,EAAE,8BAA8B,CAAC;AACvF,MAAMC,aAAa,GAAG;EACpB,aAAa,EAAE;IACb,UAAU,EAAEH,OAAO,CAACC,GAAG,CAACG,OAAO;IAC/B,UAAU,EAAEJ,OAAO,CAACC,GAAG,CAACI,MAAM;IAC9B,UAAU,EAAEL,OAAO,CAACC,GAAG,CAACK,OAAO;IAC/B,MAAM,EAAEN,OAAO,CAACC,GAAG,CAACM,OAAO;IAC3B,SAAS,EAAE,OAAO;IAClB,MAAM,EAAEP,OAAO,CAACC,GAAG,CAACO,OAAO,IAAI,IAAI;IACnC,kBAAkB,EAAE,MAAM;IAAE;IAC5B,sBAAsB,EAAE,oBAAoB;IAAE;IAC9C,eAAe,EAAE,MAAM;IAAE;IACzB,mBAAmB,EAAE,oBAAoB,CAAE;EAC7C,CAAC;;EACD,MAAM,EAAE;IACN,UAAU,EAAER,OAAO,CAACC,GAAG,CAACG,OAAO;IAC/B,UAAU,EAAEJ,OAAO,CAACC,GAAG,CAACI,MAAM;IAC9B,UAAU,EAAEL,OAAO,CAACC,GAAG,CAACK,OAAO;IAC/B,MAAM,EAAEN,OAAO,CAACC,GAAG,CAACM,OAAO;IAC3B,SAAS,EAAE,OAAO;IAClB,MAAM,EAAEP,OAAO,CAACC,GAAG,CAACO,OAAO,IAAI,IAAI;IACnC,kBAAkB,EAAE,MAAM;IAAE;IAC5B,sBAAsB,EAAE,oBAAoB;IAAE;IAC9C,eAAe,EAAE,MAAM;IAAE;IACzB,mBAAmB,EAAE,oBAAoB,CAAE;EAC7C,CAAC;;EACD,YAAY,EAAE;IACZ,UAAU,EAAER,OAAO,CAACC,GAAG,CAACG,OAAO;IAC/B,UAAU,EAAEJ,OAAO,CAACC,GAAG,CAACI,MAAM;IAC9B,UAAU,EAAEL,OAAO,CAACC,GAAG,CAACK,OAAO;IAC/B,MAAM,EAAEN,OAAO,CAACC,GAAG,CAACM,OAAO;IAC3B,SAAS,EAAE,OAAO;IAClB,MAAM,EAAEP,OAAO,CAACC,GAAG,CAACO,OAAO,IAAI,IAAI;IACnC,kBAAkB,EAAE,MAAM;IAAE;IAC5B,sBAAsB,EAAE,oBAAoB;IAAE;IAC9C,eAAe,EAAE,MAAM;IAAE;IACzB,mBAAmB,EAAE,oBAAoB,CAAE;EAC7C;AACF,CAAC;AACD;AACAC,MAAM,CAACC,OAAO,GAAGP,aAAa"}},"mtime":1718370377903},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\models\\\\user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nconst {\n  Model\n} = require(\"sequelize\");\nmodule.exports = (sequelize, DataTypes) => {\n  class User extends Model {\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\n    static associate(models) {\n      // define association here\n    }\n  }\n  User.init({\n    wallet: DataTypes.STRING\n  }, {\n    sequelize,\n    modelName: \"User\"\n  });\n  return User;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiVXNlciIsImFzc29jaWF0ZSIsIm1vZGVscyIsImluaXQiLCJ3YWxsZXQiLCJTVFJJTkciLCJtb2RlbE5hbWUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcS29tYWwgU3llZFxcTGF0ZXN0U2FqamFkQ29kZVxcQmFja2VuZC12Mlxcc3JjXFxkYXRhYmFzZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCJcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcclxuICAgIGNsYXNzIFVzZXIgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGVscGVyIG1ldGhvZCBmb3IgZGVmaW5pbmcgYXNzb2NpYXRpb25zLlxyXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhIHBhcnQgb2YgU2VxdWVsaXplIGxpZmVjeWNsZS5cclxuICAgICAgICAgKiBUaGUgYG1vZGVscy9pbmRleGAgZmlsZSB3aWxsIGNhbGwgdGhpcyBtZXRob2QgYXV0b21hdGljYWxseS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAgICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFVzZXIuaW5pdChcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHdhbGxldDogRGF0YVR5cGVzLlNUUklOR1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzZXF1ZWxpemUsXHJcbiAgICAgICAgICAgIG1vZGVsTmFtZTogXCJVc2VyXCJcclxuICAgICAgICB9XHJcbiAgICApXHJcbiAgICByZXR1cm4gVXNlclxyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFDWixNQUFNO0VBQUVBO0FBQU0sQ0FBQyxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBRXRDQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxDQUFDQyxTQUFTLEVBQUVDLFNBQVMsS0FBSztFQUN2QyxNQUFNQyxJQUFJLFNBQVNOLEtBQUssQ0FBQztJQUNyQjtBQUNSO0FBQ0E7QUFDQTtBQUNBO0lBQ1EsT0FBT08sU0FBUyxDQUFDQyxNQUFNLEVBQUU7TUFDckI7SUFBQTtFQUVSO0VBQ0FGLElBQUksQ0FBQ0csSUFBSSxDQUNMO0lBQ0lDLE1BQU0sRUFBRUwsU0FBUyxDQUFDTTtFQUN0QixDQUFDLEVBQ0Q7SUFDSVAsU0FBUztJQUNUUSxTQUFTLEVBQUU7RUFDZixDQUFDLENBQ0o7RUFDRCxPQUFPTixJQUFJO0FBQ2YsQ0FBQyJ9","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","User","associate","models","init","wallet","STRING","modelName"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\database\\models\\","sources":["user.js"],"sourcesContent":["\"use strict\"\r\nconst { Model } = require(\"sequelize\")\r\n\r\nmodule.exports = (sequelize, DataTypes) => {\r\n    class User extends Model {\r\n        /**\r\n         * Helper method for defining associations.\r\n         * This method is not a part of Sequelize lifecycle.\r\n         * The `models/index` file will call this method automatically.\r\n         */\r\n        static associate(models) {\r\n            // define association here\r\n        }\r\n    }\r\n    User.init(\r\n        {\r\n            wallet: DataTypes.STRING\r\n        },\r\n        {\r\n            sequelize,\r\n            modelName: \"User\"\r\n        }\r\n    )\r\n    return User\r\n}\r\n"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EAAEA;AAAM,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AAEtCC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACvC,MAAMC,IAAI,SAASN,KAAK,CAAC;IACrB;AACR;AACA;AACA;AACA;IACQ,OAAOO,SAAS,CAACC,MAAM,EAAE;MACrB;IAAA;EAER;EACAF,IAAI,CAACG,IAAI,CACL;IACIC,MAAM,EAAEL,SAAS,CAACM;EACtB,CAAC,EACD;IACIP,SAAS;IACTQ,SAAS,EAAE;EACf,CAAC,CACJ;EACD,OAAON,IAAI;AACf,CAAC"}},"mtime":1718370377907},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\database\\\\models\\\\swap.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"'use strict';\n\nconst {\n  Model\n} = require('sequelize');\nmodule.exports = (sequelize, DataTypes) => {\n  class Swap extends Model {\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\n    static associate(models) {\n      // define association here\n    }\n  }\n  Swap.init({\n    metadata: DataTypes.TEXT,\n    accept_address: DataTypes.STRING,\n    init_address: DataTypes.STRING,\n    accept_sign: DataTypes.STRING,\n    init_sign: DataTypes.STRING,\n    status: DataTypes.INTEGER,\n    tx: DataTypes.STRING,\n    notes: DataTypes.STRING,\n    trade_id: DataTypes.STRING,\n    trading_chain: DataTypes.STRING,\n    swap_mode: DataTypes.INTEGER,\n    //*\n    offer_type: DataTypes.INTEGER,\n    timestamp: DataTypes.STRING,\n    swap_preferences: DataTypes.TEXT,\n    open_trade_id: DataTypes.TEXT\n  }, {\n    sequelize,\n    modelName: \"Swap\"\n  });\n  return Swap;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiU3dhcCIsImFzc29jaWF0ZSIsIm1vZGVscyIsImluaXQiLCJtZXRhZGF0YSIsIlRFWFQiLCJhY2NlcHRfYWRkcmVzcyIsIlNUUklORyIsImluaXRfYWRkcmVzcyIsImFjY2VwdF9zaWduIiwiaW5pdF9zaWduIiwic3RhdHVzIiwiSU5URUdFUiIsInR4Iiwibm90ZXMiLCJ0cmFkZV9pZCIsInRyYWRpbmdfY2hhaW4iLCJzd2FwX21vZGUiLCJvZmZlcl90eXBlIiwidGltZXN0YW1wIiwic3dhcF9wcmVmZXJlbmNlcyIsIm9wZW5fdHJhZGVfaWQiLCJtb2RlbE5hbWUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcS29tYWwgU3llZFxcTGF0ZXN0U2FqamFkQ29kZVxcQmFja2VuZC12Mlxcc3JjXFxkYXRhYmFzZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInN3YXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5jb25zdCB7XHJcbiAgTW9kZWxcclxufSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIFN3YXAgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBtZXRob2QgZm9yIGRlZmluaW5nIGFzc29jaWF0aW9ucy5cclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhIHBhcnQgb2YgU2VxdWVsaXplIGxpZmVjeWNsZS5cclxuICAgICAqIFRoZSBgbW9kZWxzL2luZGV4YCBmaWxlIHdpbGwgY2FsbCB0aGlzIG1ldGhvZCBhdXRvbWF0aWNhbGx5LlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgfVxyXG4gIH1cclxuICBTd2FwLmluaXQoXHJcbiAgICAgIHtcclxuICAgICAgICAgIG1ldGFkYXRhOiBEYXRhVHlwZXMuVEVYVCxcclxuICAgICAgICAgIGFjY2VwdF9hZGRyZXNzOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICAgICAgaW5pdF9hZGRyZXNzOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICAgICAgYWNjZXB0X3NpZ246IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgICAgICBpbml0X3NpZ246IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgICAgICBzdGF0dXM6IERhdGFUeXBlcy5JTlRFR0VSLFxyXG4gICAgICAgICAgdHg6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgICAgICBub3RlczogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgICAgIHRyYWRlX2lkOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICAgICAgdHJhZGluZ19jaGFpbjogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgICAgIHN3YXBfbW9kZTogRGF0YVR5cGVzLklOVEVHRVIsIC8vKlxyXG4gICAgICAgICAgb2ZmZXJfdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHN3YXBfcHJlZmVyZW5jZXM6IERhdGFUeXBlcy5URVhULFxyXG4gICAgICAgICAgb3Blbl90cmFkZV9pZDogRGF0YVR5cGVzLlRFWFQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICAgIHNlcXVlbGl6ZSxcclxuICAgICAgICAgIG1vZGVsTmFtZTogXCJTd2FwXCJcclxuICAgICAgfVxyXG4gIClcclxuICByZXR1cm4gU3dhcDtcclxufTsiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osTUFBTTtFQUNKQTtBQUNGLENBQUMsR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUN4QkMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsQ0FBQ0MsU0FBUyxFQUFFQyxTQUFTLEtBQUs7RUFDekMsTUFBTUMsSUFBSSxTQUFTTixLQUFLLENBQUM7SUFDdkI7QUFDSjtBQUNBO0FBQ0E7QUFDQTtJQUNJLE9BQU9PLFNBQVMsQ0FBQ0MsTUFBTSxFQUFFO01BQ3ZCO0lBQUE7RUFFSjtFQUNBRixJQUFJLENBQUNHLElBQUksQ0FDTDtJQUNJQyxRQUFRLEVBQUVMLFNBQVMsQ0FBQ00sSUFBSTtJQUN4QkMsY0FBYyxFQUFFUCxTQUFTLENBQUNRLE1BQU07SUFDaENDLFlBQVksRUFBRVQsU0FBUyxDQUFDUSxNQUFNO0lBQzlCRSxXQUFXLEVBQUVWLFNBQVMsQ0FBQ1EsTUFBTTtJQUM3QkcsU0FBUyxFQUFFWCxTQUFTLENBQUNRLE1BQU07SUFDM0JJLE1BQU0sRUFBRVosU0FBUyxDQUFDYSxPQUFPO0lBQ3pCQyxFQUFFLEVBQUVkLFNBQVMsQ0FBQ1EsTUFBTTtJQUNwQk8sS0FBSyxFQUFFZixTQUFTLENBQUNRLE1BQU07SUFDdkJRLFFBQVEsRUFBRWhCLFNBQVMsQ0FBQ1EsTUFBTTtJQUMxQlMsYUFBYSxFQUFFakIsU0FBUyxDQUFDUSxNQUFNO0lBQy9CVSxTQUFTLEVBQUVsQixTQUFTLENBQUNhLE9BQU87SUFBRTtJQUM5Qk0sVUFBVSxFQUFFbkIsU0FBUyxDQUFDYSxPQUFPO0lBQzdCTyxTQUFTLEVBQUVwQixTQUFTLENBQUNRLE1BQU07SUFFM0JhLGdCQUFnQixFQUFFckIsU0FBUyxDQUFDTSxJQUFJO0lBQ2hDZ0IsYUFBYSxFQUFFdEIsU0FBUyxDQUFDTTtFQUM3QixDQUFDLEVBQ0Q7SUFDSVAsU0FBUztJQUNUd0IsU0FBUyxFQUFFO0VBQ2YsQ0FBQyxDQUNKO0VBQ0QsT0FBT3RCLElBQUk7QUFDYixDQUFDIn0=","map":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Swap","associate","models","init","metadata","TEXT","accept_address","STRING","init_address","accept_sign","init_sign","status","INTEGER","tx","notes","trade_id","trading_chain","swap_mode","offer_type","timestamp","swap_preferences","open_trade_id","modelName"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\database\\models\\","sources":["swap.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Swap extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n    }\r\n  }\r\n  Swap.init(\r\n      {\r\n          metadata: DataTypes.TEXT,\r\n          accept_address: DataTypes.STRING,\r\n          init_address: DataTypes.STRING,\r\n          accept_sign: DataTypes.STRING,\r\n          init_sign: DataTypes.STRING,\r\n          status: DataTypes.INTEGER,\r\n          tx: DataTypes.STRING,\r\n          notes: DataTypes.STRING,\r\n          trade_id: DataTypes.STRING,\r\n          trading_chain: DataTypes.STRING,\r\n          swap_mode: DataTypes.INTEGER, //*\r\n          offer_type: DataTypes.INTEGER,\r\n          timestamp: DataTypes.STRING,\r\n          \r\n          swap_preferences: DataTypes.TEXT,\r\n          open_trade_id: DataTypes.TEXT,\r\n      },\r\n      {\r\n          sequelize,\r\n          modelName: \"Swap\"\r\n      }\r\n  )\r\n  return Swap;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,IAAI,SAASN,KAAK,CAAC;IACvB;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAAS,CAACC,MAAM,EAAE;MACvB;IAAA;EAEJ;EACAF,IAAI,CAACG,IAAI,CACL;IACIC,QAAQ,EAAEL,SAAS,CAACM,IAAI;IACxBC,cAAc,EAAEP,SAAS,CAACQ,MAAM;IAChCC,YAAY,EAAET,SAAS,CAACQ,MAAM;IAC9BE,WAAW,EAAEV,SAAS,CAACQ,MAAM;IAC7BG,SAAS,EAAEX,SAAS,CAACQ,MAAM;IAC3BI,MAAM,EAAEZ,SAAS,CAACa,OAAO;IACzBC,EAAE,EAAEd,SAAS,CAACQ,MAAM;IACpBO,KAAK,EAAEf,SAAS,CAACQ,MAAM;IACvBQ,QAAQ,EAAEhB,SAAS,CAACQ,MAAM;IAC1BS,aAAa,EAAEjB,SAAS,CAACQ,MAAM;IAC/BU,SAAS,EAAElB,SAAS,CAACa,OAAO;IAAE;IAC9BM,UAAU,EAAEnB,SAAS,CAACa,OAAO;IAC7BO,SAAS,EAAEpB,SAAS,CAACQ,MAAM;IAE3Ba,gBAAgB,EAAErB,SAAS,CAACM,IAAI;IAChCgB,aAAa,EAAEtB,SAAS,CAACM;EAC7B,CAAC,EACD;IACIP,SAAS;IACTwB,SAAS,EAAE;EACf,CAAC,CACJ;EACD,OAAOtB,IAAI;AACb,CAAC"}},"mtime":1718370377906},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\nftRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.nftRouter = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _nftController = require(\"../controllers/nftController.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst nftRouter = _express.default.Router();\nexports.nftRouter = nftRouter;\nnftRouter.get(\"/\", _nftController.nftController.test);\nnftRouter.get(\"/:walletId\", _nftController.nftController.list_all_wallet_nfts);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJuZnRSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwibmZ0Q29udHJvbGxlciIsInRlc3QiLCJsaXN0X2FsbF93YWxsZXRfbmZ0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXGFwaVxccm91dGVzXFwiLCJzb3VyY2VzIjpbIm5mdFJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCB7IG5mdENvbnRyb2xsZXIgfSBmcm9tIFwiLi4vY29udHJvbGxlcnMvbmZ0Q29udHJvbGxlci5qc1wiXHJcblxyXG5leHBvcnQgY29uc3QgbmZ0Um91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKVxyXG5cclxubmZ0Um91dGVyLmdldChcIi9cIiwgbmZ0Q29udHJvbGxlci50ZXN0KVxyXG5uZnRSb3V0ZXIuZ2V0KFwiLzp3YWxsZXRJZFwiLCBuZnRDb250cm9sbGVyLmxpc3RfYWxsX3dhbGxldF9uZnRzKVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFBK0Q7QUFFeEQsTUFBTUEsU0FBUyxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFBQTtBQUV6Q0YsU0FBUyxDQUFDRyxHQUFHLENBQUMsR0FBRyxFQUFFQyw0QkFBYSxDQUFDQyxJQUFJLENBQUM7QUFDdENMLFNBQVMsQ0FBQ0csR0FBRyxDQUFDLFlBQVksRUFBRUMsNEJBQWEsQ0FBQ0Usb0JBQW9CLENBQUMifQ==","map":{"version":3,"names":["nftRouter","express","Router","get","nftController","test","list_all_wallet_nfts"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\routes\\","sources":["nftRoutes.js"],"sourcesContent":["import express from \"express\"\r\nimport { nftController } from \"../controllers/nftController.js\"\r\n\r\nexport const nftRouter = express.Router()\r\n\r\nnftRouter.get(\"/\", nftController.test)\r\nnftRouter.get(\"/:walletId\", nftController.list_all_wallet_nfts)\r\n"],"mappings":";;;;;;AAAA;AACA;AAA+D;AAExD,MAAMA,SAAS,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAAA;AAEzCF,SAAS,CAACG,GAAG,CAAC,GAAG,EAAEC,4BAAa,CAACC,IAAI,CAAC;AACtCL,SAAS,CAACG,GAAG,CAAC,YAAY,EAAEC,4BAAa,CAACE,oBAAoB,CAAC"}},"mtime":1718370377897},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\nftController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.nftController = void 0;\nvar _alchemy = require(\"../../utils/alchemy.js\");\n//import { testDb } from \"../models/test.js\";\n\nfunction test(req, res) {\n  //testDb();\n  res.send({\n    network: process.env.NETWORK\n  });\n  let alchemy = (0, _alchemy.getAlchemy)();\n  alchemy.core.resolveName(\"xyz.3dot0.eth\").then(console.log);\n}\n\n// returns all the nfts owned by a wallet address\nasync function list_all_wallet_nfts(req, res) {\n  try {\n    let alchemy = (0, _alchemy.getAlchemy)();\n    // Print all NFTs returned in the response:\n    let nfts = [];\n    // Get the async iterable for the owner's NFTs.\n    const nftsIterable = alchemy.nft.getNftsForOwnerIterator(req.params.walletId);\n\n    // Iterate over the NFTs and add them to the nfts array.\n    for await (const nft of nftsIterable) {\n      nfts.push(nft);\n    }\n    //let nfts = await alchemy.nft.getNftsForOwner(req.params.walletId)\n    console.log(nfts);\n    res.send(nfts);\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***list_all_wallet_nfts error -> ${err}`\n    });\n  }\n}\n\n///register a new wallet account in the system\nasync function register_a_wallet(req, res) {\n  //\n}\nconst nftController = {\n  test,\n  list_all_wallet_nfts,\n  register_a_wallet\n};\nexports.nftController = nftController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0ZXN0IiwicmVxIiwicmVzIiwic2VuZCIsIm5ldHdvcmsiLCJwcm9jZXNzIiwiZW52IiwiTkVUV09SSyIsImFsY2hlbXkiLCJnZXRBbGNoZW15IiwiY29yZSIsInJlc29sdmVOYW1lIiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJsaXN0X2FsbF93YWxsZXRfbmZ0cyIsIm5mdHMiLCJuZnRzSXRlcmFibGUiLCJuZnQiLCJnZXROZnRzRm9yT3duZXJJdGVyYXRvciIsInBhcmFtcyIsIndhbGxldElkIiwicHVzaCIsImVyciIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsInJlZ2lzdGVyX2Ffd2FsbGV0IiwibmZ0Q29udHJvbGxlciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXGFwaVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsibmZ0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRBbGNoZW15IH0gZnJvbSBcIi4uLy4uL3V0aWxzL2FsY2hlbXkuanNcIlxyXG4vL2ltcG9ydCB7IHRlc3REYiB9IGZyb20gXCIuLi9tb2RlbHMvdGVzdC5qc1wiO1xyXG5cclxuZnVuY3Rpb24gdGVzdChyZXEsIHJlcykge1xyXG4gICAgLy90ZXN0RGIoKTtcclxuICAgIHJlcy5zZW5kKHsgbmV0d29yazogcHJvY2Vzcy5lbnYuTkVUV09SSyB9KVxyXG4gICAgbGV0IGFsY2hlbXkgPSBnZXRBbGNoZW15KClcclxuICAgIGFsY2hlbXkuY29yZS5yZXNvbHZlTmFtZShcInh5ei4zZG90MC5ldGhcIikudGhlbihjb25zb2xlLmxvZyk7XHJcbn1cclxuXHJcbi8vIHJldHVybnMgYWxsIHRoZSBuZnRzIG93bmVkIGJ5IGEgd2FsbGV0IGFkZHJlc3NcclxuYXN5bmMgZnVuY3Rpb24gbGlzdF9hbGxfd2FsbGV0X25mdHMocmVxLCByZXMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IGFsY2hlbXkgPSBnZXRBbGNoZW15KClcclxuICAgICAgICAvLyBQcmludCBhbGwgTkZUcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2U6XHJcbiAgICAgICAgbGV0IG5mdHMgPSBbXTtcclxuICAgICAgICAvLyBHZXQgdGhlIGFzeW5jIGl0ZXJhYmxlIGZvciB0aGUgb3duZXIncyBORlRzLlxyXG4gICAgICAgIGNvbnN0IG5mdHNJdGVyYWJsZSA9IGFsY2hlbXkubmZ0LmdldE5mdHNGb3JPd25lckl0ZXJhdG9yKHJlcS5wYXJhbXMud2FsbGV0SWQpO1xyXG5cclxuICAgICAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIE5GVHMgYW5kIGFkZCB0aGVtIHRvIHRoZSBuZnRzIGFycmF5LlxyXG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgbmZ0IG9mIG5mdHNJdGVyYWJsZSkge1xyXG4gICAgICAgICAgICBuZnRzLnB1c2gobmZ0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9sZXQgbmZ0cyA9IGF3YWl0IGFsY2hlbXkubmZ0LmdldE5mdHNGb3JPd25lcihyZXEucGFyYW1zLndhbGxldElkKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKG5mdHMpXHJcbiAgICAgICAgcmVzLnNlbmQobmZ0cylcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBgKioqbGlzdF9hbGxfd2FsbGV0X25mdHMgZXJyb3IgLT4gJHtlcnJ9YFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vL3JlZ2lzdGVyIGEgbmV3IHdhbGxldCBhY2NvdW50IGluIHRoZSBzeXN0ZW1cclxuYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXJfYV93YWxsZXQocmVxLCByZXMpIHtcclxuICAgIC8vXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBuZnRDb250cm9sbGVyID0ge1xyXG4gICAgdGVzdCxcclxuICAgIGxpc3RfYWxsX3dhbGxldF9uZnRzLFxyXG4gICAgcmVnaXN0ZXJfYV93YWxsZXRcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7O0FBRUEsU0FBU0EsSUFBSSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUNwQjtFQUNBQSxHQUFHLENBQUNDLElBQUksQ0FBQztJQUFFQyxPQUFPLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQztFQUFRLENBQUMsQ0FBQztFQUMxQyxJQUFJQyxPQUFPLEdBQUcsSUFBQUMsbUJBQVUsR0FBRTtFQUMxQkQsT0FBTyxDQUFDRSxJQUFJLENBQUNDLFdBQVcsQ0FBQyxlQUFlLENBQUMsQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQztBQUMvRDs7QUFFQTtBQUNBLGVBQWVDLG9CQUFvQixDQUFDZCxHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUMxQyxJQUFJO0lBQ0EsSUFBSU0sT0FBTyxHQUFHLElBQUFDLG1CQUFVLEdBQUU7SUFDMUI7SUFDQSxJQUFJTyxJQUFJLEdBQUcsRUFBRTtJQUNiO0lBQ0EsTUFBTUMsWUFBWSxHQUFHVCxPQUFPLENBQUNVLEdBQUcsQ0FBQ0MsdUJBQXVCLENBQUNsQixHQUFHLENBQUNtQixNQUFNLENBQUNDLFFBQVEsQ0FBQzs7SUFFN0U7SUFDQSxXQUFXLE1BQU1ILEdBQUcsSUFBSUQsWUFBWSxFQUFFO01BQ2xDRCxJQUFJLENBQUNNLElBQUksQ0FBQ0osR0FBRyxDQUFDO0lBQ2xCO0lBQ0E7SUFDQUwsT0FBTyxDQUFDQyxHQUFHLENBQUNFLElBQUksQ0FBQztJQUNqQmQsR0FBRyxDQUFDQyxJQUFJLENBQUNhLElBQUksQ0FBQztFQUNsQixDQUFDLENBQUMsT0FBT08sR0FBRyxFQUFFO0lBQ1ZWLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDUyxHQUFHLENBQUM7SUFDaEJyQixHQUFHLENBQUNzQixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUNqQkMsT0FBTyxFQUFFLEtBQUs7TUFDZEMsT0FBTyxFQUFHLG9DQUFtQ0osR0FBSTtJQUNyRCxDQUFDLENBQUM7RUFDTjtBQUNKOztBQUVBO0FBQ0EsZUFBZUssaUJBQWlCLENBQUMzQixHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUN2QztBQUFBO0FBR0csTUFBTTJCLGFBQWEsR0FBRztFQUN6QjdCLElBQUk7RUFDSmUsb0JBQW9CO0VBQ3BCYTtBQUNKLENBQUM7QUFBQSJ9","map":{"version":3,"names":["test","req","res","send","network","process","env","NETWORK","alchemy","getAlchemy","core","resolveName","then","console","log","list_all_wallet_nfts","nfts","nftsIterable","nft","getNftsForOwnerIterator","params","walletId","push","err","status","json","success","message","register_a_wallet","nftController"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\controllers\\","sources":["nftController.js"],"sourcesContent":["import { getAlchemy } from \"../../utils/alchemy.js\"\r\n//import { testDb } from \"../models/test.js\";\r\n\r\nfunction test(req, res) {\r\n    //testDb();\r\n    res.send({ network: process.env.NETWORK })\r\n    let alchemy = getAlchemy()\r\n    alchemy.core.resolveName(\"xyz.3dot0.eth\").then(console.log);\r\n}\r\n\r\n// returns all the nfts owned by a wallet address\r\nasync function list_all_wallet_nfts(req, res) {\r\n    try {\r\n        let alchemy = getAlchemy()\r\n        // Print all NFTs returned in the response:\r\n        let nfts = [];\r\n        // Get the async iterable for the owner's NFTs.\r\n        const nftsIterable = alchemy.nft.getNftsForOwnerIterator(req.params.walletId);\r\n\r\n        // Iterate over the NFTs and add them to the nfts array.\r\n        for await (const nft of nftsIterable) {\r\n            nfts.push(nft);\r\n        }\r\n        //let nfts = await alchemy.nft.getNftsForOwner(req.params.walletId)\r\n        console.log(nfts)\r\n        res.send(nfts)\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***list_all_wallet_nfts error -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\n///register a new wallet account in the system\r\nasync function register_a_wallet(req, res) {\r\n    //\r\n}\r\n\r\nexport const nftController = {\r\n    test,\r\n    list_all_wallet_nfts,\r\n    register_a_wallet\r\n}\r\n"],"mappings":";;;;;;AAAA;AACA;;AAEA,SAASA,IAAI,CAACC,GAAG,EAAEC,GAAG,EAAE;EACpB;EACAA,GAAG,CAACC,IAAI,CAAC;IAAEC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC;EAAQ,CAAC,CAAC;EAC1C,IAAIC,OAAO,GAAG,IAAAC,mBAAU,GAAE;EAC1BD,OAAO,CAACE,IAAI,CAACC,WAAW,CAAC,eAAe,CAAC,CAACC,IAAI,CAACC,OAAO,CAACC,GAAG,CAAC;AAC/D;;AAEA;AACA,eAAeC,oBAAoB,CAACd,GAAG,EAAEC,GAAG,EAAE;EAC1C,IAAI;IACA,IAAIM,OAAO,GAAG,IAAAC,mBAAU,GAAE;IAC1B;IACA,IAAIO,IAAI,GAAG,EAAE;IACb;IACA,MAAMC,YAAY,GAAGT,OAAO,CAACU,GAAG,CAACC,uBAAuB,CAAClB,GAAG,CAACmB,MAAM,CAACC,QAAQ,CAAC;;IAE7E;IACA,WAAW,MAAMH,GAAG,IAAID,YAAY,EAAE;MAClCD,IAAI,CAACM,IAAI,CAACJ,GAAG,CAAC;IAClB;IACA;IACAL,OAAO,CAACC,GAAG,CAACE,IAAI,CAAC;IACjBd,GAAG,CAACC,IAAI,CAACa,IAAI,CAAC;EAClB,CAAC,CAAC,OAAOO,GAAG,EAAE;IACVV,OAAO,CAACC,GAAG,CAACS,GAAG,CAAC;IAChBrB,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MACjBC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAG,oCAAmCJ,GAAI;IACrD,CAAC,CAAC;EACN;AACJ;;AAEA;AACA,eAAeK,iBAAiB,CAAC3B,GAAG,EAAEC,GAAG,EAAE;EACvC;AAAA;AAGG,MAAM2B,aAAa,GAAG;EACzB7B,IAAI;EACJe,oBAAoB;EACpBa;AACJ,CAAC;AAAA"}},"mtime":1718824568508},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\utils\\\\alchemy.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAlchemy = getAlchemy;\nvar _alchemySdk = require(\"alchemy-sdk\");\nfunction getAlchemy() {\n  // Optional Config object, but defaults to demo api-key and eth-mainnet.\n  const settings = {\n    apiKey: process.env.ALCHEMY_KEY,\n    // Replace with your Alchemy API Key.\n    network: process.env.NETWORK === \"1\" ? _alchemySdk.Network.ETH_MAINNET : _alchemySdk.Network.ETH_SEPOLIA // Replace with your network.\n  };\n\n  return new _alchemySdk.Alchemy(settings);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRBbGNoZW15Iiwic2V0dGluZ3MiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiQUxDSEVNWV9LRVkiLCJuZXR3b3JrIiwiTkVUV09SSyIsIk5ldHdvcmsiLCJFVEhfTUFJTk5FVCIsIkVUSF9TRVBPTElBIiwiQWxjaGVteSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXHV0aWxzXFwiLCJzb3VyY2VzIjpbImFsY2hlbXkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV0d29yaywgQWxjaGVteSB9IGZyb20gXCJhbGNoZW15LXNka1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEFsY2hlbXkoKSB7XHJcbiAgICAvLyBPcHRpb25hbCBDb25maWcgb2JqZWN0LCBidXQgZGVmYXVsdHMgdG8gZGVtbyBhcGkta2V5IGFuZCBldGgtbWFpbm5ldC5cclxuICAgIGNvbnN0IHNldHRpbmdzID0ge1xyXG4gICAgICAgIGFwaUtleTogcHJvY2Vzcy5lbnYuQUxDSEVNWV9LRVksIC8vIFJlcGxhY2Ugd2l0aCB5b3VyIEFsY2hlbXkgQVBJIEtleS5cclxuICAgICAgICBuZXR3b3JrOlxyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5ORVRXT1JLID09PSBcIjFcIlxyXG4gICAgICAgICAgICAgICAgPyBOZXR3b3JrLkVUSF9NQUlOTkVUXHJcbiAgICAgICAgICAgICAgICA6IE5ldHdvcmsuRVRIX1NFUE9MSUEgLy8gUmVwbGFjZSB3aXRoIHlvdXIgbmV0d29yay5cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIG5ldyBBbGNoZW15KHNldHRpbmdzKTtcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBRU8sU0FBU0EsVUFBVSxHQUFHO0VBQ3pCO0VBQ0EsTUFBTUMsUUFBUSxHQUFHO0lBQ2JDLE1BQU0sRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVc7SUFBRTtJQUNqQ0MsT0FBTyxFQUNISCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csT0FBTyxLQUFLLEdBQUcsR0FDckJDLG1CQUFPLENBQUNDLFdBQVcsR0FDbkJELG1CQUFPLENBQUNFLFdBQVcsQ0FBQztFQUNsQyxDQUFDOztFQUVELE9BQU8sSUFBSUMsbUJBQU8sQ0FBQ1YsUUFBUSxDQUFDO0FBQ2hDIn0=","map":{"version":3,"names":["getAlchemy","settings","apiKey","process","env","ALCHEMY_KEY","network","NETWORK","Network","ETH_MAINNET","ETH_SEPOLIA","Alchemy"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\utils\\","sources":["alchemy.js"],"sourcesContent":["import { Network, Alchemy } from \"alchemy-sdk\";\r\n\r\nexport function getAlchemy() {\r\n    // Optional Config object, but defaults to demo api-key and eth-mainnet.\r\n    const settings = {\r\n        apiKey: process.env.ALCHEMY_KEY, // Replace with your Alchemy API Key.\r\n        network:\r\n            process.env.NETWORK === \"1\"\r\n                ? Network.ETH_MAINNET\r\n                : Network.ETH_SEPOLIA // Replace with your network.\r\n    };\r\n\r\n    return new Alchemy(settings);\r\n}\r\n"],"mappings":";;;;;;AAAA;AAEO,SAASA,UAAU,GAAG;EACzB;EACA,MAAMC,QAAQ,GAAG;IACbC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW;IAAE;IACjCC,OAAO,EACHH,OAAO,CAACC,GAAG,CAACG,OAAO,KAAK,GAAG,GACrBC,mBAAO,CAACC,WAAW,GACnBD,mBAAO,CAACE,WAAW,CAAC;EAClC,CAAC;;EAED,OAAO,IAAIC,mBAAO,CAACV,QAAQ,CAAC;AAChC"}},"mtime":1718370377909},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\swapsRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.swapRouter = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _swapController = require(\"../controllers/swapController.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst swapRouter = _express.default.Router();\nexports.swapRouter = swapRouter;\nswapRouter.post(\"/\", _swapController.swapController.newSwap).put(\"/\", _swapController.swapController.updateSwap).patch(\"/status\", _swapController.swapController.updateSwapStatus).get(\"/history\", _swapController.swapController.history).get(\"/pending\", _swapController.swapController.getPending).post(\"/signature\", _swapController.swapController.sendSign).get(\"/\", _swapController.swapController.getSwapDetails)\n\n// open swaps \n.post(\"/openswap/\", _swapController.swapController.newSwap).put(\"/openswap/\", _swapController.swapController.newSwap).delete(\"/openswap/\", _swapController.swapController.newSwap).get(\"/openswap/getOpenSwapList\", _swapController.swapController.newSwap).get(\"/openswap/proposeOpenSwap\", _swapController.swapController.newSwap).get(\"/openswap/closeOpenSwapoffers\", _swapController.swapController.newSwap).get(\"/openswap/acceptOpenSwap\", _swapController.swapController.newSwap);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzd2FwUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJzd2FwQ29udHJvbGxlciIsIm5ld1N3YXAiLCJwdXQiLCJ1cGRhdGVTd2FwIiwicGF0Y2giLCJ1cGRhdGVTd2FwU3RhdHVzIiwiZ2V0IiwiaGlzdG9yeSIsImdldFBlbmRpbmciLCJzZW5kU2lnbiIsImdldFN3YXBEZXRhaWxzIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEtvbWFsIFN5ZWRcXExhdGVzdFNhamphZENvZGVcXEJhY2tlbmQtdjJcXHNyY1xcYXBpXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsic3dhcHNSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgeyBzd2FwQ29udHJvbGxlciB9IGZyb20gXCIuLi9jb250cm9sbGVycy9zd2FwQ29udHJvbGxlci5qc1wiXHJcblxyXG5leHBvcnQgY29uc3Qgc3dhcFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcclxuXHJcbnN3YXBSb3V0ZXJcclxuICAgIC5wb3N0KFwiL1wiLCBzd2FwQ29udHJvbGxlci5uZXdTd2FwKVxyXG4gICAgLnB1dChcIi9cIiwgc3dhcENvbnRyb2xsZXIudXBkYXRlU3dhcClcclxuICAgIC5wYXRjaChcIi9zdGF0dXNcIiwgc3dhcENvbnRyb2xsZXIudXBkYXRlU3dhcFN0YXR1cylcclxuICAgIC5nZXQoXCIvaGlzdG9yeVwiLCBzd2FwQ29udHJvbGxlci5oaXN0b3J5KVxyXG4gICAgLmdldChcIi9wZW5kaW5nXCIsIHN3YXBDb250cm9sbGVyLmdldFBlbmRpbmcpXHJcbiAgICAucG9zdChcIi9zaWduYXR1cmVcIixzd2FwQ29udHJvbGxlci5zZW5kU2lnbilcclxuICAgIC5nZXQoXCIvXCIsIHN3YXBDb250cm9sbGVyLmdldFN3YXBEZXRhaWxzKVxyXG5cclxuICAgIC8vIG9wZW4gc3dhcHMgXHJcbiAgICAucG9zdChcIi9vcGVuc3dhcC9cIiAsIHN3YXBDb250cm9sbGVyLm5ld1N3YXApXHJcbiAgICAucHV0KFwiL29wZW5zd2FwL1wiICwgc3dhcENvbnRyb2xsZXIubmV3U3dhcClcclxuICAgIC5kZWxldGUoXCIvb3BlbnN3YXAvXCIgLCBzd2FwQ29udHJvbGxlci5uZXdTd2FwKVxyXG5cclxuICAgIC5nZXQoXCIvb3BlbnN3YXAvZ2V0T3BlblN3YXBMaXN0XCIgLCBzd2FwQ29udHJvbGxlci5uZXdTd2FwKVxyXG4gICAgLmdldChcIi9vcGVuc3dhcC9wcm9wb3NlT3BlblN3YXBcIiAsIHN3YXBDb250cm9sbGVyLm5ld1N3YXApXHJcbiAgICAuZ2V0KFwiL29wZW5zd2FwL2Nsb3NlT3BlblN3YXBvZmZlcnNcIiAsIHN3YXBDb250cm9sbGVyLm5ld1N3YXApXHJcbiAgICAuZ2V0KFwiL29wZW5zd2FwL2FjY2VwdE9wZW5Td2FwXCIgLCBzd2FwQ29udHJvbGxlci5uZXdTd2FwKSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUFpRTtBQUUxRCxNQUFNQSxVQUFVLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sRUFBRTtBQUFBO0FBRTFDRixVQUFVLENBQ0xHLElBQUksQ0FBQyxHQUFHLEVBQUVDLDhCQUFjLENBQUNDLE9BQU8sQ0FBQyxDQUNqQ0MsR0FBRyxDQUFDLEdBQUcsRUFBRUYsOEJBQWMsQ0FBQ0csVUFBVSxDQUFDLENBQ25DQyxLQUFLLENBQUMsU0FBUyxFQUFFSiw4QkFBYyxDQUFDSyxnQkFBZ0IsQ0FBQyxDQUNqREMsR0FBRyxDQUFDLFVBQVUsRUFBRU4sOEJBQWMsQ0FBQ08sT0FBTyxDQUFDLENBQ3ZDRCxHQUFHLENBQUMsVUFBVSxFQUFFTiw4QkFBYyxDQUFDUSxVQUFVLENBQUMsQ0FDMUNULElBQUksQ0FBQyxZQUFZLEVBQUNDLDhCQUFjLENBQUNTLFFBQVEsQ0FBQyxDQUMxQ0gsR0FBRyxDQUFDLEdBQUcsRUFBRU4sOEJBQWMsQ0FBQ1UsY0FBYzs7QUFFdkM7QUFBQSxDQUNDWCxJQUFJLENBQUMsWUFBWSxFQUFHQyw4QkFBYyxDQUFDQyxPQUFPLENBQUMsQ0FDM0NDLEdBQUcsQ0FBQyxZQUFZLEVBQUdGLDhCQUFjLENBQUNDLE9BQU8sQ0FBQyxDQUMxQ1UsTUFBTSxDQUFDLFlBQVksRUFBR1gsOEJBQWMsQ0FBQ0MsT0FBTyxDQUFDLENBRTdDSyxHQUFHLENBQUMsMkJBQTJCLEVBQUdOLDhCQUFjLENBQUNDLE9BQU8sQ0FBQyxDQUN6REssR0FBRyxDQUFDLDJCQUEyQixFQUFHTiw4QkFBYyxDQUFDQyxPQUFPLENBQUMsQ0FDekRLLEdBQUcsQ0FBQywrQkFBK0IsRUFBR04sOEJBQWMsQ0FBQ0MsT0FBTyxDQUFDLENBQzdESyxHQUFHLENBQUMsMEJBQTBCLEVBQUdOLDhCQUFjLENBQUNDLE9BQU8sQ0FBQyJ9","map":{"version":3,"names":["swapRouter","express","Router","post","swapController","newSwap","put","updateSwap","patch","updateSwapStatus","get","history","getPending","sendSign","getSwapDetails","delete"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\routes\\","sources":["swapsRoutes.js"],"sourcesContent":["import express from \"express\"\r\nimport { swapController } from \"../controllers/swapController.js\"\r\n\r\nexport const swapRouter = express.Router()\r\n\r\nswapRouter\r\n    .post(\"/\", swapController.newSwap)\r\n    .put(\"/\", swapController.updateSwap)\r\n    .patch(\"/status\", swapController.updateSwapStatus)\r\n    .get(\"/history\", swapController.history)\r\n    .get(\"/pending\", swapController.getPending)\r\n    .post(\"/signature\",swapController.sendSign)\r\n    .get(\"/\", swapController.getSwapDetails)\r\n\r\n    // open swaps \r\n    .post(\"/openswap/\" , swapController.newSwap)\r\n    .put(\"/openswap/\" , swapController.newSwap)\r\n    .delete(\"/openswap/\" , swapController.newSwap)\r\n\r\n    .get(\"/openswap/getOpenSwapList\" , swapController.newSwap)\r\n    .get(\"/openswap/proposeOpenSwap\" , swapController.newSwap)\r\n    .get(\"/openswap/closeOpenSwapoffers\" , swapController.newSwap)\r\n    .get(\"/openswap/acceptOpenSwap\" , swapController.newSwap)"],"mappings":";;;;;;AAAA;AACA;AAAiE;AAE1D,MAAMA,UAAU,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAAA;AAE1CF,UAAU,CACLG,IAAI,CAAC,GAAG,EAAEC,8BAAc,CAACC,OAAO,CAAC,CACjCC,GAAG,CAAC,GAAG,EAAEF,8BAAc,CAACG,UAAU,CAAC,CACnCC,KAAK,CAAC,SAAS,EAAEJ,8BAAc,CAACK,gBAAgB,CAAC,CACjDC,GAAG,CAAC,UAAU,EAAEN,8BAAc,CAACO,OAAO,CAAC,CACvCD,GAAG,CAAC,UAAU,EAAEN,8BAAc,CAACQ,UAAU,CAAC,CAC1CT,IAAI,CAAC,YAAY,EAACC,8BAAc,CAACS,QAAQ,CAAC,CAC1CH,GAAG,CAAC,GAAG,EAAEN,8BAAc,CAACU,cAAc;;AAEvC;AAAA,CACCX,IAAI,CAAC,YAAY,EAAGC,8BAAc,CAACC,OAAO,CAAC,CAC3CC,GAAG,CAAC,YAAY,EAAGF,8BAAc,CAACC,OAAO,CAAC,CAC1CU,MAAM,CAAC,YAAY,EAAGX,8BAAc,CAACC,OAAO,CAAC,CAE7CK,GAAG,CAAC,2BAA2B,EAAGN,8BAAc,CAACC,OAAO,CAAC,CACzDK,GAAG,CAAC,2BAA2B,EAAGN,8BAAc,CAACC,OAAO,CAAC,CACzDK,GAAG,CAAC,+BAA+B,EAAGN,8BAAc,CAACC,OAAO,CAAC,CAC7DK,GAAG,CAAC,0BAA0B,EAAGN,8BAAc,CAACC,OAAO,CAAC"}},"mtime":1718370377899},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\swapController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.swapController = void 0;\nvar _models = _interopRequireDefault(require(\"../../database/models\"));\nvar _sequelize = require(\"sequelize\");\nvar _constants = require(\"../utils/constants.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction test(req, res) {\n  //testDb();\n  res.send({\n    network: process.env.NETWORK\n  });\n}\nconst newSwap = async (req, res) => {\n  try {\n    var metadata = req.body.metadata;\n    const response = await _models.default.swaps.create({\n      metadata: JSON.stringify(metadata),\n      init_address: req.body.init_address.trim(),\n      accept_address: req.body.accept_address.trim(),\n      init_sign: req.body.init_sign.trim(),\n      swap_mode: req.body.swap_mode,\n      open_trade_id: null,\n      trading_chain: req.body.trading_chain,\n      status: _constants.SwapStatus.PENDING,\n      offer_type: req.body.offer_type,\n      trade_id: req.body.trade_id,\n      swap_preferences: null\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"new_swap\",\n        data: response\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***new_swap error -> ${err}`\n    });\n  }\n};\nconst updateSwap = async (req, res) => {\n  try {\n    var metadata = req.body.metadata;\n    const response = await _models.default.swaps.update({\n      metadata: JSON.stringify(metadata),\n      // status: 1, //1 is pending\n      init_address: req.body.init_address.trim(),\n      accept_address: req.body.accept_address.trim(),\n      init_sign: req.body.init_sign.trim(),\n      swap_mode: req.body.swap_mode,\n      open_trade_id: null,\n      trading_chain: req.body.trading_chain,\n      status: _constants.SwapStatus.PENDING,\n      offer_type: req.body.offer_type,\n      trade_id: req.body.trade_id,\n      swap_preferences: null\n    }, {\n      where: {\n        id: req.body.id\n      }\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"update_swap\",\n        data: response\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***update_swap error -> ${err}`\n    });\n  }\n};\nconst updateSwapStatus = async (req, res) => {\n  try {\n    const response = await _models.default.swaps.update({\n      status: req.body.status,\n      tx: \"\" + req.body.txn,\n      notes: \"\" + req.body.notes,\n      metadata: req.body.metadata,\n      timestamp: req.body.timestamp,\n      swap_mode: req.body.swap_mode,\n      open_trade_id: null,\n      trading_chain: req.body.trading_chain,\n      status: _constants.SwapStatus.PENDING,\n      offer_type: req.body.offer_type,\n      trade_id: req.body.trade_id,\n      swap_preferences: null\n    }, {\n      where: {\n        id: req.body.id\n      }\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"update_swap_status\",\n        data: response\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***update_swap_status -> ${err}`\n    });\n  }\n};\nconst getSwapDetails = async (req, res) => {\n  try {\n    console.log(req.query.swapId);\n    const swap = await _models.default.swaps.findByPk(req.query.swapId);\n    if (swap) {\n      let walletId = req.query.walletId;\n      const metadata = JSON.parse(swap.metadata);\n      console.log(metadata);\n      if (swap.init_address !== walletId && swap.accept_address !== walletId) {\n        res.status(200).json({\n          success: false,\n          message: \"not authorized to view this swap\"\n        });\n      } else {\n        res.json({\n          success: true,\n          message: \"getSwapDetails\",\n          data: swap\n        });\n      }\n    } else {\n      res.status(200).json({\n        success: false,\n        message: \"swap details not found\"\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***getSwapDetails error -> ${err}`\n    });\n  }\n};\nconst getPending = async (req, res) => {\n  try {\n    const response = await _models.default.swaps.findAll({\n      where: {\n        [_sequelize.Op.and]: {\n          status: 1,\n          [_sequelize.Op.or]: [{\n            accept_address: req.query.address\n          }, {\n            init_address: req.query.address\n          }]\n        }\n      }\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"get_pending\",\n        data: response\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***get_pending error -> ${err}`\n    });\n  }\n};\nconst history = async (req, res) => {\n  try {\n    const response = await _models.default.swaps.findAll({\n      //attributes: [\"createdAt\", \"status\"],\n      where: {\n        [_sequelize.Op.or]: [{\n          accept_address: req.query.address\n        }, {\n          init_address: req.query.address\n        }]\n      }\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"history\",\n        data: response\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***history error -> ${err}`\n    });\n  }\n};\nconst sendSign = async (req, res) => {\n  try {\n    const response = await _models.default.swaps.update({\n      init_sign: req.body.sign\n    }, {\n      where: {\n        init_address: req.body.address\n      }\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"send_sign\",\n        data: response\n      });\n    }\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      success: false,\n      message: `***send_sign error -> ${err}`\n    });\n  }\n};\nconst swapController = {\n  test,\n  newSwap,\n  updateSwap,\n  updateSwapStatus,\n  getPending,\n  history,\n  sendSign,\n  getSwapDetails\n};\nexports.swapController = swapController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0ZXN0IiwicmVxIiwicmVzIiwic2VuZCIsIm5ldHdvcmsiLCJwcm9jZXNzIiwiZW52IiwiTkVUV09SSyIsIm5ld1N3YXAiLCJtZXRhZGF0YSIsImJvZHkiLCJyZXNwb25zZSIsImRiIiwic3dhcHMiLCJjcmVhdGUiLCJKU09OIiwic3RyaW5naWZ5IiwiaW5pdF9hZGRyZXNzIiwidHJpbSIsImFjY2VwdF9hZGRyZXNzIiwiaW5pdF9zaWduIiwic3dhcF9tb2RlIiwib3Blbl90cmFkZV9pZCIsInRyYWRpbmdfY2hhaW4iLCJzdGF0dXMiLCJTd2FwU3RhdHVzIiwiUEVORElORyIsIm9mZmVyX3R5cGUiLCJ0cmFkZV9pZCIsInN3YXBfcHJlZmVyZW5jZXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJkYXRhIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZVN3YXAiLCJ1cGRhdGUiLCJ3aGVyZSIsImlkIiwidXBkYXRlU3dhcFN0YXR1cyIsInR4IiwidHhuIiwibm90ZXMiLCJ0aW1lc3RhbXAiLCJnZXRTd2FwRGV0YWlscyIsInF1ZXJ5Iiwic3dhcElkIiwic3dhcCIsImZpbmRCeVBrIiwid2FsbGV0SWQiLCJwYXJzZSIsImdldFBlbmRpbmciLCJmaW5kQWxsIiwiT3AiLCJhbmQiLCJvciIsImFkZHJlc3MiLCJoaXN0b3J5Iiwic2VuZFNpZ24iLCJzaWduIiwic3dhcENvbnRyb2xsZXIiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcS29tYWwgU3llZFxcTGF0ZXN0U2FqamFkQ29kZVxcQmFja2VuZC12Mlxcc3JjXFxhcGlcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbInN3YXBDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYiBmcm9tIFwiLi4vLi4vZGF0YWJhc2UvbW9kZWxzXCI7XHJcbmltcG9ydCB7IE9wIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xyXG5pbXBvcnQgeyBPZmZlclR5cGUsIFN3YXBTdGF0dXMgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5cclxuZnVuY3Rpb24gdGVzdChyZXEsIHJlcykge1xyXG4gICAgLy90ZXN0RGIoKTtcclxuICAgIHJlcy5zZW5kKHsgbmV0d29yazogcHJvY2Vzcy5lbnYuTkVUV09SSyB9KVxyXG59XHJcblxyXG5jb25zdCBuZXdTd2FwID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHZhciBtZXRhZGF0YSA9IHJlcS5ib2R5Lm1ldGFkYXRhXHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGIuc3dhcHMuY3JlYXRlKHtcclxuICAgICAgICAgICAgbWV0YWRhdGE6IEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSxcclxuICAgICAgICAgICAgaW5pdF9hZGRyZXNzOiByZXEuYm9keS5pbml0X2FkZHJlc3MudHJpbSgpLFxyXG4gICAgICAgICAgICBhY2NlcHRfYWRkcmVzczogcmVxLmJvZHkuYWNjZXB0X2FkZHJlc3MudHJpbSgpLFxyXG4gICAgICAgICAgICBpbml0X3NpZ246IHJlcS5ib2R5LmluaXRfc2lnbi50cmltKCksXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzd2FwX21vZGU6IHJlcS5ib2R5LnN3YXBfbW9kZSxcclxuICAgICAgICAgICAgb3Blbl90cmFkZV9pZDogbnVsbCxcclxuICAgICAgICAgICAgdHJhZGluZ19jaGFpbjogcmVxLmJvZHkudHJhZGluZ19jaGFpbiwgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHN0YXR1czogU3dhcFN0YXR1cy5QRU5ESU5HLFxyXG4gICAgICAgICAgICBvZmZlcl90eXBlOiByZXEuYm9keS5vZmZlcl90eXBlLFxyXG4gICAgICAgICAgICB0cmFkZV9pZCA6IHJlcS5ib2R5LnRyYWRlX2lkLFxyXG4gICAgICAgICAgICBzd2FwX3ByZWZlcmVuY2VzOiBudWxsXHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJuZXdfc3dhcFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogYCoqKm5ld19zd2FwIGVycm9yIC0+ICR7ZXJyfWBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCB1cGRhdGVTd2FwID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHZhciBtZXRhZGF0YSA9IHJlcS5ib2R5Lm1ldGFkYXRhXHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGIuc3dhcHMudXBkYXRlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpLFxyXG4gICAgICAgICAgICAgICAvLyBzdGF0dXM6IDEsIC8vMSBpcyBwZW5kaW5nXHJcbiAgICAgICAgICAgICAgICBpbml0X2FkZHJlc3M6IHJlcS5ib2R5LmluaXRfYWRkcmVzcy50cmltKCksXHJcbiAgICAgICAgICAgICAgICBhY2NlcHRfYWRkcmVzczogcmVxLmJvZHkuYWNjZXB0X2FkZHJlc3MudHJpbSgpLFxyXG4gICAgICAgICAgICAgICAgaW5pdF9zaWduOiByZXEuYm9keS5pbml0X3NpZ24udHJpbSgpLFxyXG5cclxuICAgICAgICAgICAgICAgIHN3YXBfbW9kZTogcmVxLmJvZHkuc3dhcF9tb2RlLFxyXG4gICAgICAgICAgICAgICAgb3Blbl90cmFkZV9pZDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHRyYWRpbmdfY2hhaW46IHJlcS5ib2R5LnRyYWRpbmdfY2hhaW4sICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBTd2FwU3RhdHVzLlBFTkRJTkcsXHJcbiAgICAgICAgICAgICAgICBvZmZlcl90eXBlOiByZXEuYm9keS5vZmZlcl90eXBlLFxyXG4gICAgICAgICAgICAgICAgdHJhZGVfaWQgOiByZXEuYm9keS50cmFkZV9pZCxcclxuICAgICAgICAgICAgICAgIHN3YXBfcHJlZmVyZW5jZXM6IG51bGwsXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7IHdoZXJlOiB7IGlkOiByZXEuYm9keS5pZCB9IH1cclxuICAgICAgICApXHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJ1cGRhdGVfc3dhcFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogYCoqKnVwZGF0ZV9zd2FwIGVycm9yIC0+ICR7ZXJyfWBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCB1cGRhdGVTd2FwU3RhdHVzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGIuc3dhcHMudXBkYXRlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHJlcS5ib2R5LnN0YXR1cyxcclxuICAgICAgICAgICAgICAgIHR4OiBcIlwiICsgcmVxLmJvZHkudHhuLFxyXG4gICAgICAgICAgICAgICAgbm90ZXM6IFwiXCIgKyByZXEuYm9keS5ub3RlcyxcclxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiByZXEuYm9keS5tZXRhZGF0YSxcclxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogcmVxLmJvZHkudGltZXN0YW1wLFxyXG5cclxuICAgICAgICAgICAgICAgIHN3YXBfbW9kZTogcmVxLmJvZHkuc3dhcF9tb2RlLFxyXG4gICAgICAgICAgICAgICAgb3Blbl90cmFkZV9pZDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHRyYWRpbmdfY2hhaW46IHJlcS5ib2R5LnRyYWRpbmdfY2hhaW4sICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBTd2FwU3RhdHVzLlBFTkRJTkcsXHJcbiAgICAgICAgICAgICAgICBvZmZlcl90eXBlOiByZXEuYm9keS5vZmZlcl90eXBlLFxyXG4gICAgICAgICAgICAgICAgdHJhZGVfaWQgOiByZXEuYm9keS50cmFkZV9pZCxcclxuICAgICAgICAgICAgICAgIHN3YXBfcHJlZmVyZW5jZXM6IG51bGxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgeyB3aGVyZTogeyBpZDogcmVxLmJvZHkuaWQgfSB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwidXBkYXRlX3N3YXBfc3RhdHVzXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiByZXNwb25zZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBgKioqdXBkYXRlX3N3YXBfc3RhdHVzIC0+ICR7ZXJyfWBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBnZXRTd2FwRGV0YWlscyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXEucXVlcnkuc3dhcElkKVxyXG4gICAgICAgIGNvbnN0IHN3YXAgPSBhd2FpdCBkYi5zd2Fwcy5maW5kQnlQayhyZXEucXVlcnkuc3dhcElkKVxyXG4gICAgICAgIGlmIChzd2FwKSB7XHJcbiAgICAgICAgICAgIGxldCB3YWxsZXRJZCA9IHJlcS5xdWVyeS53YWxsZXRJZFxyXG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IEpTT04ucGFyc2Uoc3dhcC5tZXRhZGF0YSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2cobWV0YWRhdGEpXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHN3YXAuaW5pdF9hZGRyZXNzICE9PSB3YWxsZXRJZCAmJlxyXG4gICAgICAgICAgICAgICAgc3dhcC5hY2NlcHRfYWRkcmVzcyAhPT0gd2FsbGV0SWRcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJub3QgYXV0aG9yaXplZCB0byB2aWV3IHRoaXMgc3dhcFwiXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJnZXRTd2FwRGV0YWlsc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHN3YXBcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwic3dhcCBkZXRhaWxzIG5vdCBmb3VuZFwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGAqKipnZXRTd2FwRGV0YWlscyBlcnJvciAtPiAke2Vycn1gXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZ2V0UGVuZGluZyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGRiLnN3YXBzLmZpbmRBbGwoe1xyXG4gICAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICAgICAgW09wLmFuZF06IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgW09wLm9yXTogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGFjY2VwdF9hZGRyZXNzOiByZXEucXVlcnkuYWRkcmVzcyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGluaXRfYWRkcmVzczogcmVxLnF1ZXJ5LmFkZHJlc3MgfVxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImdldF9wZW5kaW5nXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiByZXNwb25zZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBgKioqZ2V0X3BlbmRpbmcgZXJyb3IgLT4gJHtlcnJ9YFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGhpc3RvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkYi5zd2Fwcy5maW5kQWxsKHtcclxuICAgICAgICAgICAgLy9hdHRyaWJ1dGVzOiBbXCJjcmVhdGVkQXRcIiwgXCJzdGF0dXNcIl0sXHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBbT3Aub3JdOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBhY2NlcHRfYWRkcmVzczogcmVxLnF1ZXJ5LmFkZHJlc3MgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGluaXRfYWRkcmVzczogcmVxLnF1ZXJ5LmFkZHJlc3MgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiaGlzdG9yeVwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogYCoqKmhpc3RvcnkgZXJyb3IgLT4gJHtlcnJ9YFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHNlbmRTaWduID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGIuc3dhcHMudXBkYXRlKFxyXG4gICAgICAgICAgICB7IGluaXRfc2lnbjogcmVxLmJvZHkuc2lnbiB9LFxyXG4gICAgICAgICAgICB7IHdoZXJlOiB7IGluaXRfYWRkcmVzczogcmVxLmJvZHkuYWRkcmVzcyB9IH1cclxuICAgICAgICApXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcInNlbmRfc2lnblwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogYCoqKnNlbmRfc2lnbiBlcnJvciAtPiAke2Vycn1gXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHN3YXBDb250cm9sbGVyID0ge1xyXG4gICAgdGVzdCxcclxuICAgIG5ld1N3YXAsXHJcbiAgICB1cGRhdGVTd2FwLFxyXG4gICAgdXBkYXRlU3dhcFN0YXR1cyxcclxuICAgIGdldFBlbmRpbmcsXHJcbiAgICBoaXN0b3J5LFxyXG4gICAgc2VuZFNpZ24sXHJcbiAgICBnZXRTd2FwRGV0YWlsc1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQThEO0FBRTlELFNBQVNBLElBQUksQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUU7RUFDcEI7RUFDQUEsR0FBRyxDQUFDQyxJQUFJLENBQUM7SUFBRUMsT0FBTyxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0M7RUFBUSxDQUFDLENBQUM7QUFDOUM7QUFFQSxNQUFNQyxPQUFPLEdBQUcsT0FBT1AsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDaEMsSUFBSTtJQUNBLElBQUlPLFFBQVEsR0FBR1IsR0FBRyxDQUFDUyxJQUFJLENBQUNELFFBQVE7SUFFaEMsTUFBTUUsUUFBUSxHQUFHLE1BQU1DLGVBQUUsQ0FBQ0MsS0FBSyxDQUFDQyxNQUFNLENBQUM7TUFDbkNMLFFBQVEsRUFBRU0sSUFBSSxDQUFDQyxTQUFTLENBQUNQLFFBQVEsQ0FBQztNQUNsQ1EsWUFBWSxFQUFFaEIsR0FBRyxDQUFDUyxJQUFJLENBQUNPLFlBQVksQ0FBQ0MsSUFBSSxFQUFFO01BQzFDQyxjQUFjLEVBQUVsQixHQUFHLENBQUNTLElBQUksQ0FBQ1MsY0FBYyxDQUFDRCxJQUFJLEVBQUU7TUFDOUNFLFNBQVMsRUFBRW5CLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDVSxTQUFTLENBQUNGLElBQUksRUFB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","map":{"version":3,"names":["test","req","res","send","network","process","env","NETWORK","newSwap","metadata","body","response","db","swaps","create","JSON","stringify","init_address","trim","accept_address","init_sign","swap_mode","open_trade_id","trading_chain","status","SwapStatus","PENDING","offer_type","trade_id","swap_preferences","json","success","message","data","err","console","log","updateSwap","update","where","id","updateSwapStatus","tx","txn","notes","timestamp","getSwapDetails","query","swapId","swap","findByPk","walletId","parse","getPending","findAll","Op","and","or","address","history","sendSign","sign","swapController"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\controllers\\","sources":["swapController.js"],"sourcesContent":["import db from \"../../database/models\";\r\nimport { Op } from \"sequelize\";\r\nimport { OfferType, SwapStatus } from '../utils/constants.js';\r\n\r\nfunction test(req, res) {\r\n    //testDb();\r\n    res.send({ network: process.env.NETWORK })\r\n}\r\n\r\nconst newSwap = async (req, res) => {\r\n    try {\r\n        var metadata = req.body.metadata\r\n\r\n        const response = await db.swaps.create({\r\n            metadata: JSON.stringify(metadata),\r\n            init_address: req.body.init_address.trim(),\r\n            accept_address: req.body.accept_address.trim(),\r\n            init_sign: req.body.init_sign.trim(),\r\n            \r\n            swap_mode: req.body.swap_mode,\r\n            open_trade_id: null,\r\n            trading_chain: req.body.trading_chain,                   \r\n            status: SwapStatus.PENDING,\r\n            offer_type: req.body.offer_type,\r\n            trade_id : req.body.trade_id,\r\n            swap_preferences: null\r\n\r\n            \r\n        })\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"new_swap\",\r\n                data: response\r\n            })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***new_swap error -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\nconst updateSwap = async (req, res) => {\r\n    try {\r\n        var metadata = req.body.metadata\r\n\r\n        const response = await db.swaps.update(\r\n            {\r\n                metadata: JSON.stringify(metadata),\r\n               // status: 1, //1 is pending\r\n                init_address: req.body.init_address.trim(),\r\n                accept_address: req.body.accept_address.trim(),\r\n                init_sign: req.body.init_sign.trim(),\r\n\r\n                swap_mode: req.body.swap_mode,\r\n                open_trade_id: null,\r\n                trading_chain: req.body.trading_chain,                   \r\n                status: SwapStatus.PENDING,\r\n                offer_type: req.body.offer_type,\r\n                trade_id : req.body.trade_id,\r\n                swap_preferences: null,\r\n\r\n            },\r\n            { where: { id: req.body.id } }\r\n        )\r\n\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"update_swap\",\r\n                data: response\r\n            })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***update_swap error -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\nconst updateSwapStatus = async (req, res) => {\r\n    try {\r\n        const response = await db.swaps.update(\r\n            {\r\n                status: req.body.status,\r\n                tx: \"\" + req.body.txn,\r\n                notes: \"\" + req.body.notes,\r\n                metadata: req.body.metadata,\r\n                timestamp: req.body.timestamp,\r\n\r\n                swap_mode: req.body.swap_mode,\r\n                open_trade_id: null,\r\n                trading_chain: req.body.trading_chain,                   \r\n                status: SwapStatus.PENDING,\r\n                offer_type: req.body.offer_type,\r\n                trade_id : req.body.trade_id,\r\n                swap_preferences: null\r\n            },\r\n            { where: { id: req.body.id } }\r\n        )\r\n\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"update_swap_status\",\r\n                data: response\r\n            })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***update_swap_status -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\nconst getSwapDetails = async (req, res) => {\r\n    try {\r\n        console.log(req.query.swapId)\r\n        const swap = await db.swaps.findByPk(req.query.swapId)\r\n        if (swap) {\r\n            let walletId = req.query.walletId\r\n            const metadata = JSON.parse(swap.metadata)\r\n            console.log(metadata)\r\n            if (\r\n                swap.init_address !== walletId &&\r\n                swap.accept_address !== walletId\r\n            ) {\r\n                res.status(200).json({\r\n                    success: false,\r\n                    message: \"not authorized to view this swap\"\r\n                })\r\n            } else {\r\n                res.json({\r\n                    success: true,\r\n                    message: \"getSwapDetails\",\r\n                    data: swap\r\n                })\r\n            }\r\n        } else {\r\n            res.status(200).json({\r\n                success: false,\r\n                message: \"swap details not found\"\r\n            })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***getSwapDetails error -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\nconst getPending = async (req, res) => {\r\n    try {\r\n        const response = await db.swaps.findAll({\r\n            where: {\r\n                [Op.and]: {\r\n                    status: 1,\r\n                    [Op.or]: [\r\n                        { accept_address: req.query.address },\r\n                        { init_address: req.query.address }\r\n                    ]\r\n                }\r\n            }\r\n        })\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"get_pending\",\r\n                data: response\r\n            })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***get_pending error -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\nconst history = async (req, res) => {\r\n    try {\r\n        const response = await db.swaps.findAll({\r\n            //attributes: [\"createdAt\", \"status\"],\r\n            where: {\r\n                [Op.or]: [\r\n                    { accept_address: req.query.address },\r\n                    { init_address: req.query.address }\r\n                ]\r\n            }\r\n        })\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"history\",\r\n                data: response\r\n            })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***history error -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\nconst sendSign = async (req, res) => {\r\n    try {\r\n        const response = await db.swaps.update(\r\n            { init_sign: req.body.sign },\r\n            { where: { init_address: req.body.address } }\r\n        )\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"send_sign\",\r\n                data: response\r\n            })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n        res.status(500).json({\r\n            success: false,\r\n            message: `***send_sign error -> ${err}`\r\n        })\r\n    }\r\n}\r\n\r\nexport const swapController = {\r\n    test,\r\n    newSwap,\r\n    updateSwap,\r\n    updateSwapStatus,\r\n    getPending,\r\n    history,\r\n    sendSign,\r\n    getSwapDetails\r\n}\r\n"],"mappings":";;;;;;AAAA;AACA;AACA;AAA8D;AAE9D,SAASA,IAAI,CAACC,GAAG,EAAEC,GAAG,EAAE;EACpB;EACAA,GAAG,CAACC,IAAI,CAAC;IAAEC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC;EAAQ,CAAC,CAAC;AAC9C;AAEA,MAAMC,OAAO,GAAG,OAAOP,GAAG,EAAEC,GAAG,KAAK;EAChC,IAAI;IACA,IAAIO,QAAQ,GAAGR,GAAG,CAACS,IAAI,CAACD,QAAQ;IAEhC,MAAME,QAAQ,GAAG,MAAMC,eAAE,CAACC,KAAK,CAACC,MAAM,CAAC;MACnCL,QAAQ,EAAEM,IAAI,CAACC,SAAS,CAACP,QAAQ,CAAC;MAClCQ,YAAY,EAAEhB,GAAG,CAACS,IAAI,CAACO,YAAY,CAACC,IAAI,EAAE;MAC1CC,cAAc,EAAElB,GAAG,CAACS,IAAI,CAACS,cAAc,CAACD,IAAI,EAAE;MAC9CE,SAAS,EAAEnB,GAAG,CAACS,IAAI,CAACU,SAAS,CAACF,IAAI,EAAE;MAEpCG,SAAS,EAAEpB,GAAG,CAACS,IAAI,CAACW,SAAS;MAC7BC,aAAa,EAAE,IAAI;MACnBC,aAAa,EAAEtB,GAAG,CAACS,IAAI,CAACa,aAAa;MACrCC,MAAM,EAAEC,qBAAU,CAACC,OAAO;MAC1BC,UAAU,EAAE1B,GAAG,CAACS,IAAI,CAACiB,UAAU;MAC/BC,QAAQ,EAAG3B,GAAG,CAACS,IAAI,CAACkB,QAAQ;MAC5BC,gBAAgB,EAAE;IAGtB,CAAC,CAAC;IACF,IAAIlB,QAAQ,EAAE;MACVT,GAAG,CAAC4B,IAAI,CAAC;QACLC,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,UAAU;QACnBC,IAAI,EAAEtB;MACV,CAAC,CAAC;IACN;EACJ,CAAC,CAAC,OAAOuB,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBhC,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;MACjBC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAG,wBAAuBE,GAAI;IACzC,CAAC,CAAC;EACN;AACJ,CAAC;AAED,MAAMG,UAAU,GAAG,OAAOpC,GAAG,EAAEC,GAAG,KAAK;EACnC,IAAI;IACA,IAAIO,QAAQ,GAAGR,GAAG,CAACS,IAAI,CAACD,QAAQ;IAEhC,MAAME,QAAQ,GAAG,MAAMC,eAAE,CAACC,KAAK,CAACyB,MAAM,CAClC;MACI7B,QAAQ,EAAEM,IAAI,CAACC,SAAS,CAACP,QAAQ,CAAC;MACnC;MACCQ,YAAY,EAAEhB,GAAG,CAACS,IAAI,CAACO,YAAY,CAACC,IAAI,EAAE;MAC1CC,cAAc,EAAElB,GAAG,CAACS,IAAI,CAACS,cAAc,CAACD,IAAI,EAAE;MAC9CE,SAAS,EAAEnB,GAAG,CAACS,IAAI,CAACU,SAAS,CAACF,IAAI,EAAE;MAEpCG,SAAS,EAAEpB,GAAG,CAACS,IAAI,CAACW,SAAS;MAC7BC,aAAa,EAAE,IAAI;MACnBC,aAAa,EAAEtB,GAAG,CAACS,IAAI,CAACa,aAAa;MACrCC,MAAM,EAAEC,qBAAU,CAACC,OAAO;MAC1BC,UAAU,EAAE1B,GAAG,CAACS,IAAI,CAACiB,UAAU;MAC/BC,QAAQ,EAAG3B,GAAG,CAACS,IAAI,CAACkB,QAAQ;MAC5BC,gBAAgB,EAAE;IAEtB,CAAC,EACD;MAAEU,KAAK,EAAE;QAAEC,EAAE,EAAEvC,GAAG,CAACS,IAAI,CAAC8B;MAAG;IAAE,CAAC,CACjC;IAED,IAAI7B,QAAQ,EAAE;MACVT,GAAG,CAAC4B,IAAI,CAAC;QACLC,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,aAAa;QACtBC,IAAI,EAAEtB;MACV,CAAC,CAAC;IACN;EACJ,CAAC,CAAC,OAAOuB,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBhC,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;MACjBC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAG,2BAA0BE,GAAI;IAC5C,CAAC,CAAC;EACN;AACJ,CAAC;AAED,MAAMO,gBAAgB,GAAG,OAAOxC,GAAG,EAAEC,GAAG,KAAK;EACzC,IAAI;IACA,MAAMS,QAAQ,GAAG,MAAMC,eAAE,CAACC,KAAK,CAACyB,MAAM,CAClC;MACId,MAAM,EAAEvB,GAAG,CAACS,IAAI,CAACc,MAAM;MACvBkB,EAAE,EAAE,EAAE,GAAGzC,GAAG,CAACS,IAAI,CAACiC,GAAG;MACrBC,KAAK,EAAE,EAAE,GAAG3C,GAAG,CAACS,IAAI,CAACkC,KAAK;MAC1BnC,QAAQ,EAAER,GAAG,CAACS,IAAI,CAACD,QAAQ;MAC3BoC,SAAS,EAAE5C,GAAG,CAACS,IAAI,CAACmC,SAAS;MAE7BxB,SAAS,EAAEpB,GAAG,CAACS,IAAI,CAACW,SAAS;MAC7BC,aAAa,EAAE,IAAI;MACnBC,aAAa,EAAEtB,GAAG,CAACS,IAAI,CAACa,aAAa;MACrCC,MAAM,EAAEC,qBAAU,CAACC,OAAO;MAC1BC,UAAU,EAAE1B,GAAG,CAACS,IAAI,CAACiB,UAAU;MAC/BC,QAAQ,EAAG3B,GAAG,CAACS,IAAI,CAACkB,QAAQ;MAC5BC,gBAAgB,EAAE;IACtB,CAAC,EACD;MAAEU,KAAK,EAAE;QAAEC,EAAE,EAAEvC,GAAG,CAACS,IAAI,CAAC8B;MAAG;IAAE,CAAC,CACjC;IAED,IAAI7B,QAAQ,EAAE;MACVT,GAAG,CAAC4B,IAAI,CAAC;QACLC,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,oBAAoB;QAC7BC,IAAI,EAAEtB;MACV,CAAC,CAAC;IACN;EACJ,CAAC,CAAC,OAAOuB,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBhC,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;MACjBC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAG,4BAA2BE,GAAI;IAC7C,CAAC,CAAC;EACN;AACJ,CAAC;AAED,MAAMY,cAAc,GAAG,OAAO7C,GAAG,EAAEC,GAAG,KAAK;EACvC,IAAI;IACAiC,OAAO,CAACC,GAAG,CAACnC,GAAG,CAAC8C,KAAK,CAACC,MAAM,CAAC;IAC7B,MAAMC,IAAI,GAAG,MAAMrC,eAAE,CAACC,KAAK,CAACqC,QAAQ,CAACjD,GAAG,CAAC8C,KAAK,CAACC,MAAM,CAAC;IACtD,IAAIC,IAAI,EAAE;MACN,IAAIE,QAAQ,GAAGlD,GAAG,CAAC8C,KAAK,CAACI,QAAQ;MACjC,MAAM1C,QAAQ,GAAGM,IAAI,CAACqC,KAAK,CAACH,IAAI,CAACxC,QAAQ,CAAC;MAC1C0B,OAAO,CAACC,GAAG,CAAC3B,QAAQ,CAAC;MACrB,IACIwC,IAAI,CAAChC,YAAY,KAAKkC,QAAQ,IAC9BF,IAAI,CAAC9B,cAAc,KAAKgC,QAAQ,EAClC;QACEjD,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;UACjBC,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE;QACb,CAAC,CAAC;MACN,CAAC,MAAM;QACH9B,GAAG,CAAC4B,IAAI,CAAC;UACLC,OAAO,EAAE,IAAI;UACbC,OAAO,EAAE,gBAAgB;UACzBC,IAAI,EAAEgB;QACV,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACH/C,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC,CAAC,OAAOE,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBhC,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;MACjBC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAG,8BAA6BE,GAAI;IAC/C,CAAC,CAAC;EACN;AACJ,CAAC;AAED,MAAMmB,UAAU,GAAG,OAAOpD,GAAG,EAAEC,GAAG,KAAK;EACnC,IAAI;IACA,MAAMS,QAAQ,GAAG,MAAMC,eAAE,CAACC,KAAK,CAACyC,OAAO,CAAC;MACpCf,KAAK,EAAE;QACH,CAACgB,aAAE,CAACC,GAAG,GAAG;UACNhC,MAAM,EAAE,CAAC;UACT,CAAC+B,aAAE,CAACE,EAAE,GAAG,CACL;YAAEtC,cAAc,EAAElB,GAAG,CAAC8C,KAAK,CAACW;UAAQ,CAAC,EACrC;YAAEzC,YAAY,EAAEhB,GAAG,CAAC8C,KAAK,CAACW;UAAQ,CAAC;QAE3C;MACJ;IACJ,CAAC,CAAC;IACF,IAAI/C,QAAQ,EAAE;MACVT,GAAG,CAAC4B,IAAI,CAAC;QACLC,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,aAAa;QACtBC,IAAI,EAAEtB;MACV,CAAC,CAAC;IACN;EACJ,CAAC,CAAC,OAAOuB,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBhC,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;MACjBC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAG,2BAA0BE,GAAI;IAC5C,CAAC,CAAC;EACN;AACJ,CAAC;AAED,MAAMyB,OAAO,GAAG,OAAO1D,GAAG,EAAEC,GAAG,KAAK;EAChC,IAAI;IACA,MAAMS,QAAQ,GAAG,MAAMC,eAAE,CAACC,KAAK,CAACyC,OAAO,CAAC;MACpC;MACAf,KAAK,EAAE;QACH,CAACgB,aAAE,CAACE,EAAE,GAAG,CACL;UAAEtC,cAAc,EAAElB,GAAG,CAAC8C,KAAK,CAACW;QAAQ,CAAC,EACrC;UAAEzC,YAAY,EAAEhB,GAAG,CAAC8C,KAAK,CAACW;QAAQ,CAAC;MAE3C;IACJ,CAAC,CAAC;IACF,IAAI/C,QAAQ,EAAE;MACVT,GAAG,CAAC4B,IAAI,CAAC;QACLC,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,SAAS;QAClBC,IAAI,EAAEtB;MACV,CAAC,CAAC;IACN;EACJ,CAAC,CAAC,OAAOuB,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBhC,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;MACjBC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAG,uBAAsBE,GAAI;IACxC,CAAC,CAAC;EACN;AACJ,CAAC;AAED,MAAM0B,QAAQ,GAAG,OAAO3D,GAAG,EAAEC,GAAG,KAAK;EACjC,IAAI;IACA,MAAMS,QAAQ,GAAG,MAAMC,eAAE,CAACC,KAAK,CAACyB,MAAM,CAClC;MAAElB,SAAS,EAAEnB,GAAG,CAACS,IAAI,CAACmD;IAAK,CAAC,EAC5B;MAAEtB,KAAK,EAAE;QAAEtB,YAAY,EAAEhB,GAAG,CAACS,IAAI,CAACgD;MAAQ;IAAE,CAAC,CAChD;IACD,IAAI/C,QAAQ,EAAE;MACVT,GAAG,CAAC4B,IAAI,CAAC;QACLC,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,WAAW;QACpBC,IAAI,EAAEtB;MACV,CAAC,CAAC;IACN;EACJ,CAAC,CAAC,OAAOuB,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBhC,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;MACjBC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAG,yBAAwBE,GAAI;IAC1C,CAAC,CAAC;EACN;AACJ,CAAC;AAEM,MAAM4B,cAAc,GAAG;EAC1B9D,IAAI;EACJQ,OAAO;EACP6B,UAAU;EACVI,gBAAgB;EAChBY,UAAU;EACVM,OAAO;EACPC,QAAQ;EACRd;AACJ,CAAC;AAAA"}},"mtime":1718528737394},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\utils\\\\constants.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SwapStatus = exports.SwapMode = exports.OfferType = void 0;\nconst OfferType = {\n  PRIMARY: 0,\n  COUNTER: 1\n};\nexports.OfferType = OfferType;\nconst SwapMode = {\n  OPEN: 0,\n  PRIVATE: 1\n};\nexports.SwapMode = SwapMode;\nconst SwapStatus = {\n  PENDING: 1,\n  COMPLETED: 2,\n  DECLINED: 3,\n  CANCELLED: 4\n};\nexports.SwapStatus = SwapStatus;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPZmZlclR5cGUiLCJQUklNQVJZIiwiQ09VTlRFUiIsIlN3YXBNb2RlIiwiT1BFTiIsIlBSSVZBVEUiLCJTd2FwU3RhdHVzIiwiUEVORElORyIsIkNPTVBMRVRFRCIsIkRFQ0xJTkVEIiwiQ0FOQ0VMTEVEIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEtvbWFsIFN5ZWRcXExhdGVzdFNhamphZENvZGVcXEJhY2tlbmQtdjJcXHNyY1xcYXBpXFx1dGlsc1xcIiwic291cmNlcyI6WyJjb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IE9mZmVyVHlwZSA9IHtcclxuICAgIFBSSU1BUlk6IDAsXHJcbiAgICBDT1VOVEVSOiAxLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IFN3YXBNb2RlID0ge1xyXG4gICAgT1BFTjogMCxcclxuICAgIFBSSVZBVEU6IDEsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgU3dhcFN0YXR1cyA9IHtcclxuICAgIFBFTkRJTkc6IDEsXHJcbiAgICBDT01QTEVURUQ6IDIsXHJcbiAgICBERUNMSU5FRDogMyxcclxuICAgIENBTkNFTExFRDo0XHJcbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTyxNQUFNQSxTQUFTLEdBQUc7RUFDckJDLE9BQU8sRUFBRSxDQUFDO0VBQ1ZDLE9BQU8sRUFBRTtBQUNiLENBQUM7QUFBQztBQUVLLE1BQU1DLFFBQVEsR0FBRztFQUNwQkMsSUFBSSxFQUFFLENBQUM7RUFDUEMsT0FBTyxFQUFFO0FBQ2IsQ0FBQztBQUFDO0FBRUssTUFBTUMsVUFBVSxHQUFHO0VBQ3RCQyxPQUFPLEVBQUUsQ0FBQztFQUNWQyxTQUFTLEVBQUUsQ0FBQztFQUNaQyxRQUFRLEVBQUUsQ0FBQztFQUNYQyxTQUFTLEVBQUM7QUFDZCxDQUFDO0FBQUMifQ==","map":{"version":3,"names":["OfferType","PRIMARY","COUNTER","SwapMode","OPEN","PRIVATE","SwapStatus","PENDING","COMPLETED","DECLINED","CANCELLED"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\utils\\","sources":["constants.js"],"sourcesContent":["export const OfferType = {\r\n    PRIMARY: 0,\r\n    COUNTER: 1,\r\n};\r\n\r\nexport const SwapMode = {\r\n    OPEN: 0,\r\n    PRIVATE: 1,\r\n};\r\n\r\nexport const SwapStatus = {\r\n    PENDING: 1,\r\n    COMPLETED: 2,\r\n    DECLINED: 3,\r\n    CANCELLED:4\r\n};"],"mappings":";;;;;;AAAO,MAAMA,SAAS,GAAG;EACrBC,OAAO,EAAE,CAAC;EACVC,OAAO,EAAE;AACb,CAAC;AAAC;AAEK,MAAMC,QAAQ,GAAG;EACpBC,IAAI,EAAE,CAAC;EACPC,OAAO,EAAE;AACb,CAAC;AAAC;AAEK,MAAMC,UAAU,GAAG;EACtBC,OAAO,EAAE,CAAC;EACVC,SAAS,EAAE,CAAC;EACZC,QAAQ,EAAE,CAAC;EACXC,SAAS,EAAC;AACd,CAAC;AAAC"}},"mtime":1718370377901},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\routes\\\\openSwapRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.openSwapRouter = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _openSwapController = require(\"../controllers/openSwapController\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst openSwapRouter = _express.default.Router();\nexports.openSwapRouter = openSwapRouter;\nopenSwapRouter.post(\"/create\", _openSwapController.openSwapController.createOpenSwap).get(\"/list\", _openSwapController.openSwapController.getOpenSwapList).get(\"/get-swap\", _openSwapController.openSwapController.getSwapPreferences).post(\"/propose\", _openSwapController.openSwapController.proposeOpenSwap).patch(\"/close-offers\", _openSwapController.openSwapController.closeOpenSwapOffers).patch(\"/accept\", _openSwapController.openSwapController.acceptOpenSwap);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcGVuU3dhcFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0Iiwib3BlblN3YXBDb250cm9sbGVyIiwiY3JlYXRlT3BlblN3YXAiLCJnZXQiLCJnZXRPcGVuU3dhcExpc3QiLCJnZXRTd2FwUHJlZmVyZW5jZXMiLCJwcm9wb3NlT3BlblN3YXAiLCJwYXRjaCIsImNsb3NlT3BlblN3YXBPZmZlcnMiLCJhY2NlcHRPcGVuU3dhcCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxLb21hbCBTeWVkXFxMYXRlc3RTYWpqYWRDb2RlXFxCYWNrZW5kLXYyXFxzcmNcXGFwaVxccm91dGVzXFwiLCJzb3VyY2VzIjpbIm9wZW5Td2FwUm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgeyBvcGVuU3dhcENvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9vcGVuU3dhcENvbnRyb2xsZXInO1xyXG5cclxuZXhwb3J0IGNvbnN0IG9wZW5Td2FwUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbm9wZW5Td2FwUm91dGVyXHJcbiAgICAucG9zdChcIi9jcmVhdGVcIiwgb3BlblN3YXBDb250cm9sbGVyLmNyZWF0ZU9wZW5Td2FwKVxyXG4gICAgLmdldChcIi9saXN0XCIsIG9wZW5Td2FwQ29udHJvbGxlci5nZXRPcGVuU3dhcExpc3QpXHJcbiAgICAuZ2V0KFwiL2dldC1zd2FwXCIsIG9wZW5Td2FwQ29udHJvbGxlci5nZXRTd2FwUHJlZmVyZW5jZXMpXHJcbiAgICAucG9zdChcIi9wcm9wb3NlXCIsIG9wZW5Td2FwQ29udHJvbGxlci5wcm9wb3NlT3BlblN3YXApXHJcbiAgICAucGF0Y2goXCIvY2xvc2Utb2ZmZXJzXCIsIG9wZW5Td2FwQ29udHJvbGxlci5jbG9zZU9wZW5Td2FwT2ZmZXJzKVxyXG4gICAgLnBhdGNoKFwiL2FjY2VwdFwiLCBvcGVuU3dhcENvbnRyb2xsZXIuYWNjZXB0T3BlblN3YXApO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFBdUU7QUFFaEUsTUFBTUEsY0FBYyxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFBQztBQUUvQ0YsY0FBYyxDQUNURyxJQUFJLENBQUMsU0FBUyxFQUFFQyxzQ0FBa0IsQ0FBQ0MsY0FBYyxDQUFDLENBQ2xEQyxHQUFHLENBQUMsT0FBTyxFQUFFRixzQ0FBa0IsQ0FBQ0csZUFBZSxDQUFDLENBQ2hERCxHQUFHLENBQUMsV0FBVyxFQUFFRixzQ0FBa0IsQ0FBQ0ksa0JBQWtCLENBQUMsQ0FDdkRMLElBQUksQ0FBQyxVQUFVLEVBQUVDLHNDQUFrQixDQUFDSyxlQUFlLENBQUMsQ0FDcERDLEtBQUssQ0FBQyxlQUFlLEVBQUVOLHNDQUFrQixDQUFDTyxtQkFBbUIsQ0FBQyxDQUM5REQsS0FBSyxDQUFDLFNBQVMsRUFBRU4sc0NBQWtCLENBQUNRLGNBQWMsQ0FBQyJ9","map":{"version":3,"names":["openSwapRouter","express","Router","post","openSwapController","createOpenSwap","get","getOpenSwapList","getSwapPreferences","proposeOpenSwap","patch","closeOpenSwapOffers","acceptOpenSwap"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\routes\\","sources":["openSwapRouter.js"],"sourcesContent":["import express from 'express';\r\nimport { openSwapController } from '../controllers/openSwapController';\r\n\r\nexport const openSwapRouter = express.Router();\r\n\r\nopenSwapRouter\r\n    .post(\"/create\", openSwapController.createOpenSwap)\r\n    .get(\"/list\", openSwapController.getOpenSwapList)\r\n    .get(\"/get-swap\", openSwapController.getSwapPreferences)\r\n    .post(\"/propose\", openSwapController.proposeOpenSwap)\r\n    .patch(\"/close-offers\", openSwapController.closeOpenSwapOffers)\r\n    .patch(\"/accept\", openSwapController.acceptOpenSwap);\r\n"],"mappings":";;;;;;AAAA;AACA;AAAuE;AAEhE,MAAMA,cAAc,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAAC;AAE/CF,cAAc,CACTG,IAAI,CAAC,SAAS,EAAEC,sCAAkB,CAACC,cAAc,CAAC,CAClDC,GAAG,CAAC,OAAO,EAAEF,sCAAkB,CAACG,eAAe,CAAC,CAChDD,GAAG,CAAC,WAAW,EAAEF,sCAAkB,CAACI,kBAAkB,CAAC,CACvDL,IAAI,CAAC,UAAU,EAAEC,sCAAkB,CAACK,eAAe,CAAC,CACpDC,KAAK,CAAC,eAAe,EAAEN,sCAAkB,CAACO,mBAAmB,CAAC,CAC9DD,KAAK,CAAC,SAAS,EAAEN,sCAAkB,CAACQ,cAAc,CAAC"}},"mtime":1718830645551},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"filename\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\\\\src\\\\api\\\\controllers\\\\openSwapController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"C:\\\\Users\\\\Komal Syed\\\\LatestSajjadCode\\\\Backend-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.7:test":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.openSwapController = void 0;\nvar _models = _interopRequireDefault(require(\"../../database/models\"));\nvar _sequelize = require(\"sequelize\");\nvar _constants = require(\"../utils/constants.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nconst handleError = (res, err, message) => {\n  console.error(err);\n  res.status(500).json({\n    success: false,\n    message: `${message} -> ${err.message || err}`\n  });\n};\nconst createOpenSwap = async (req, res) => {\n  try {\n    const metadata = req.body.metadata;\n    const swap_preferences = req.body.swap_preferences;\n    console.log(metadata);\n    const response = await _models.default.swaps.create({\n      metadata: JSON.stringify(metadata),\n      init_address: req.body.init_address.trim(),\n      swap_mode: req.body.swap_mode,\n      open_trade_id: req.body.open_trade_id,\n      trading_chain: req.body.trading_chain,\n      swap_preferences: JSON.stringify(swap_preferences),\n      status: _constants.SwapStatus.PENDING,\n      offer_type: _constants.OfferType.PRIMARY,\n      trade_id: null\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"create_open_swap\",\n        data: response\n      });\n    }\n  } catch (err) {\n    handleError(res, err, \"create_open_swap error\");\n  }\n};\nconst getOpenSwapList = async (req, res) => {\n  try {\n    const response = await _models.default.swaps.findAll({\n      where: {\n        [_sequelize.Op.and]: [{\n          status: _constants.SwapStatus.PENDING\n        }, {\n          swap_mode: _constants.SwapMode.OPEN\n        }, {\n          accept_address: null\n        }]\n      }\n    });\n\n    // Convert metadata and swap_preferences to JSON if they are valid JSON strings\n    const formattedResponse = response.map(swap => {\n      const swapJSON = swap.toJSON();\n      const formattedSwap = _objectSpread(_objectSpread({}, swapJSON), {}, {\n        metadata: tryParseJSON(swapJSON.metadata),\n        swap_preferences: tryParseJSON(swapJSON.swap_preferences),\n        created_at: swapJSON.createdAt,\n        updated_at: swapJSON.updatedAt\n      });\n      // Remove original createdAt and updatedAt fields\n      delete formattedSwap.createdAt;\n      delete formattedSwap.updatedAt;\n      return formattedSwap;\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"get_open_swap_list\",\n        data: formattedResponse\n      });\n    }\n  } catch (err) {\n    handleError(res, err, \"get_open_swap_list error\");\n  }\n};\nconst getSwapPreferences = async (req, res) => {\n  try {\n    const response = await _models.default.swaps.findAll({\n      where: {\n        [_sequelize.Op.and]: [{\n          swap_mode: _constants.SwapMode.OPEN\n        }, {\n          open_trade_id: req.query.open_trade_id\n        }]\n      }\n    });\n\n    // Convert metadata and swap_preferences to JSON if they are valid JSON strings\n    const formattedResponse = response.map(swap => {\n      const swapJSON = swap.toJSON();\n      const formattedSwap = {\n        swap_preferences: tryParseJSON(swapJSON.swap_preferences)\n      };\n      // Remove original createdAt and updatedAt fields\n\n      return formattedSwap;\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"get_open_swap_preference_against_id\",\n        data: formattedResponse\n      });\n    }\n  } catch (err) {\n    handleError(res, err, \"get_open_swap_preference_against_id error\");\n  }\n};\n\n// Helper function to parse JSON safely\nfunction tryParseJSON(jsonString) {\n  try {\n    const parsed = JSON.parse(jsonString);\n    return parsed;\n  } catch (err) {\n    return jsonString; // Return original string if parsing fails\n  }\n}\n\nconst proposeOpenSwap = async (req, res) => {\n  try {\n    const {\n      trade_id,\n      metadata,\n      init_address,\n      init_sign,\n      open_trade_id\n    } = req.body; //trade_id //metadata is accept_meta // open_trade_id\n\n    const swap = await _models.default.swaps.findByPk(swapId);\n    if (!swap || swap.status !== _constants.SwapStatus.PENDING) {\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid swap ID or swap is not open\"\n      });\n    }\n    const response = await _models.default.swaps.create({\n      metadata: JSON.stringify(metadata),\n      status: _constants.SwapStatus.PENDING,\n      init_address: init_address.trim(),\n      init_sign: init_sign.trim(),\n      accept_address: accept_address.trim(),\n      // init_address will be reterieved from db , against open_trade_id\n      trade_id: trade_id,\n      offer_type: _constants.OfferType.PRIMARY\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"propose_open_swap\",\n        data: response\n      });\n    }\n  } catch (err) {\n    handleError(res, err, \"propose_open_swap error\");\n  }\n};\nconst closeOpenSwapOffers = async (req, res) => {\n  try {\n    const {\n      open_trade_id\n    } = req.body; // delete all offers based on open_trade_id\n\n    const response = await _models.default.sequelize.transaction(async t => {\n      const updateOffers = await _models.default.swaps.update({\n        status: _constants.SwapStatus.DECLINED\n      }, {\n        where: {\n          trade_id: swapId,\n          status: _constants.SwapStatus.PENDING\n        },\n        transaction: t\n      });\n      const updateSwap = await _models.default.swaps.update({\n        status: _constants.SwapStatus.CANCELLED\n      }, {\n        where: {\n          id: swapId\n        },\n        transaction: t\n      });\n      return {\n        updateOffers,\n        updateSwap\n      };\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"close_open_swap_offers\",\n        data: response\n      });\n    }\n  } catch (err) {\n    handleError(res, err, \"close_open_swap_offers error\");\n  }\n};\nconst acceptOpenSwap = async (req, res) => {\n  try {\n    const {\n      trade_id,\n      open_trade_id,\n      accept_sign\n    } = req.body; //accept offer based on trade_id and remove all other open_trade_id's\n    const swap = await _models.default.swaps.findByPk(swapId);\n    if (!swap || swap.status !== _constants.SwapStatus.PENDING) {\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid swap ID or swap is not in a valid state for acceptance\"\n      });\n    }\n    const response = await _models.default.sequelize.transaction(async t => {\n      const updateSwap = await swap.update({\n        accept_address: accept_address.trim(),\n        accept_sign: accept_sign.trim(),\n        status: _constants.SwapStatus.COMPLETED\n      }, {\n        transaction: t\n      });\n      const declineOffers = await _models.default.swaps.update({\n        status: _constants.SwapStatus.DECLINED\n      }, {\n        where: {\n          trade_id: swap.trade_id,\n          status: _constants.SwapStatus.PENDING\n        },\n        transaction: t\n      });\n      return {\n        updateSwap,\n        declineOffers\n      };\n    });\n    if (response) {\n      res.json({\n        success: true,\n        message: \"accept_open_swap\",\n        data: response\n      });\n    }\n  } catch (err) {\n    handleError(res, err, \"accept_open_swap error\");\n  }\n};\nconst openSwapController = {\n  createOpenSwap,\n  getOpenSwapList,\n  proposeOpenSwap,\n  closeOpenSwapOffers,\n  acceptOpenSwap,\n  getSwapPreferences\n};\nexports.openSwapController = openSwapController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJoYW5kbGVFcnJvciIsInJlcyIsImVyciIsIm1lc3NhZ2UiLCJjb25zb2xlIiwiZXJyb3IiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsImNyZWF0ZU9wZW5Td2FwIiwicmVxIiwibWV0YWRhdGEiLCJib2R5Iiwic3dhcF9wcmVmZXJlbmNlcyIsImxvZyIsInJlc3BvbnNlIiwiZGIiLCJzd2FwcyIsImNyZWF0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJpbml0X2FkZHJlc3MiLCJ0cmltIiwic3dhcF9tb2RlIiwib3Blbl90cmFkZV9pZCIsInRyYWRpbmdfY2hhaW4iLCJTd2FwU3RhdHVzIiwiUEVORElORyIsIm9mZmVyX3R5cGUiLCJPZmZlclR5cGUiLCJQUklNQVJZIiwidHJhZGVfaWQiLCJkYXRhIiwiZ2V0T3BlblN3YXBMaXN0IiwiZmluZEFsbCIsIndoZXJlIiwiT3AiLCJhbmQiLCJTd2FwTW9kZSIsIk9QRU4iLCJhY2NlcHRfYWRkcmVzcyIsImZvcm1hdHRlZFJlc3BvbnNlIiwibWFwIiwic3dhcCIsInN3YXBKU09OIiwidG9KU09OIiwiZm9ybWF0dGVkU3dhcCIsInRyeVBhcnNlSlNPTiIsImNyZWF0ZWRfYXQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkX2F0IiwidXBkYXRlZEF0IiwiZ2V0U3dhcFByZWZlcmVuY2VzIiwicXVlcnkiLCJqc29uU3RyaW5nIiwicGFyc2VkIiwicGFyc2UiLCJwcm9wb3NlT3BlblN3YXAiLCJpbml0X3NpZ24iLCJmaW5kQnlQayIsInN3YXBJZCIsImNsb3NlT3BlblN3YXBPZmZlcnMiLCJzZXF1ZWxpemUiLCJ0cmFuc2FjdGlvbiIsInQiLCJ1cGRhdGVPZmZlcnMiLCJ1cGRhdGUiLCJERUNMSU5FRCIsInVwZGF0ZVN3YXAiLCJDQU5DRUxMRUQiLCJpZCIsImFjY2VwdE9wZW5Td2FwIiwiYWNjZXB0X3NpZ24iLCJDT01QTEVURUQiLCJkZWNsaW5lT2ZmZXJzIiwib3BlblN3YXBDb250cm9sbGVyIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEtvbWFsIFN5ZWRcXExhdGVzdFNhamphZENvZGVcXEJhY2tlbmQtdjJcXHNyY1xcYXBpXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJvcGVuU3dhcENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gb3BlblN3YXBDb250cm9sbGVyLmpzXHJcbmltcG9ydCBkYiBmcm9tIFwiLi4vLi4vZGF0YWJhc2UvbW9kZWxzXCI7XHJcbmltcG9ydCB7IE9wIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xyXG5pbXBvcnQgeyBPZmZlclR5cGUsIFN3YXBNb2RlLCBTd2FwU3RhdHVzIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuXHJcbmNvbnN0IGhhbmRsZUVycm9yID0gKHJlcywgZXJyLCBtZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogYCR7bWVzc2FnZX0gLT4gJHtlcnIubWVzc2FnZSB8fCBlcnJ9YFxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVPcGVuU3dhcCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHJlcS5ib2R5Lm1ldGFkYXRhO1xyXG4gICAgICAgIGNvbnN0IHN3YXBfcHJlZmVyZW5jZXMgPSByZXEuYm9keS5zd2FwX3ByZWZlcmVuY2VzO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG1ldGFkYXRhKTtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGRiLnN3YXBzLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhOiBKU09OLnN0cmluZ2lmeShtZXRhZGF0YSksXHJcbiAgICAgICAgICAgIGluaXRfYWRkcmVzczogcmVxLmJvZHkuaW5pdF9hZGRyZXNzLnRyaW0oKSxcclxuICAgICAgICAgICAgc3dhcF9tb2RlOiByZXEuYm9keS5zd2FwX21vZGUsXHJcbiAgICAgICAgICAgIG9wZW5fdHJhZGVfaWQ6IHJlcS5ib2R5Lm9wZW5fdHJhZGVfaWQsXHJcbiAgICAgICAgICAgIHRyYWRpbmdfY2hhaW46IHJlcS5ib2R5LnRyYWRpbmdfY2hhaW4sXHJcbiAgICAgICAgICAgIHN3YXBfcHJlZmVyZW5jZXM6IEpTT04uc3RyaW5naWZ5KHN3YXBfcHJlZmVyZW5jZXMpLFxyXG5cclxuICAgICAgICAgICAgc3RhdHVzOiBTd2FwU3RhdHVzLlBFTkRJTkcsXHJcbiAgICAgICAgICAgIG9mZmVyX3R5cGU6IE9mZmVyVHlwZS5QUklNQVJZLFxyXG4gICAgICAgICAgICB0cmFkZV9pZDogbnVsbCxcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImNyZWF0ZV9vcGVuX3N3YXBcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3BvbnNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGhhbmRsZUVycm9yKHJlcywgZXJyLCBcImNyZWF0ZV9vcGVuX3N3YXAgZXJyb3JcIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXRPcGVuU3dhcExpc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkYi5zd2Fwcy5maW5kQWxsKHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIFtPcC5hbmRdOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBzdGF0dXM6IFN3YXBTdGF0dXMuUEVORElORyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgc3dhcF9tb2RlOiBTd2FwTW9kZS5PUEVOIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBhY2NlcHRfYWRkcmVzczogbnVsbCB9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgbWV0YWRhdGEgYW5kIHN3YXBfcHJlZmVyZW5jZXMgdG8gSlNPTiBpZiB0aGV5IGFyZSB2YWxpZCBKU09OIHN0cmluZ3NcclxuICAgICAgICBjb25zdCBmb3JtYXR0ZWRSZXNwb25zZSA9IHJlc3BvbnNlLm1hcChzd2FwID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc3dhcEpTT04gPSBzd2FwLnRvSlNPTigpO1xyXG4gICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRTd2FwID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uc3dhcEpTT04sXHJcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogdHJ5UGFyc2VKU09OKHN3YXBKU09OLm1ldGFkYXRhKSxcclxuICAgICAgICAgICAgICAgIHN3YXBfcHJlZmVyZW5jZXM6IHRyeVBhcnNlSlNPTihzd2FwSlNPTi5zd2FwX3ByZWZlcmVuY2VzKSxcclxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN3YXBKU09OLmNyZWF0ZWRBdCxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IHN3YXBKU09OLnVwZGF0ZWRBdCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIG9yaWdpbmFsIGNyZWF0ZWRBdCBhbmQgdXBkYXRlZEF0IGZpZWxkc1xyXG4gICAgICAgICAgICBkZWxldGUgZm9ybWF0dGVkU3dhcC5jcmVhdGVkQXQ7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBmb3JtYXR0ZWRTd2FwLnVwZGF0ZWRBdDtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFN3YXA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJnZXRfb3Blbl9zd2FwX2xpc3RcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1hdHRlZFJlc3BvbnNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGhhbmRsZUVycm9yKHJlcywgZXJyLCBcImdldF9vcGVuX3N3YXBfbGlzdCBlcnJvclwiKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG5jb25zdCBnZXRTd2FwUHJlZmVyZW5jZXMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkYi5zd2Fwcy5maW5kQWxsKHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIFtPcC5hbmRdOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBzd2FwX21vZGU6IFN3YXBNb2RlLk9QRU4gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG9wZW5fdHJhZGVfaWQ6IHJlcS5xdWVyeS5vcGVuX3RyYWRlX2lkIH0sXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBtZXRhZGF0YSBhbmQgc3dhcF9wcmVmZXJlbmNlcyB0byBKU09OIGlmIHRoZXkgYXJlIHZhbGlkIEpTT04gc3RyaW5nc1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZFJlc3BvbnNlID0gcmVzcG9uc2UubWFwKHN3YXAgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzd2FwSlNPTiA9IHN3YXAudG9KU09OKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZFN3YXAgPSB7XHJcbiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHN3YXBfcHJlZmVyZW5jZXM6IHRyeVBhcnNlSlNPTihzd2FwSlNPTi5zd2FwX3ByZWZlcmVuY2VzKSxcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgb3JpZ2luYWwgY3JlYXRlZEF0IGFuZCB1cGRhdGVkQXQgZmllbGRzXHJcbiAgICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFN3YXA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImdldF9vcGVuX3N3YXBfcHJlZmVyZW5jZV9hZ2FpbnN0X2lkXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBmb3JtYXR0ZWRSZXNwb25zZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBoYW5kbGVFcnJvcihyZXMsIGVyciwgXCJnZXRfb3Blbl9zd2FwX3ByZWZlcmVuY2VfYWdhaW5zdF9pZCBlcnJvclwiKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgSlNPTiBzYWZlbHlcclxuZnVuY3Rpb24gdHJ5UGFyc2VKU09OKGpzb25TdHJpbmcpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShqc29uU3RyaW5nKTtcclxuICAgICAgICByZXR1cm4gcGFyc2VkO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgcmV0dXJuIGpzb25TdHJpbmc7IC8vIFJldHVybiBvcmlnaW5hbCBzdHJpbmcgaWYgcGFyc2luZyBmYWlsc1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuY29uc3QgcHJvcG9zZU9wZW5Td2FwID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgdHJhZGVfaWQsIG1ldGFkYXRhLCBpbml0X2FkZHJlc3MsIGluaXRfc2lnbiwgb3Blbl90cmFkZV9pZCB9ID0gcmVxLmJvZHk7ICAvL3RyYWRlX2lkIC8vbWV0YWRhdGEgaXMgYWNjZXB0X21ldGEgLy8gb3Blbl90cmFkZV9pZFxyXG5cclxuICAgICAgICBjb25zdCBzd2FwID0gYXdhaXQgZGIuc3dhcHMuZmluZEJ5UGsoc3dhcElkKTtcclxuICAgICAgICBpZiAoIXN3YXAgfHwgc3dhcC5zdGF0dXMgIT09IFN3YXBTdGF0dXMuUEVORElORykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgc3dhcCBJRCBvciBzd2FwIGlzIG5vdCBvcGVuXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGRiLnN3YXBzLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhOiBKU09OLnN0cmluZ2lmeShtZXRhZGF0YSksXHJcbiAgICAgICAgICAgIHN0YXR1czogU3dhcFN0YXR1cy5QRU5ESU5HLFxyXG4gICAgICAgICAgICBpbml0X2FkZHJlc3M6IGluaXRfYWRkcmVzcy50cmltKCksXHJcbiAgICAgICAgICAgIGluaXRfc2lnbjogaW5pdF9zaWduLnRyaW0oKSxcclxuICAgICAgICAgICAgYWNjZXB0X2FkZHJlc3M6IGFjY2VwdF9hZGRyZXNzLnRyaW0oKSwgLy8gaW5pdF9hZGRyZXNzIHdpbGwgYmUgcmV0ZXJpZXZlZCBmcm9tIGRiICwgYWdhaW5zdCBvcGVuX3RyYWRlX2lkXHJcbiAgICAgICAgICAgIHRyYWRlX2lkOiB0cmFkZV9pZCxcclxuXHJcbiAgICAgICAgICAgIG9mZmVyX3R5cGU6IE9mZmVyVHlwZS5QUklNQVJZLFxyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwicHJvcG9zZV9vcGVuX3N3YXBcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3BvbnNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGhhbmRsZUVycm9yKHJlcywgZXJyLCBcInByb3Bvc2Vfb3Blbl9zd2FwIGVycm9yXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgY2xvc2VPcGVuU3dhcE9mZmVycyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IG9wZW5fdHJhZGVfaWQgfSA9IHJlcS5ib2R5OyAvLyBkZWxldGUgYWxsIG9mZmVycyBiYXNlZCBvbiBvcGVuX3RyYWRlX2lkXHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGIuc2VxdWVsaXplLnRyYW5zYWN0aW9uKGFzeW5jICh0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZU9mZmVycyA9IGF3YWl0IGRiLnN3YXBzLnVwZGF0ZShcclxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiBTd2FwU3RhdHVzLkRFQ0xJTkVEIH0sXHJcbiAgICAgICAgICAgICAgICB7IHdoZXJlOiB7IHRyYWRlX2lkOiBzd2FwSWQsIHN0YXR1czogU3dhcFN0YXR1cy5QRU5ESU5HIH0sIHRyYW5zYWN0aW9uOiB0IH1cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVN3YXAgPSBhd2FpdCBkYi5zd2Fwcy51cGRhdGUoXHJcbiAgICAgICAgICAgICAgICB7IHN0YXR1czogU3dhcFN0YXR1cy5DQU5DRUxMRUQgfSxcclxuICAgICAgICAgICAgICAgIHsgd2hlcmU6IHsgaWQ6IHN3YXBJZCB9LCB0cmFuc2FjdGlvbjogdCB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4geyB1cGRhdGVPZmZlcnMsIHVwZGF0ZVN3YXAgfTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImNsb3NlX29wZW5fc3dhcF9vZmZlcnNcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3BvbnNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGhhbmRsZUVycm9yKHJlcywgZXJyLCBcImNsb3NlX29wZW5fc3dhcF9vZmZlcnMgZXJyb3JcIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBhY2NlcHRPcGVuU3dhcCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IHRyYWRlX2lkLCBvcGVuX3RyYWRlX2lkLCBhY2NlcHRfc2lnbiB9ID0gcmVxLmJvZHk7IC8vYWNjZXB0IG9mZmVyIGJhc2VkIG9uIHRyYWRlX2lkIGFuZCByZW1vdmUgYWxsIG90aGVyIG9wZW5fdHJhZGVfaWQnc1xyXG4gICAgICAgIGNvbnN0IHN3YXAgPSBhd2FpdCBkYi5zd2Fwcy5maW5kQnlQayhzd2FwSWQpO1xyXG4gICAgICAgIGlmICghc3dhcCB8fCBzd2FwLnN0YXR1cyAhPT0gU3dhcFN0YXR1cy5QRU5ESU5HKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSW52YWxpZCBzd2FwIElEIG9yIHN3YXAgaXMgbm90IGluIGEgdmFsaWQgc3RhdGUgZm9yIGFjY2VwdGFuY2VcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGIuc2VxdWVsaXplLnRyYW5zYWN0aW9uKGFzeW5jICh0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVN3YXAgPSBhd2FpdCBzd2FwLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBhY2NlcHRfYWRkcmVzczogYWNjZXB0X2FkZHJlc3MudHJpbSgpLFxyXG4gICAgICAgICAgICAgICAgYWNjZXB0X3NpZ246IGFjY2VwdF9zaWduLnRyaW0oKSxcclxuICAgICAgICAgICAgICAgIHN0YXR1czogU3dhcFN0YXR1cy5DT01QTEVURURcclxuICAgICAgICAgICAgfSwgeyB0cmFuc2FjdGlvbjogdCB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRlY2xpbmVPZmZlcnMgPSBhd2FpdCBkYi5zd2Fwcy51cGRhdGUoXHJcbiAgICAgICAgICAgICAgICB7IHN0YXR1czogU3dhcFN0YXR1cy5ERUNMSU5FRCB9LFxyXG4gICAgICAgICAgICAgICAgeyB3aGVyZTogeyB0cmFkZV9pZDogc3dhcC50cmFkZV9pZCwgc3RhdHVzOiBTd2FwU3RhdHVzLlBFTkRJTkcgfSwgdHJhbnNhY3Rpb246IHQgfVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHsgdXBkYXRlU3dhcCwgZGVjbGluZU9mZmVycyB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiYWNjZXB0X29wZW5fc3dhcFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgaGFuZGxlRXJyb3IocmVzLCBlcnIsIFwiYWNjZXB0X29wZW5fc3dhcCBlcnJvclwiKTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBvcGVuU3dhcENvbnRyb2xsZXIgPSB7XHJcbiAgICBjcmVhdGVPcGVuU3dhcCxcclxuICAgIGdldE9wZW5Td2FwTGlzdCxcclxuICAgIHByb3Bvc2VPcGVuU3dhcCxcclxuICAgIGNsb3NlT3BlblN3YXBPZmZlcnMsXHJcbiAgICBhY2NlcHRPcGVuU3dhcCxcclxuICAgIGdldFN3YXBQcmVmZXJlbmNlc1xyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUF3RTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFeEUsTUFBTUEsV0FBVyxHQUFHLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxPQUFPLEtBQUs7RUFDdkNDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDSCxHQUFHLENBQUM7RUFDbEJELEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7SUFDakJDLE9BQU8sRUFBRSxLQUFLO0lBQ2RMLE9BQU8sRUFBRyxHQUFFQSxPQUFRLE9BQU1ELEdBQUcsQ0FBQ0MsT0FBTyxJQUFJRCxHQUFJO0VBQ2pELENBQUMsQ0FBQztBQUNOLENBQUM7QUFFRCxNQUFNTyxjQUFjLEdBQUcsT0FBT0MsR0FBRyxFQUFFVCxHQUFHLEtBQUs7RUFDdkMsSUFBSTtJQUNBLE1BQU1VLFFBQVEsR0FBR0QsR0FBRyxDQUFDRSxJQUFJLENBQUNELFFBQVE7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","map":{"version":3,"names":["handleError","res","err","message","console","error","status","json","success","createOpenSwap","req","metadata","body","swap_preferences","log","response","db","swaps","create","JSON","stringify","init_address","trim","swap_mode","open_trade_id","trading_chain","SwapStatus","PENDING","offer_type","OfferType","PRIMARY","trade_id","data","getOpenSwapList","findAll","where","Op","and","SwapMode","OPEN","accept_address","formattedResponse","map","swap","swapJSON","toJSON","formattedSwap","tryParseJSON","created_at","createdAt","updated_at","updatedAt","getSwapPreferences","query","jsonString","parsed","parse","proposeOpenSwap","init_sign","findByPk","swapId","closeOpenSwapOffers","sequelize","transaction","t","updateOffers","update","DECLINED","updateSwap","CANCELLED","id","acceptOpenSwap","accept_sign","COMPLETED","declineOffers","openSwapController"],"sourceRoot":"C:\\Users\\Komal Syed\\LatestSajjadCode\\Backend-v2\\src\\api\\controllers\\","sources":["openSwapController.js"],"sourcesContent":["// openSwapController.js\r\nimport db from \"../../database/models\";\r\nimport { Op } from \"sequelize\";\r\nimport { OfferType, SwapMode, SwapStatus } from '../utils/constants.js';\r\n\r\nconst handleError = (res, err, message) => {\r\n    console.error(err);\r\n    res.status(500).json({\r\n        success: false,\r\n        message: `${message} -> ${err.message || err}`\r\n    });\r\n};\r\n\r\nconst createOpenSwap = async (req, res) => {\r\n    try {\r\n        const metadata = req.body.metadata;\r\n        const swap_preferences = req.body.swap_preferences;\r\n        console.log(metadata);\r\n        const response = await db.swaps.create({\r\n            metadata: JSON.stringify(metadata),\r\n            init_address: req.body.init_address.trim(),\r\n            swap_mode: req.body.swap_mode,\r\n            open_trade_id: req.body.open_trade_id,\r\n            trading_chain: req.body.trading_chain,\r\n            swap_preferences: JSON.stringify(swap_preferences),\r\n\r\n            status: SwapStatus.PENDING,\r\n            offer_type: OfferType.PRIMARY,\r\n            trade_id: null,\r\n\r\n        });\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"create_open_swap\",\r\n                data: response\r\n            });\r\n        }\r\n    } catch (err) {\r\n        handleError(res, err, \"create_open_swap error\");\r\n    }\r\n};\r\n\r\nconst getOpenSwapList = async (req, res) => {\r\n    try {\r\n        const response = await db.swaps.findAll({\r\n            where: {\r\n                [Op.and]: [\r\n                    { status: SwapStatus.PENDING },\r\n                    { swap_mode: SwapMode.OPEN },\r\n                    { accept_address: null },\r\n                ]\r\n            }\r\n        });\r\n\r\n        // Convert metadata and swap_preferences to JSON if they are valid JSON strings\r\n        const formattedResponse = response.map(swap => {\r\n            const swapJSON = swap.toJSON();\r\n            const formattedSwap = {\r\n                ...swapJSON,\r\n                metadata: tryParseJSON(swapJSON.metadata),\r\n                swap_preferences: tryParseJSON(swapJSON.swap_preferences),\r\n                created_at: swapJSON.createdAt,\r\n                updated_at: swapJSON.updatedAt,\r\n            };\r\n            // Remove original createdAt and updatedAt fields\r\n            delete formattedSwap.createdAt;\r\n            delete formattedSwap.updatedAt;\r\n            return formattedSwap;\r\n        });\r\n\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"get_open_swap_list\",\r\n                data: formattedResponse\r\n            });\r\n        }\r\n    } catch (err) {\r\n        handleError(res, err, \"get_open_swap_list error\");\r\n    }\r\n};\r\n\r\n\r\nconst getSwapPreferences = async (req, res) => {\r\n    try {\r\n        const response = await db.swaps.findAll({\r\n            where: {\r\n                [Op.and]: [\r\n                    { swap_mode: SwapMode.OPEN },\r\n                    { open_trade_id: req.query.open_trade_id },\r\n                ]\r\n            }\r\n        });\r\n\r\n        // Convert metadata and swap_preferences to JSON if they are valid JSON strings\r\n        const formattedResponse = response.map(swap => {\r\n            const swapJSON = swap.toJSON();\r\n            const formattedSwap = {\r\n                 \r\n                \r\n                swap_preferences: tryParseJSON(swapJSON.swap_preferences),\r\n                \r\n            };\r\n            // Remove original createdAt and updatedAt fields\r\n             \r\n            return formattedSwap;\r\n        });\r\n        \r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"get_open_swap_preference_against_id\",\r\n                data: formattedResponse\r\n            });\r\n        }\r\n    } catch (err) {\r\n        handleError(res, err, \"get_open_swap_preference_against_id error\");\r\n    }\r\n};\r\n\r\n\r\n// Helper function to parse JSON safely\r\nfunction tryParseJSON(jsonString) {\r\n    try {\r\n        const parsed = JSON.parse(jsonString);\r\n        return parsed;\r\n    } catch (err) {\r\n        return jsonString; // Return original string if parsing fails\r\n    }\r\n}\r\n\r\n\r\nconst proposeOpenSwap = async (req, res) => {\r\n    try {\r\n        const { trade_id, metadata, init_address, init_sign, open_trade_id } = req.body;  //trade_id //metadata is accept_meta // open_trade_id\r\n\r\n        const swap = await db.swaps.findByPk(swapId);\r\n        if (!swap || swap.status !== SwapStatus.PENDING) {\r\n            return res.status(400).json({\r\n                success: false,\r\n                message: \"Invalid swap ID or swap is not open\"\r\n            });\r\n        }\r\n\r\n        const response = await db.swaps.create({\r\n            metadata: JSON.stringify(metadata),\r\n            status: SwapStatus.PENDING,\r\n            init_address: init_address.trim(),\r\n            init_sign: init_sign.trim(),\r\n            accept_address: accept_address.trim(), // init_address will be reterieved from db , against open_trade_id\r\n            trade_id: trade_id,\r\n\r\n            offer_type: OfferType.PRIMARY,\r\n\r\n        });\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"propose_open_swap\",\r\n                data: response\r\n            });\r\n        }\r\n    } catch (err) {\r\n        handleError(res, err, \"propose_open_swap error\");\r\n    }\r\n};\r\n\r\nconst closeOpenSwapOffers = async (req, res) => {\r\n    try {\r\n        const { open_trade_id } = req.body; // delete all offers based on open_trade_id\r\n\r\n        const response = await db.sequelize.transaction(async (t) => {\r\n            const updateOffers = await db.swaps.update(\r\n                { status: SwapStatus.DECLINED },\r\n                { where: { trade_id: swapId, status: SwapStatus.PENDING }, transaction: t }\r\n            );\r\n\r\n            const updateSwap = await db.swaps.update(\r\n                { status: SwapStatus.CANCELLED },\r\n                { where: { id: swapId }, transaction: t }\r\n            );\r\n\r\n            return { updateOffers, updateSwap };\r\n        });\r\n\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"close_open_swap_offers\",\r\n                data: response\r\n            });\r\n        }\r\n    } catch (err) {\r\n        handleError(res, err, \"close_open_swap_offers error\");\r\n    }\r\n};\r\n\r\nconst acceptOpenSwap = async (req, res) => {\r\n    try {\r\n        const { trade_id, open_trade_id, accept_sign } = req.body; //accept offer based on trade_id and remove all other open_trade_id's\r\n        const swap = await db.swaps.findByPk(swapId);\r\n        if (!swap || swap.status !== SwapStatus.PENDING) {\r\n            return res.status(400).json({\r\n                success: false,\r\n                message: \"Invalid swap ID or swap is not in a valid state for acceptance\"\r\n            });\r\n        }\r\n\r\n        const response = await db.sequelize.transaction(async (t) => {\r\n            const updateSwap = await swap.update({\r\n                accept_address: accept_address.trim(),\r\n                accept_sign: accept_sign.trim(),\r\n                status: SwapStatus.COMPLETED\r\n            }, { transaction: t });\r\n\r\n            const declineOffers = await db.swaps.update(\r\n                { status: SwapStatus.DECLINED },\r\n                { where: { trade_id: swap.trade_id, status: SwapStatus.PENDING }, transaction: t }\r\n            );\r\n\r\n            return { updateSwap, declineOffers };\r\n        });\r\n\r\n        if (response) {\r\n            res.json({\r\n                success: true,\r\n                message: \"accept_open_swap\",\r\n                data: response\r\n            });\r\n        }\r\n    } catch (err) {\r\n        handleError(res, err, \"accept_open_swap error\");\r\n    }\r\n};\r\n\r\nexport const openSwapController = {\r\n    createOpenSwap,\r\n    getOpenSwapList,\r\n    proposeOpenSwap,\r\n    closeOpenSwapOffers,\r\n    acceptOpenSwap,\r\n    getSwapPreferences\r\n};\r\n"],"mappings":"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"}},"mtime":1718830768231}}